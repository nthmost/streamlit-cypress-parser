yarn run v1.19.1
$ NODE_OPTIONS=--max_old_space_size=4096 start-server-and-test start http://localhost:3000 cy:run-all
starting server using command "npm run start"
and when url "http://localhost:3000" is responding
running tests using command "npm run cy:run-all"

> streamlit-browser@0.49.0 start /home/circleci/repo/frontend
> export NODE_OPTIONS=--max_old_space_size=4096 && ./scripts/preload.sh && craco start

--2019-11-08 22:39:49--  https://unpkg.com/viz.js@1.8.0/viz.js
Resolving unpkg.com (unpkg.com)... 104.16.124.175, 104.16.125.175, 104.16.122.175, ...
Connecting to unpkg.com (unpkg.com)|104.16.124.175|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: unspecified [application/javascript]
Saving to: ‘viz-1.8.0.min.js’

viz-1.8.0.min.js        [<=>                 ]       0  --.-KB/s               viz-1.8.0.min.js        [ <=>                ]   2.29M  --.-KB/s    in 0.02s   

2019-11-08 22:39:49 (125 MB/s) - ‘viz-1.8.0.min.js’ saved [2396782]

Starting the development server...

[hardsource:1ec7b6f9] Writing new cache 1ec7b6f9...
[hardsource:1ec7b6f9] Tracking node dependencies with: yarn.lock.
=============

WARNING: You are currently running a version of TypeScript which is not officially supported by typescript-estree.

You may find that it works just fine, or you may not.

SUPPORTED TYPESCRIPT VERSIONS: >=3.2.1 <3.6.0

YOUR TYPESCRIPT VERSION: 3.6.2

Please only submit bug reports when using the officially supported version.

=============
Compiled with warnings.

./node_modules/bokehjs/build/js/lib/models/textures/canvas_texture.js
Critical dependency: require function is used in a way in which dependencies cannot be statically extracted

./node_modules/bokehjs/build/js/lib/models/transforms/customjs_transform.js
Critical dependency: require function is used in a way in which dependencies cannot be statically extracted

./node_modules/bokehjs/build/js/lib/models/transforms/customjs_transform.js
Critical dependency: require function is used in a way in which dependencies cannot be statically extracted

./node_modules/bokehjs/build/js/lib/models/callbacks/customjs.js
Critical dependency: require function is used in a way in which dependencies cannot be statically extracted

./node_modules/bokehjs/build/js/lib/models/filters/customjs_filter.js
Critical dependency: require function is used in a way in which dependencies cannot be statically extracted

./node_modules/bokehjs/build/js/lib/models/formatters/func_tick_formatter.js
Critical dependency: require function is used in a way in which dependencies cannot be statically extracted

./node_modules/bokehjs/build/js/lib/models/tools/inspectors/customjs_hover.js
Critical dependency: require function is used in a way in which dependencies cannot be statically extracted

Search for the keywords to learn more about each warning.
To ignore, add // eslint-disable-next-line to the line before.


> streamlit-browser@0.49.0 cy:run-all /home/circleci/repo/frontend
> ../scripts/run_e2e_tests.sh -a true -c .. -r

rm: cannot remove 'cypress/mochawesome/*': No such file or directory
rm: cannot remove 'mochawesome.json': No such file or directory
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/add_rows.spec.ts
It looks like this is your first time using Cypress: 3.4.1

[22:42:10]  Verifying Cypress can run /home/circleci/.cache/Cypress/3.4.1/Cypress [started]
2019-11-08T22:42:11Z.390 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/add_rows.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000

/home/circleci/repo/venv/lib/python3.7/site-packages/altair/utils/core.py:108: UserWarning: I don't know how to infer vegalite type from 'empty'.  Defaulting to nominal.
  "Defaulting to nominal.".format(typ))
Dataframes have incompatible shapes
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
[22:42:12]  Verifying Cypress can run /home/circleci/.cache/Cypress/3.4.1/Cypress [completed]

Opening Cypress...

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (add_rows.spec.ts)                                                         │
  │ Searched:   ../e2e/specs/add_rows.spec.ts                                                      │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: add_rows.spec.ts...                                                             (1 of 1) 


  st.add_rows
2019-11-08T22:42:23Z.596 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.63ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fb4e83f2050>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ works for all elements that support it (3378ms)
    ✓ raises an exception when the shapes don't match (121ms)
    ✓ correctly adds rows to tables and dataframes (90ms)
    1) correctly adds rows to charts


  3 passing (7s)
  1 failing

  1) st.add_rows
       correctly adds rows to charts:
     Error: Image was 4.142961947870382% different from saved snapshot with 5986 different pixels.
See diff for details: /home/circleci/repo/frontend/cypress/snapshots/linux/2x/add_rows.spec.ts/__diff_output__/stVegaLiteChart-0.diff.png
      at Context.cy.task.then (http://localhost:3000/__cypress/tests?p=cypress/support/index.js-448:2429:17)



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome.json


  (Results)

  ┌────────────────────────────────┐
  │ Tests:        4                │
  │ Passing:      3                │
  │ Failing:      1                │
  │ Pending:      0                │
  │ Skipped:      0                │
  │ Screenshots:  2                │
  │ Video:        true             │
  │ Duration:     6 seconds        │
  │ Spec Ran:     add_rows.spec.ts │
  └────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/add_rows.spec.ts/__diff_output__/stVegaLiteChart-0.diff.png (698x207)
  - /home/circleci/repo/frontend/mochawesome-report/assets/add_rows.spec.ts/st.add_rows -- correctly adds rows to charts (failed).png (1280x720)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/add_rows.spec.ts.mp4 (5 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ add_rows.spec.ts                          00:06        4        3        1        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:06        4        3        1        -        -  

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/altair_chart.spec.ts
2019-11-08T22:42:35Z.582 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/altair_chart.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (altair_chart.spec.ts)                                                     │
  │ Searched:   ../e2e/specs/altair_chart.spec.ts                                                  │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: altair_chart.spec.ts...                                                         (1 of 1) 


  st.altair_chart
2019-11-08T22:42:46Z.026 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.91ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fd4a030bd10>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays an altair chart (2489ms)


  1 passing (4s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_001.json


  (Results)

  ┌────────────────────────────────────┐
  │ Tests:        1                    │
  │ Passing:      1                    │
  │ Failing:      0                    │
  │ Pending:      0                    │
  │ Skipped:      0                    │
  │ Screenshots:  0                    │
  │ Video:        true                 │
  │ Duration:     3 seconds            │
  │ Spec Ran:     altair_chart.spec.ts │
  └────────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/altair_chart.spec.ts.mp4 (1 second)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ altair_chart.spec.ts                      00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/area_chart.spec.ts
2019-11-08T22:42:50Z.317 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/area_chart.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (area_chart.spec.ts)                                                       │
  │ Searched:   ../e2e/specs/area_chart.spec.ts                                                    │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: area_chart.spec.ts...                                                           (1 of 1) 


  st.area_chart
2019-11-08T22:42:59Z.797 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.78ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f7781d411d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays an area chart (2334ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_002.json


  (Results)

  ┌──────────────────────────────────┐
  │ Tests:        1                  │
  │ Passing:      1                  │
  │ Failing:      0                  │
  │ Pending:      0                  │
  │ Skipped:      0                  │
  │ Screenshots:  0                  │
  │ Video:        true               │
  │ Duration:     3 seconds          │
  │ Spec Ran:     area_chart.spec.ts │
  └──────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/area_chart.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ area_chart.spec.ts                        00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/audio.spec.ts
2019-11-08T22:43:03Z.616 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/audio.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
Starting new HTTPS connection (1): www.w3schools.com:443
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000

https://www.w3schools.com:443 "GET /html/horse.ogg HTTP/1.1" 200 13889
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (audio.spec.ts)                                                            │
  │ Searched:   ../e2e/specs/audio.spec.ts                                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: audio.spec.ts...                                                                (1 of 1) 


  st.audio
2019-11-08T22:43:13Z.014 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.79ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f0351fc5110>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Caching message (hash=b230e4994dbfa5408532fcac61f432fb)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
ALSA lib confmisc.c:767:(parse_card) cannot find card '0'
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_card_driver returned error: No such file or directory
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_concat returned error: No such file or directory
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory
ALSA lib conf.c:5007:(snd_config_expand) Evaluate error: No such file or directory
ALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM default
ALSA lib confmisc.c:767:(parse_card) cannot find card '0'
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_card_driver returned error: No such file or directory
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_concat returned error: No such file or directory
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory
ALSA lib conf.c:5007:(snd_config_expand) Evaluate error: No such file or directory
ALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM default
    ✓ displays an audio player (2074ms)
    ✓ has controls (132ms)
    ✓ has src (132ms)
    ✓ has audio


  4 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_003.json


  (Results)

  ┌─────────────────────────────┐
  │ Tests:        4             │
  │ Passing:      4             │
  │ Failing:      0             │
  │ Pending:      0             │
  │ Skipped:      0             │
  │ Screenshots:  0             │
  │ Video:        true          │
  │ Duration:     3 seconds     │
  │ Spec Ran:     audio.spec.ts │
  └─────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/audio.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ audio.spec.ts                             00:03        4        4        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        4        4        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/balloons.spec.ts
2019-11-08T22:43:16Z.692 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/balloons.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (balloons.spec.ts)                                                         │
  │ Searched:   ../e2e/specs/balloons.spec.ts                                                      │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: balloons.spec.ts...                                                             (1 of 1) 


  st.balloons
2019-11-08T22:43:26Z.889 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.61ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fa1b6be5290>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays balloons (2176ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_004.json


  (Results)

  ┌────────────────────────────────┐
  │ Tests:        1                │
  │ Passing:      1                │
  │ Failing:      0                │
  │ Pending:      0                │
  │ Skipped:      0                │
  │ Screenshots:  0                │
  │ Video:        true             │
  │ Duration:     3 seconds        │
  │ Spec Ran:     balloons.spec.ts │
  └────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/balloons.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ balloons.spec.ts                          00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/bar_chart.spec.ts
2019-11-08T22:43:30Z.422 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/bar_chart.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (bar_chart.spec.ts)                                                        │
  │ Searched:   ../e2e/specs/bar_chart.spec.ts                                                     │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: bar_chart.spec.ts...                                                            (1 of 1) 


  st.bar_chart
2019-11-08T22:43:40Z.338 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.96ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fcc382a2590>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a bar chart (2555ms)


  1 passing (4s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_005.json


  (Results)

  ┌─────────────────────────────────┐
  │ Tests:        1                 │
  │ Passing:      1                 │
  │ Failing:      0                 │
  │ Pending:      0                 │
  │ Skipped:      0                 │
  │ Screenshots:  0                 │
  │ Video:        true              │
  │ Duration:     3 seconds         │
  │ Spec Ran:     bar_chart.spec.ts │
  └─────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/bar_chart.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ bar_chart.spec.ts                         00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/bokeh_chart.spec.ts
2019-11-08T22:43:44Z.207 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/bokeh_chart.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (bokeh_chart.spec.ts)                                                      │
  │ Searched:   ../e2e/specs/bokeh_chart.spec.ts                                                   │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: bokeh_chart.spec.ts...                                                          (1 of 1) 


  st.bokeh_chart
2019-11-08T22:43:54Z.691 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.78ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f65a98b3290>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a bokeh chart (2930ms)


  1 passing (4s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_006.json


  (Results)

  ┌───────────────────────────────────┐
  │ Tests:        1                   │
  │ Passing:      1                   │
  │ Failing:      0                   │
  │ Pending:      0                   │
  │ Skipped:      0                   │
  │ Screenshots:  0                   │
  │ Video:        true                │
  │ Duration:     4 seconds           │
  │ Spec Ran:     bokeh_chart.spec.ts │
  └───────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/bokeh_chart.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ bokeh_chart.spec.ts                       00:04        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:04        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/button.spec.ts
2019-11-08T22:43:58Z.738 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/button.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (button.spec.ts)                                                           │
  │ Searched:   ../e2e/specs/button.spec.ts                                                        │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: button.spec.ts...                                                               (1 of 1) 


  st.button
2019-11-08T22:44:08Z.656 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.66ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fb39abfa410>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ shows widget correctly (3016ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:44:11Z.023 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.48ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fb39abfaa10>
Watcher created for /home/circleci/repo/e2e/scripts/button.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ has correct default value (1386ms)
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:44:11Z.821 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.45ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fb39ac0c450>
Watcher created for /home/circleci/repo/e2e/scripts/button.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-5023299351203240705"
    bool_value: false
  }
  widgets {
    id: "-8209770664834364215"
    trigger_value: true
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-5023299351203240705"
  bool_value: false
}
widgets {
  id: "-8209770664834364215"
  trigger_value: true
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ sets value correctly when user clicks (1031ms)
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:44:12Z.863 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.58ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fb39ac0c950>
Watcher created for /home/circleci/repo/e2e/scripts/button.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-5023299351203240705"
    bool_value: false
  }
  widgets {
    id: "-8209770664834364215"
    trigger_value: true
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-5023299351203240705"
  bool_value: false
}
widgets {
  id: "-8209770664834364215"
  trigger_value: true
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Received the following back message:
update_widgets {
  widgets {
    id: "-5023299351203240705"
    bool_value: false
  }
  widgets {
    id: "-8209770664834364215"
    trigger_value: true
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-5023299351203240705"
  bool_value: false
}
widgets {
  id: "-8209770664834364215"
  trigger_value: true
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
    ✓ doesn't reset the value when user clicks again (1059ms)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:44:13Z.845 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.63ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fb39ac1add0>
Watcher created for /home/circleci/repo/e2e/scripts/button.py
ReportSession initialized (id=4)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-5023299351203240705"
    bool_value: false
  }
  widgets {
    id: "-8209770664834364215"
    trigger_value: true
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-5023299351203240705"
  bool_value: false
}
widgets {
  id: "-8209770664834364215"
  trigger_value: true
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-5023299351203240705"
    bool_value: true
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-5023299351203240705"
  bool_value: true
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ is reset when user changes another widget (1176ms)


  5 passing (9s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_007.json


  (Results)

  ┌──────────────────────────────┐
  │ Tests:        5              │
  │ Passing:      5              │
  │ Failing:      0              │
  │ Pending:      0              │
  │ Skipped:      0              │
  │ Screenshots:  1              │
  │ Video:        true           │
  │ Duration:     8 seconds      │
  │ Spec Ran:     button.spec.ts │
  └──────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/button.spec.ts/button-widget.snap.png (698x29)

Shutting down (id=4)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/button.spec.ts.mp4 (1 second)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ button.spec.ts                            00:08        5        5        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:08        5        5        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/checkbox.spec.ts
2019-11-08T22:44:19Z.087 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/checkbox.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (checkbox.spec.ts)                                                         │
  │ Searched:   ../e2e/specs/checkbox.spec.ts                                                      │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: checkbox.spec.ts...                                                             (1 of 1) 


  st.checkbox
2019-11-08T22:44:30Z.134 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.68ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fad6034e410>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ shows widget correctly (4113ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:44:33Z.445 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.61ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fad6034ea50>
Watcher created for /home/circleci/repo/e2e/scripts/checkbox.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ has correct initial values (1394ms)
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:44:34Z.261 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.57ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fad6035e950>
Watcher created for /home/circleci/repo/e2e/scripts/checkbox.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-2364465274010418107"
    bool_value: false
  }
  widgets {
    id: "-1423852230148857791"
    bool_value: false
  }
  widgets {
    id: "1615482606786496083"
    bool_value: false
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-2364465274010418107"
  bool_value: false
}
widgets {
  id: "-1423852230148857791"
  bool_value: false
}
widgets {
  id: "1615482606786496083"
  bool_value: false
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Received the following back message:
update_widgets {
  widgets {
    id: "-2364465274010418107"
    bool_value: false
  }
  widgets {
    id: "-1423852230148857791"
    bool_value: true
  }
  widgets {
    id: "1615482606786496083"
    bool_value: false
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-2364465274010418107"
  bool_value: false
}
widgets {
  id: "-1423852230148857791"
  bool_value: true
}
widgets {
  id: "1615482606786496083"
  bool_value: false
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Received the following back message:
update_widgets {
  widgets {
    id: "-2364465274010418107"
    bool_value: false
  }
  widgets {
    id: "-1423852230148857791"
    bool_value: true
  }
  widgets {
    id: "1615482606786496083"
    bool_value: true
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-2364465274010418107"
  bool_value: false
}
widgets {
  id: "-1423852230148857791"
  bool_value: true
}
widgets {
  id: "1615482606786496083"
  bool_value: true
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ sets value correctly when user clicks (1260ms)


  3 passing (8s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_008.json


  (Results)

  ┌────────────────────────────────┐
  │ Tests:        3                │
  │ Passing:      3                │
  │ Failing:      0                │
  │ Pending:      0                │
  │ Skipped:      0                │
  │ Screenshots:  3                │
  │ Video:        true             │
  │ Duration:     7 seconds        │
  │ Spec Ran:     checkbox.spec.ts │
  └────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/checkbox.spec.ts/checkbox0.snap.png (698x30)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/checkbox.spec.ts/checkbox1.snap.png (698x30)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/checkbox.spec.ts/checkbox2.snap.png (698x30)

Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/checkbox.spec.ts.mp4 (1 second)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ checkbox.spec.ts                          00:07        3        3        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:07        3        3        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/code.spec.ts
2019-11-08T22:44:40Z.064 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/code.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (code.spec.ts)                                                             │
  │ Searched:   ../e2e/specs/code.spec.ts                                                          │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: code.spec.ts...                                                                 (1 of 1) 


  st.code
2019-11-08T22:44:50Z.745 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.76ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f4878204c50>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a code block (2021ms)


  1 passing (4s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_009.json


  (Results)

  ┌────────────────────────────┐
  │ Tests:        1            │
  │ Passing:      1            │
  │ Failing:      0            │
  │ Pending:      0            │
  │ Skipped:      0            │
  │ Screenshots:  0            │
  │ Video:        true         │
  │ Duration:     3 seconds    │
  │ Spec Ran:     code.spec.ts │
  └────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/code.spec.ts.mp4 (2 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ code.spec.ts                              00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/dataframe.spec.ts
2019-11-08T22:44:55Z.896 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/dataframe.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000

Loaded backend agg version unknown.
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (dataframe.spec.ts)                                                        │
  │ Searched:   ../e2e/specs/dataframe.spec.ts                                                     │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: dataframe.spec.ts...                                                            (1 of 1) 


  st.dataframe
2019-11-08T22:45:05Z.959 INFO    tornado.access: 101 GET /stream (127.0.0.1) 1.11ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f3f9dd4f9d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a pandas dataframe (2199ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:45:07Z.491 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.66ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f3f9dd45150>
Watcher created for /home/circleci/repo/e2e/scripts/dataframe.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ checks number of cells (1730ms)
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:45:08Z.688 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.48ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f3f9dd45d10>
Watcher created for /home/circleci/repo/e2e/scripts/dataframe.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ contains all numbers from 0..99 (1507ms)
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:45:10Z.342 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.70ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f3f9dcde290>
Watcher created for /home/circleci/repo/e2e/scripts/dataframe.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ highlights the first cell (1009ms)
Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:45:11Z.350 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.45ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f3f9dd53890>
Watcher created for /home/circleci/repo/e2e/scripts/dataframe.py
ReportSession initialized (id=4)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ looks the same (854ms)


  5 passing (9s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_010.json


  (Results)

  ┌─────────────────────────────────┐
  │ Tests:        5                 │
  │ Passing:      5                 │
  │ Failing:      0                 │
  │ Pending:      0                 │
  │ Skipped:      0                 │
  │ Screenshots:  0                 │
  │ Video:        true              │
  │ Duration:     8 seconds         │
  │ Spec Ran:     dataframe.spec.ts │
  └─────────────────────────────────┘

Shutting down (id=4)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/dataframe.spec.ts.mp4 (2 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ dataframe.spec.ts                         00:08        5        5        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:08        5        5        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/dataframe_dimension_spec.spec.ts
2019-11-08T22:45:17Z.447 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/dataframe_dimension_spec.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
  You can now view your Streamlit app in your browser.
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (dataframe_dimension_spec.spec.ts)                                         │
  │ Searched:   ../e2e/specs/dataframe_dimension_spec.spec.ts                                      │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: dataframe_dimension_spec.spec.ts...                                             (1 of 1) 


  Dataframes with different sizes
2019-11-08T22:45:27Z.057 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.64ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f917e987d50>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Caching message (hash=b293cdcb186c38bdf1d59a036d7005d5)
Sending cached message ref (hash=b293cdcb186c38bdf1d59a036d7005d5)
Caching message (hash=b293cdcb186c38bdf1d59a036d7005d5)
Sending cached message ref (hash=b293cdcb186c38bdf1d59a036d7005d5)
Caching message (hash=b293cdcb186c38bdf1d59a036d7005d5)
Sending cached message ref (hash=b293cdcb186c38bdf1d59a036d7005d5)
Caching message (hash=b293cdcb186c38bdf1d59a036d7005d5)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ should show as expected (3424ms)


  1 passing (5s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_011.json


  (Results)

  ┌────────────────────────────────────────────────┐
  │ Tests:        1                                │
  │ Passing:      1                                │
  │ Failing:      0                                │
  │ Pending:      0                                │
  │ Skipped:      0                                │
  │ Screenshots:  0                                │
  │ Video:        true                             │
  │ Duration:     4 seconds                        │
  │ Spec Ran:     dataframe_dimension_spec.spec.ts │
  └────────────────────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/dataframe_dimension_spec.spec.ts.mp4 (2 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ dataframe_dimension_spec.spec.ts          00:04        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:04        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/dataframe_sizes.spec.ts
2019-11-08T22:45:33Z.809 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/dataframe_sizes.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (dataframe_sizes.spec.ts)                                                  │
  │ Searched:   ../e2e/specs/dataframe_sizes.spec.ts                                               │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: dataframe_sizes.spec.ts...                                                      (1 of 1) 


  Dataframes
2019-11-08T22:45:43Z.766 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.65ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f62b1c8b490>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ show a tooltip for each cell (2696ms)
    ✓ have consistent st.dataframe visuals (5107ms)
    ✓ have consistent st.table visuals (4725ms)


  3 passing (14s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_012.json


  (Results)

  ┌───────────────────────────────────────┐
  │ Tests:        3                       │
  │ Passing:      3                       │
  │ Failing:      0                       │
  │ Pending:      0                       │
  │ Skipped:      0                       │
  │ Screenshots:  18                      │
  │ Video:        true                    │
  │ Duration:     13 seconds              │
  │ Spec Ran:     dataframe_sizes.spec.ts │
  └───────────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/dataframe-visuals0.snap.png (698x102)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/dataframe-visuals1.snap.png (434x102)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/dataframe-visuals2.snap.png (338x77)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/dataframe-visuals3.snap.png (410x77)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/dataframe-visuals4.snap.png (698x77)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/dataframe-visuals5.snap.png (698x77)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/dataframe-visuals6.snap.png (346x77)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/dataframe-visuals7.snap.png (418x77)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/dataframe-visuals8.snap.png (698x77)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/dataframe-visuals9.snap.png (698x77)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/table-visuals0.snap.png (682x124)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/table-visuals1.snap.png (682x124)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/table-visuals2.snap.png (682x124)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/table-visuals3.snap.png (984x124)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/table-visuals4.snap.png (682x124)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/table-visuals5.snap.png (682x124)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/table-visuals6.snap.png (682x124)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/table-visuals7.snap.png (984x124)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/dataframe_sizes.spec.ts.mp4 (2 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ dataframe_sizes.spec.ts                   00:13        3        3        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:13        3        3        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/date_input.spec.ts
2019-11-08T22:45:59Z.989 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/date_input.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (date_input.spec.ts)                                                       │
  │ Searched:   ../e2e/specs/date_input.spec.ts                                                    │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: date_input.spec.ts...                                                           (1 of 1) 


  st.date_input
2019-11-08T22:46:11Z.104 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.78ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f5d03f83710>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ shows labels (2676ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:46:12Z.938 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.46ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f5d03f836d0>
Watcher created for /home/circleci/repo/e2e/scripts/date_input.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ has correct values (1396ms)
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:46:13Z.996 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.71ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f5d039128d0>
Watcher created for /home/circleci/repo/e2e/scripts/date_input.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "1778513085392340869"
    string_value: "1970/01/02"
  }
  widgets {
    id: "-354831707425693246"
    string_value: "2019/07/06"
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "1778513085392340869"
  string_value: "1970/01/02"
}
widgets {
  id: "-354831707425693246"
  string_value: "2019/07/06"
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ handles value changes (1656ms)


  3 passing (7s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_013.json


  (Results)

  ┌──────────────────────────────────┐
  │ Tests:        3                  │
  │ Passing:      3                  │
  │ Failing:      0                  │
  │ Pending:      0                  │
  │ Skipped:      0                  │
  │ Screenshots:  0                  │
  │ Video:        true               │
  │ Duration:     7 seconds          │
  │ Spec Ran:     date_input.spec.ts │
  └──────────────────────────────────┘

Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/date_input.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ date_input.spec.ts                        00:07        3        3        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:07        3        3        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/deck_gl_chart.spec.ts
2019-11-08T22:46:18Z.568 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/deck_gl_chart.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (deck_gl_chart.spec.ts)                                                    │
  │ Searched:   ../e2e/specs/deck_gl_chart.spec.ts                                                 │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: deck_gl_chart.spec.ts...                                                        (1 of 1) 


  st.deck_gl_chart
2019-11-08T22:46:30Z.049 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.80ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fec0f2535d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Caching message (hash=29a79127980d139b35057e8b2e258aa4)
Caching message (hash=c326bd4eb6aec3767b16d0d56f1cf86d)
Caching message (hash=bae4a3e7f82b0fca239469589aefc841)
Sending cached message ref (hash=bae4a3e7f82b0fca239469589aefc841)
Caching message (hash=bae4a3e7f82b0fca239469589aefc841)
Caching message (hash=7bf9f918c8fedea2fb00a1f2eafff6b2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
Caching message (hash=f8159467fe1555450318d2006ac9ce8d)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ displays 2 deck.gl charts (4186ms)


  1 passing (6s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_014.json


  (Results)

  ┌─────────────────────────────────────┐
  │ Tests:        1                     │
  │ Passing:      1                     │
  │ Failing:      0                     │
  │ Pending:      0                     │
  │ Skipped:      0                     │
  │ Screenshots:  0                     │
  │ Video:        true                  │
  │ Duration:     5 seconds             │
  │ Spec Ran:     deck_gl_chart.spec.ts │
  └─────────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/deck_gl_chart.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ deck_gl_chart.spec.ts                     00:05        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:05        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/disabled.spec.ts
2019-11-08T22:46:35Z.781 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/disabled.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (disabled.spec.ts)                                                         │
  │ Searched:   ../e2e/specs/disabled.spec.ts                                                      │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: disabled.spec.ts...                                                             (1 of 1) 


  disable widgets
2019-11-08T22:46:47Z.249 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.85ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fcf4d63c550>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
Received the following back message:
close_connection: true

  Stopping...
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.STOPPING
Shutting down (id=0)
Server state: State.STOPPING -> State.STOPPED
    ✓ disconnects the client and disables widgets (10247ms)


  1 passing (12s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_015.json


  (Results)

  ┌────────────────────────────────┐
  │ Tests:        1                │
  │ Passing:      1                │
  │ Failing:      0                │
  │ Pending:      0                │
  │ Skipped:      0                │
  │ Screenshots:  10               │
  │ Video:        true             │
  │ Duration:     11 seconds       │
  │ Spec Ran:     disabled.spec.ts │
  └────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/disabled.spec.ts/disabled-widgets-0.snap.png (698x30)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/disabled.spec.ts/disabled-widgets-1.snap.png (698x80)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/disabled.spec.ts/disabled-widgets-2.snap.png (698x25)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/disabled.spec.ts/disabled-widgets-3.snap.png (698x129)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/disabled.spec.ts/disabled-widgets-4.snap.png (698x29)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/disabled.spec.ts/disabled-widgets-5.snap.png (698x80)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/disabled.spec.ts/disabled-widgets-6.snap.png (698x79)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/disabled.spec.ts/disabled-widgets-7.snap.png (698x79)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/disabled.spec.ts/disabled-widgets-8.snap.png (698x79)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/disabled.spec.ts/disabled-widgets-9.snap.png (698x79)


  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/disabled.spec.ts.mp4 (1 second)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ disabled.spec.ts                          00:11        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:11        1        1        -        -        -  

../scripts/run_e2e_tests.sh: 103: kill: No such process

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/disconnect.spec.ts
2019-11-08T22:46:59Z.649 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/disconnect.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (disconnect.spec.ts)                                                       │
  │ Searched:   ../e2e/specs/disconnect.spec.ts                                                    │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: disconnect.spec.ts...                                                           (1 of 1) 


  kill server
2019-11-08T22:47:09Z.900 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.68ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fb71419a150>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
Received the following back message:
close_connection: true

  Stopping...
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.STOPPING
Shutting down (id=0)
Server state: State.STOPPING -> State.STOPPED
    ✓ disconnects the client (3059ms)


  1 passing (4s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_016.json


  (Results)

  ┌──────────────────────────────────┐
  │ Tests:        1                  │
  │ Passing:      1                  │
  │ Failing:      0                  │
  │ Pending:      0                  │
  │ Skipped:      0                  │
  │ Screenshots:  1                  │
  │ Video:        true               │
  │ Duration:     4 seconds          │
  │ Spec Ran:     disconnect.spec.ts │
  └──────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/disconnect.spec.ts/disconnected.snap.png (160x56)


  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/disconnect.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ disconnect.spec.ts                        00:04        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:04        1        1        -        -        -  

../scripts/run_e2e_tests.sh: 103: kill: No such process

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/echo.spec.ts
2019-11-08T22:47:14Z.258 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/echo.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
This code is awesome!
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (echo.spec.ts)                                                             │
  │ Searched:   ../e2e/specs/echo.spec.ts                                                          │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: echo.spec.ts...                                                                 (1 of 1) 


  st.echo
2019-11-08T22:47:24Z.269 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.68ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fcaa100d650>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ echos a code (1882ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_017.json


  (Results)

  ┌────────────────────────────┐
  │ Tests:        1            │
  │ Passing:      1            │
  │ Failing:      0            │
  │ Pending:      0            │
  │ Skipped:      0            │
  │ Screenshots:  0            │
  │ Video:        true         │
  │ Duration:     3 seconds    │
  │ Spec Ran:     echo.spec.ts │
  └────────────────────────────┘

Shutting down (id=0)

  (Video)

  - Started processing:   Compressing to 32 CRF
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/echo.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ echo.spec.ts                              00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/empty_charts.spec.ts
2019-11-08T22:47:27Z.563 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/empty_charts.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000

Loaded backend agg version unknown.
STREAM b'IHDR' 16 13
STREAM b'sBIT' 41 4
b'sBIT' 41 4 (unknown)
STREAM b'pHYs' 57 9
STREAM b'tEXt' 78 56
STREAM b'IDAT' 146 6987
/home/circleci/repo/venv/lib/python3.7/site-packages/altair/utils/core.py:108: UserWarning: I don't know how to infer vegalite type from 'empty'.  Defaulting to nominal.
  "Defaulting to nominal.".format(typ))
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (empty_charts.spec.ts)                                                     │
  │ Searched:   ../e2e/specs/empty_charts.spec.ts                                                  │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: empty_charts.spec.ts...                                                         (1 of 1) 


  handles empty charts
2019-11-08T22:47:38Z.346 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.88ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f523b6ced10>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ gracefully handles no data (6094ms)
    ✓ handles no data with exception (258ms)


  2 passing (8s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_018.json


  (Results)

  ┌────────────────────────────────────┐
  │ Tests:        2                    │
  │ Passing:      2                    │
  │ Failing:      0                    │
  │ Pending:      0                    │
  │ Skipped:      0                    │
  │ Screenshots:  4                    │
  │ Video:        true                 │
  │ Duration:     7 seconds            │
  │ Spec Ran:     empty_charts.spec.ts │
  └────────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_charts.spec.ts/stVegaLiteChart-0.snap.png (698x207)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_charts.spec.ts/stVegaLiteChart-1.snap.png (698x207)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_charts.spec.ts/stVegaLiteChart-2.snap.png (698x207)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_charts.spec.ts/stVegaLiteChart-3.snap.png (698x207)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/empty_charts.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ empty_charts.spec.ts                      00:07        2        2        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:07        2        2        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/empty_dataframes.spec.ts
2019-11-08T22:47:46Z.294 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/empty_dataframes.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (empty_dataframes.spec.ts)                                                 │
  │ Searched:   ../e2e/specs/empty_dataframes.spec.ts                                              │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: empty_dataframes.spec.ts...                                                     (1 of 1) 


  Dataframes
2019-11-08T22:47:55Z.806 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.63ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f4a4d87c9d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ have consistent empty list visuals (2704ms)
    ✓ have consistent empty visuals (2914ms)
    ✓ have consistent empty one-column visuals (1069ms)
    ✓ have consistent empty two-column visuals (1036ms)
    ✓ have consistent empty table visuals (2070ms)
    ✓ have consistent empty one-column table visuals (703ms)
    ✓ have consistent empty two-column table visuals (636ms)


  7 passing (12s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_019.json


  (Results)

  ┌────────────────────────────────────────┐
  │ Tests:        7                        │
  │ Passing:      7                        │
  │ Failing:      0                        │
  │ Pending:      0                        │
  │ Skipped:      0                        │
  │ Screenshots:  17                       │
  │ Video:        true                     │
  │ Duration:     12 seconds               │
  │ Spec Ran:     empty_dataframes.spec.ts │
  └────────────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty list visuals.snap.png (698x20)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty visuals.snap.png (62x47)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty visuals.snap.png (62x47)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty visuals.snap.png (62x47)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty visuals.snap.png (62x47)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty visuals.snap.png (62x47)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty visuals.snap.png (62x47)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty one-column visuals.snap.png (698x47)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty one-column visuals.snap.png (698x47)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty two-column visuals.snap.png (62x47)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty two-column visuals.snap.png (62x47)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty table visuals.snap.png (682x83)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty table visuals.snap.png (682x83)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty table visuals.snap.png (682x83)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty table visuals.snap.png (682x83)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty one-column table visuals.snap.png (682x83)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty two-column table visuals.snap.png (682x83)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/empty_dataframes.spec.ts.mp4 (1 second)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ empty_dataframes.spec.ts                  00:12        7        7        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:12        7        7        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/error.spec.ts
2019-11-08T22:48:08Z.996 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/error.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (error.spec.ts)                                                            │
  │ Searched:   ../e2e/specs/error.spec.ts                                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: error.spec.ts...                                                                (1 of 1) 


  st.error
2019-11-08T22:48:18Z.408 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.88ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f72a1946310>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays an error message (1732ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_020.json


  (Results)

  ┌─────────────────────────────┐
  │ Tests:        1             │
  │ Passing:      1             │
  │ Failing:      0             │
  │ Pending:      0             │
  │ Skipped:      0             │
  │ Screenshots:  0             │
  │ Video:        true          │
  │ Duration:     2 seconds     │
  │ Spec Ran:     error.spec.ts │
  └─────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/error.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ error.spec.ts                             00:02        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:02        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/exception.spec.ts
2019-11-08T22:48:21Z.418 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/exception.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (exception.spec.ts)                                                        │
  │ Searched:   ../e2e/specs/exception.spec.ts                                                     │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: exception.spec.ts...                                                            (1 of 1) 


  st.exception
2019-11-08T22:48:31Z.192 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.67ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f67c65e31d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays an exception message (1889ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_021.json


  (Results)

  ┌─────────────────────────────────┐
  │ Tests:        1                 │
  │ Passing:      1                 │
  │ Failing:      0                 │
  │ Pending:      0                 │
  │ Skipped:      0                 │
  │ Screenshots:  0                 │
  │ Video:        true              │
  │ Duration:     3 seconds         │
  │ Spec Ran:     exception.spec.ts │
  └─────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/exception.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ exception.spec.ts                         00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/graphviz_chart.spec.ts
2019-11-08T22:48:34Z.282 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/graphviz_chart.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (graphviz_chart.spec.ts)                                                   │
  │ Searched:   ../e2e/specs/graphviz_chart.spec.ts                                                │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: graphviz_chart.spec.ts...                                                       (1 of 1) 


  st.graphviz_chart
2019-11-08T22:48:43Z.822 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.74ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f4668a70090>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a graph with two connected nodes (4109ms)
    ✓ displays a colorful node within a cluster within a graph (500ms)
    ✓ displays a graph representing a finite state machine (609ms)


  3 passing (6s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_022.json


  (Results)

  ┌──────────────────────────────────────┐
  │ Tests:        3                      │
  │ Passing:      3                      │
  │ Failing:      0                      │
  │ Pending:      0                      │
  │ Skipped:      0                      │
  │ Screenshots:  3                      │
  │ Video:        true                   │
  │ Duration:     6 seconds              │
  │ Spec Ran:     graphviz_chart.spec.ts │
  └──────────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/graphviz_chart.spec.ts/graphviz-chart-0.snap.png (105x155)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/graphviz_chart.spec.ts/graphviz-chart-1.snap.png (125x168)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/graphviz_chart.spec.ts/graphviz-chart-2.snap.png (768x349)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/graphviz_chart.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ graphviz_chart.spec.ts                    00:06        3        3        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:06        3        3        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/header.spec.ts
2019-11-08T22:48:50Z.641 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/header.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (header.spec.ts)                                                           │
  │ Searched:   ../e2e/specs/header.spec.ts                                                        │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: header.spec.ts...                                                               (1 of 1) 


  st.header
2019-11-08T22:49:00Z.366 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.66ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f9de7cf7210>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a header (1783ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_023.json


  (Results)

  ┌──────────────────────────────┐
  │ Tests:        1              │
  │ Passing:      1              │
  │ Failing:      0              │
  │ Pending:      0              │
  │ Skipped:      0              │
  │ Screenshots:  0              │
  │ Video:        true           │
  │ Duration:     2 seconds      │
  │ Spec Ran:     header.spec.ts │
  └──────────────────────────────┘

Shutting down (id=0)

  (Video)

  - Started processing:   Compressing to 32 CRF
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/header.spec.ts.mp4 (3 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ header.spec.ts                            00:02        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:02        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/image.spec.ts
2019-11-08T22:49:06Z.701 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/image.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (image.spec.ts)                                                            │
  │ Searched:   ../e2e/specs/image.spec.ts                                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: image.spec.ts...                                                                (1 of 1) 


  st.image
2019-11-08T22:49:16Z.423 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.94ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f968343bc10>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays an image (1782ms)
    ✓ displays a caption (155ms)


  2 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_024.json


  (Results)

  ┌─────────────────────────────┐
  │ Tests:        2             │
  │ Passing:      2             │
  │ Failing:      0             │
  │ Pending:      0             │
  │ Skipped:      0             │
  │ Screenshots:  0             │
  │ Video:        true          │
  │ Duration:     3 seconds     │
  │ Spec Ran:     image.spec.ts │
  └─────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/image.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ image.spec.ts                             00:03        2        2        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        2        2        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/info.spec.ts
2019-11-08T22:49:19Z.816 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/info.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (info.spec.ts)                                                             │
  │ Searched:   ../e2e/specs/info.spec.ts                                                          │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: info.spec.ts...                                                                 (1 of 1) 


  st.info
2019-11-08T22:49:29Z.616 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.76ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f967b0db1d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays an info message (1747ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_025.json


  (Results)

  ┌────────────────────────────┐
  │ Tests:        1            │
  │ Passing:      1            │
  │ Failing:      0            │
  │ Pending:      0            │
  │ Skipped:      0            │
  │ Screenshots:  0            │
  │ Video:        true         │
  │ Duration:     2 seconds    │
  │ Spec Ran:     info.spec.ts │
  └────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/info.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ info.spec.ts                              00:02        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:02        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/latex.spec.ts
2019-11-08T22:49:32Z.688 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/latex.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
Starting new HTTP connection (1): checkip.amazonaws.com:80
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (latex.spec.ts)                                                            │
  │ Searched:   ../e2e/specs/latex.spec.ts                                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: latex.spec.ts...                                                                (1 of 1) 


  st.latex
2019-11-08T22:49:42Z.372 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.87ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fbd9e467050>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays LaTeX symbol (1834ms)
    ✓ displays Sympy expression as LaTeX (221ms)


  2 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_026.json


  (Results)

  ┌─────────────────────────────┐
  │ Tests:        2             │
  │ Passing:      2             │
  │ Failing:      0             │
  │ Pending:      0             │
  │ Skipped:      0             │
  │ Screenshots:  0             │
  │ Video:        true          │
  │ Duration:     3 seconds     │
  │ Spec Ran:     latex.spec.ts │
  └─────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/latex.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ latex.spec.ts                             00:03        2        2        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        2        2        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/line_chart.spec.ts
2019-11-08T22:49:45Z.844 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/line_chart.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (line_chart.spec.ts)                                                       │
  │ Searched:   ../e2e/specs/line_chart.spec.ts                                                    │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: line_chart.spec.ts...                                                           (1 of 1) 


  st.line_chart
2019-11-08T22:49:55Z.155 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.73ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f4fe38c2390>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a line chart (2331ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_027.json


  (Results)

  ┌──────────────────────────────────┐
  │ Tests:        1                  │
  │ Passing:      1                  │
  │ Failing:      0                  │
  │ Pending:      0                  │
  │ Skipped:      0                  │
  │ Screenshots:  0                  │
  │ Video:        true               │
  │ Duration:     3 seconds          │
  │ Spec Ran:     line_chart.spec.ts │
  └──────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/line_chart.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ line_chart.spec.ts                        00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/magic.spec.ts
2019-11-08T22:49:58Z.818 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/magic.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Using selector: EpollSelector
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (magic.spec.ts)                                                            │
  │ Searched:   ../e2e/specs/magic.spec.ts                                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: magic.spec.ts...                                                                (1 of 1) 


  streamlit magic
2019-11-08T22:50:08Z.390 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.86ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f261a3e3d50>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays expected text (2612ms)


  1 passing (4s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_028.json


  (Results)

  ┌─────────────────────────────┐
  │ Tests:        1             │
  │ Passing:      1             │
  │ Failing:      0             │
  │ Pending:      0             │
  │ Skipped:      0             │
  │ Screenshots:  0             │
  │ Video:        true          │
  │ Duration:     3 seconds     │
  │ Spec Ran:     magic.spec.ts │
  └─────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/magic.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ magic.spec.ts                             00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/main_menu.spec.ts
2019-11-08T22:50:12Z.312 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/main_menu.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (main_menu.spec.ts)                                                        │
  │ Searched:   ../e2e/specs/main_menu.spec.ts                                                     │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: main_menu.spec.ts...                                                            (1 of 1) 


  main menu
2019-11-08T22:50:21Z.617 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.63ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f58296266d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays menu dropdown (2551ms)


  1 passing (4s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_029.json


  (Results)

  ┌─────────────────────────────────┐
  │ Tests:        1                 │
  │ Passing:      1                 │
  │ Failing:      0                 │
  │ Pending:      0                 │
  │ Skipped:      0                 │
  │ Screenshots:  1                 │
  │ Video:        true              │
  │ Duration:     3 seconds         │
  │ Spec Ran:     main_menu.spec.ts │
  └─────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/main_menu.spec.ts/main_menu.snap.png (192x316)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/main_menu.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ main_menu.spec.ts                         00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/map.spec.ts
2019-11-08T22:50:25Z.488 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/map.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (map.spec.ts)                                                              │
  │ Searched:   ../e2e/specs/map.spec.ts                                                           │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: map.spec.ts...                                                                  (1 of 1) 


  st.map
2019-11-08T22:50:34Z.619 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.61ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f737acded90>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Caching message (hash=1ffbdc442ac48605fcb64d3e97f51776)
Caching message (hash=e7b944ad0e8655befd9443748dd2b8a7)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a map using deck_gl (2614ms)


  1 passing (4s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_030.json


  (Results)

  ┌───────────────────────────┐
  │ Tests:        1           │
  │ Passing:      1           │
  │ Failing:      0           │
  │ Pending:      0           │
  │ Skipped:      0           │
  │ Screenshots:  0           │
  │ Video:        true        │
  │ Duration:     3 seconds   │
  │ Spec Ran:     map.spec.ts │
  └───────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/map.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ map.spec.ts                               00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/markdown.spec.ts
2019-11-08T22:50:38Z.551 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/markdown.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (markdown.spec.ts)                                                         │
  │ Searched:   ../e2e/specs/markdown.spec.ts                                                      │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: markdown.spec.ts...                                                             (1 of 1) 


  st.markdown
2019-11-08T22:50:47Z.575 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.59ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fd68b86a050>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays markdown (1931ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_031.json


  (Results)

  ┌────────────────────────────────┐
  │ Tests:        1                │
  │ Passing:      1                │
  │ Failing:      0                │
  │ Pending:      0                │
  │ Skipped:      0                │
  │ Screenshots:  0                │
  │ Video:        true             │
  │ Duration:     3 seconds        │
  │ Spec Ran:     markdown.spec.ts │
  └────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/markdown.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ markdown.spec.ts                          00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/markdown_in_alert_box.spec.ts
2019-11-08T22:50:51Z.101 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/markdown_in_alert_box.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (markdown_in_alert_box.spec.ts)                                            │
  │ Searched:   ../e2e/specs/markdown_in_alert_box.spec.ts                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: markdown_in_alert_box.spec.ts...                                                (1 of 1) 


  info/success/warning/error boxes
2019-11-08T22:51:00Z.828 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.63ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7ff49002a310>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ show complex markdown beautifully (4921ms)


  1 passing (6s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_032.json


  (Results)

  ┌─────────────────────────────────────────────┐
  │ Tests:        1                             │
  │ Passing:      1                             │
  │ Failing:      0                             │
  │ Pending:      0                             │
  │ Skipped:      0                             │
  │ Screenshots:  4                             │
  │ Video:        true                          │
  │ Duration:     6 seconds                     │
  │ Spec Ran:     markdown_in_alert_box.spec.ts │
  └─────────────────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/markdown_in_alert_box.spec.ts/stAlert-alert-0.snap.png (698x542)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/markdown_in_alert_box.spec.ts/stAlert-alert-1.snap.png (698x542)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/markdown_in_alert_box.spec.ts/stAlert-alert-2.snap.png (698x542)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/markdown_in_alert_box.spec.ts/stAlert-alert-3.snap.png (698x542)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/markdown_in_alert_box.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ markdown_in_alert_box.spec.ts             00:06        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:06        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/message_deduping.spec.ts
2019-11-08T22:51:07Z.176 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/message_deduping.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (message_deduping.spec.ts)                                                 │
  │ Searched:   ../e2e/specs/message_deduping.spec.ts                                              │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: message_deduping.spec.ts...                                                     (1 of 1) 


  message_deduping
2019-11-08T22:51:16Z.467 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.61ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7faaf6d6bd50>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Caching message (hash=44efe29e6d1bcad5fff7c3b58aed794a)
Sending cached message ref (hash=44efe29e6d1bcad5fff7c3b58aed794a)
Caching message (hash=44efe29e6d1bcad5fff7c3b58aed794a)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    1) displays two dataframes


  0 passing (7s)
  1 failing

  1) message_deduping
       displays two dataframes:
     CypressError: Timed out retrying: Not enough elements found. Found '1', expected '3'.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_033.json


  (Results)

  ┌────────────────────────────────────────┐
  │ Tests:        1                        │
  │ Passing:      0                        │
  │ Failing:      1                        │
  │ Pending:      0                        │
  │ Skipped:      0                        │
  │ Screenshots:  1                        │
  │ Video:        true                     │
  │ Duration:     6 seconds                │
  │ Spec Ran:     message_deduping.spec.ts │
  └────────────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/mochawesome-report/assets/message_deduping.spec.ts/message_deduping -- displays two dataframes (failed).png (1280x720)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/message_deduping.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ message_deduping.spec.ts                  00:06        1        -        1        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:06        1        -        1        -        -  

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/multiselect.spec.ts
2019-11-08T22:51:23Z.756 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/multiselect.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (multiselect.spec.ts)                                                      │
  │ Searched:   ../e2e/specs/multiselect.spec.ts                                                   │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: multiselect.spec.ts...                                                          (1 of 1) 


  st.multiselect
    when first loaded
2019-11-08T22:51:32Z.849 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.58ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2d92495190>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
      ✓ should show widget correctly (4250ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:51:36Z.549 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.43ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2d92495790>
Watcher created for /home/circleci/repo/e2e/scripts/multiselect.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
      1) should show the correct text
      when there are valid options
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:51:40Z.966 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.44ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2d924af150>
Watcher created for /home/circleci/repo/e2e/scripts/multiselect.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
        ✓ should show the correct placeholder (626ms)
      when there are no valid options
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:51:41Z.819 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.45ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2d924ba410>
Watcher created for /home/circleci/repo/e2e/scripts/multiselect.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
        ✓ should show the correct placeholder (835ms)
    when clicking on the input
Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:51:42Z.651 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.45ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2d924af1d0>
Watcher created for /home/circleci/repo/e2e/scripts/multiselect.py
ReportSession initialized (id=4)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
      ✓ should show values correctly in the dropdown menu (1774ms)
    when the user make a selection
Shutting down (id=4)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:51:44Z.461 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.45ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2d924b6d10>
Watcher created for /home/circleci/repo/e2e/scripts/multiselect.py
ReportSession initialized (id=5)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-826040037840830409"
    int_array_value {
    }
  }
  widgets {
    id: "-5920915874581590081"
    int_array_value {
      value: 1
    }
  }
  widgets {
    id: "-8065901107275363122"
    int_array_value {
    }
  }
  widgets {
    id: "-6384981922898911685"
    int_array_value {
      value: 1
      value: 2
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-826040037840830409"
  int_array_value {
  }
}
widgets {
  id: "-5920915874581590081"
  int_array_value {
    value: 1
  }
}
widgets {
  id: "-8065901107275363122"
  int_array_value {
  }
}
widgets {
  id: "-6384981922898911685"
  int_array_value {
    value: 1
    value: 2
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
      2) sets the value correctly
Shutting down (id=5)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:51:46Z.516 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.47ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2d924afe50>
Watcher created for /home/circleci/repo/e2e/scripts/multiselect.py
ReportSession initialized (id=6)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-826040037840830409"
    int_array_value {
    }
  }
  widgets {
    id: "-5920915874581590081"
    int_array_value {
      value: 1
    }
  }
  widgets {
    id: "-8065901107275363122"
    int_array_value {
    }
  }
  widgets {
    id: "-6384981922898911685"
    int_array_value {
      value: 1
      value: 2
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-826040037840830409"
  int_array_value {
  }
}
widgets {
  id: "-5920915874581590081"
  int_array_value {
    value: 1
  }
}
widgets {
  id: "-8065901107275363122"
  int_array_value {
  }
}
widgets {
  id: "-6384981922898911685"
  int_array_value {
    value: 1
    value: 2
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
      3) outputs the correct value
      when the user picks a second option
Shutting down (id=6)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:51:51Z.642 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.64ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2d9244a690>
Watcher created for /home/circleci/repo/e2e/scripts/multiselect.py
ReportSession initialized (id=7)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-826040037840830409"
    int_array_value {
    }
  }
  widgets {
    id: "-5920915874581590081"
    int_array_value {
      value: 1
    }
  }
  widgets {
    id: "-8065901107275363122"
    int_array_value {
    }
  }
  widgets {
    id: "-6384981922898911685"
    int_array_value {
      value: 1
      value: 2
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-826040037840830409"
  int_array_value {
  }
}
widgets {
  id: "-5920915874581590081"
  int_array_value {
    value: 1
  }
}
widgets {
  id: "-8065901107275363122"
  int_array_value {
  }
}
widgets {
  id: "-6384981922898911685"
  int_array_value {
    value: 1
    value: 2
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-826040037840830409"
    int_array_value {
    }
  }
  widgets {
    id: "-5920915874581590081"
    int_array_value {
      value: 1
      value: 0
    }
  }
  widgets {
    id: "-8065901107275363122"
    int_array_value {
    }
  }
  widgets {
    id: "-6384981922898911685"
    int_array_value {
      value: 1
      value: 2
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-826040037840830409"
  int_array_value {
  }
}
widgets {
  id: "-5920915874581590081"
  int_array_value {
    value: 1
    value: 0
  }
}
widgets {
  id: "-8065901107275363122"
  int_array_value {
  }
}
widgets {
  id: "-6384981922898911685"
  int_array_value {
    value: 1
    value: 2
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
        4) outputs the correct value
        when the user deselects the first option
Shutting down (id=7)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:51:57Z.101 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.43ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2d924ba490>
Watcher created for /home/circleci/repo/e2e/scripts/multiselect.py
ReportSession initialized (id=8)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-826040037840830409"
    int_array_value {
    }
  }
  widgets {
    id: "-5920915874581590081"
    int_array_value {
      value: 1
    }
  }
  widgets {
    id: "-8065901107275363122"
    int_array_value {
    }
  }
  widgets {
    id: "-6384981922898911685"
    int_array_value {
      value: 1
      value: 2
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-826040037840830409"
  int_array_value {
  }
}
widgets {
  id: "-5920915874581590081"
  int_array_value {
    value: 1
  }
}
widgets {
  id: "-8065901107275363122"
  int_array_value {
  }
}
widgets {
  id: "-6384981922898911685"
  int_array_value {
    value: 1
    value: 2
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-826040037840830409"
    int_array_value {
    }
  }
  widgets {
    id: "-5920915874581590081"
    int_array_value {
      value: 1
      value: 0
    }
  }
  widgets {
    id: "-8065901107275363122"
    int_array_value {
    }
  }
  widgets {
    id: "-6384981922898911685"
    int_array_value {
      value: 1
      value: 2
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-826040037840830409"
  int_array_value {
  }
}
widgets {
  id: "-5920915874581590081"
  int_array_value {
    value: 1
    value: 0
  }
}
widgets {
  id: "-8065901107275363122"
  int_array_value {
  }
}
widgets {
  id: "-6384981922898911685"
  int_array_value {
    value: 1
    value: 2
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Received the following back message:
update_widgets {
  widgets {
    id: "-826040037840830409"
    int_array_value {
    }
  }
  widgets {
    id: "-5920915874581590081"
    int_array_value {
      value: 0
    }
  }
  widgets {
    id: "-8065901107275363122"
    int_array_value {
    }
  }
  widgets {
    id: "-6384981922898911685"
    int_array_value {
      value: 1
      value: 2
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-826040037840830409"
  int_array_value {
  }
}
widgets {
  id: "-5920915874581590081"
  int_array_value {
    value: 0
  }
}
widgets {
  id: "-8065901107275363122"
  int_array_value {
  }
}
widgets {
  id: "-6384981922898911685"
  int_array_value {
    value: 1
    value: 2
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
          5) outputs the correct value
        when the user click the clear button
Shutting down (id=8)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:52:02Z.801 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.64ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2d92447550>
Watcher created for /home/circleci/repo/e2e/scripts/multiselect.py
ReportSession initialized (id=9)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-826040037840830409"
    int_array_value {
    }
  }
  widgets {
    id: "-5920915874581590081"
    int_array_value {
      value: 1
    }
  }
  widgets {
    id: "-8065901107275363122"
    int_array_value {
    }
  }
  widgets {
    id: "-6384981922898911685"
    int_array_value {
      value: 1
      value: 2
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-826040037840830409"
  int_array_value {
  }
}
widgets {
  id: "-5920915874581590081"
  int_array_value {
    value: 1
  }
}
widgets {
  id: "-8065901107275363122"
  int_array_value {
  }
}
widgets {
  id: "-6384981922898911685"
  int_array_value {
    value: 1
    value: 2
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-826040037840830409"
    int_array_value {
    }
  }
  widgets {
    id: "-5920915874581590081"
    int_array_value {
      value: 1
      value: 0
    }
  }
  widgets {
    id: "-8065901107275363122"
    int_array_value {
    }
  }
  widgets {
    id: "-6384981922898911685"
    int_array_value {
      value: 1
      value: 2
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-826040037840830409"
  int_array_value {
  }
}
widgets {
  id: "-5920915874581590081"
  int_array_value {
    value: 1
    value: 0
  }
}
widgets {
  id: "-8065901107275363122"
  int_array_value {
  }
}
widgets {
  id: "-6384981922898911685"
  int_array_value {
    value: 1
    value: 2
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Received the following back message:
update_widgets {
  widgets {
    id: "-826040037840830409"
    int_array_value {
    }
  }
  widgets {
    id: "-5920915874581590081"
    int_array_value {
    }
  }
  widgets {
    id: "-8065901107275363122"
    int_array_value {
    }
  }
  widgets {
    id: "-6384981922898911685"
    int_array_value {
      value: 1
      value: 2
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-826040037840830409"
  int_array_value {
  }
}
widgets {
  id: "-5920915874581590081"
  int_array_value {
  }
}
widgets {
  id: "-8065901107275363122"
  int_array_value {
  }
}
widgets {
  id: "-6384981922898911685"
  int_array_value {
    value: 1
    value: 2
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
          6) outputs the correct value


  4 passing (38s)
  6 failing

  1) st.multiselect
       when first loaded
         should show the correct text:
     CypressError: Timed out retrying: Not enough elements found. Found '4', expected '8'.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  2) st.multiselect
       when the user make a selection
         sets the value correctly:
     Error: Image was 26.550216736463156% different from saved snapshot with 14455 different pixels.
See diff for details: /home/circleci/repo/frontend/cypress/snapshots/linux/2x/multiselect.spec.ts/__diff_output__/multiselect-selection.diff.png
      at Context.cy.task.then (http://localhost:3000/__cypress/tests?p=cypress/support/index.js-420:2429:17)

  3) st.multiselect
       when the user make a selection
         outputs the correct value:
     CypressError: Timed out retrying: Not enough elements found. Found '4', expected '8'.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  4) st.multiselect
       when the user make a selection
         when the user picks a second option
           outputs the correct value:
     CypressError: Timed out retrying: Not enough elements found. Found '4', expected '8'.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  5) st.multiselect
       when the user make a selection
         when the user picks a second option
           when the user deselects the first option
             outputs the correct value:
     CypressError: Timed out retrying: Not enough elements found. Found '4', expected '8'.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  6) st.multiselect
       when the user make a selection
         when the user picks a second option
           when the user click the clear button
             outputs the correct value:
     CypressError: Timed out retrying: Not enough elements found. Found '4', expected '8'.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_034.json


  (Results)

  ┌───────────────────────────────────┐
  │ Tests:        10                  │
  │ Passing:      4                   │
  │ Failing:      6                   │
  │ Pending:      0                   │
  │ Skipped:      0                   │
  │ Screenshots:  13                  │
  │ Video:        true                │
  │ Duration:     37 seconds          │
  │ Spec Ran:     multiselect.spec.ts │
  └───────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/multiselect.spec.ts/multiselect0.snap.png (698x75)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/multiselect.spec.ts/multiselect1.snap.png (698x75)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/multiselect.spec.ts/multiselect2.snap.png (698x75)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/multiselect.spec.ts/multiselect3.snap.png (698x78)
  - /home/circleci/repo/frontend/mochawesome-report/assets/multiselect.spec.ts/st.multiselect -- when first loaded -- should show the correct text (failed).png (1280x720)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/multiselect.spec.ts/multiselect-dropdown-0.snap.png (698x41)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/multiselect.spec.ts/multiselect-dropdown-1.snap.png (698x41)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/multiselect.spec.ts/__diff_output__/multiselect-selection.diff.png (698x78)
  - /home/circleci/repo/frontend/mochawesome-report/assets/multiselect.spec.ts/st.multiselect -- when the user make a selection -- sets the value correctly (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/multiselect.spec.ts/st.multiselect -- when the user make a selection -- outputs the correct value (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/multiselect.spec.ts/st.multiselect -- when the user make a selection -- when the user picks a second option -- outputs the correct value (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/multiselect.spec.ts/st.multiselect -- when the user make a selection -- when the user picks a second option -- when the user deselects the first option -- outputs the correct value (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/multiselect.spec.ts/st.multiselect -- when the user make a selection -- when the user picks a second option -- when the user click the clear button -- outputs the correct value (failed).png (1280x720)

Shutting down (id=9)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/multiselect.spec.ts.mp4 (1 second)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ multiselect.spec.ts                       00:37       10        4        6        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:37       10        4        6        -        -  

error Command failed with exit code 6.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/number_input.spec.ts
2019-11-08T22:52:12Z.158 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/number_input.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (number_input.spec.ts)                                                     │
  │ Searched:   ../e2e/specs/number_input.spec.ts                                                  │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: number_input.spec.ts...                                                         (1 of 1) 


  st.number_input
2019-11-08T22:52:21Z.565 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.61ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7ff58a371450>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ shows widget correctly (3413ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:52:24Z.322 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.45ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7ff58a9e1d10>
Watcher created for /home/circleci/repo/e2e/scripts/number_input.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ has correct default values (1060ms)
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:52:24Z.953 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.47ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7ff58a380310>
Watcher created for /home/circleci/repo/e2e/scripts/number_input.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "2351654887066953228"
    int_value: 10
  }
  widgets {
    id: "-1536292525832493382"
    int_value: 1
  }
  widgets {
    id: "-783054273017583414"
    int_value: 1
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "2351654887066953228"
  int_value: 10
}
widgets {
  id: "-1536292525832493382"
  int_value: 1
}
widgets {
  id: "-783054273017583414"
  int_value: 1
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ sets value correctly on enter keypress (1032ms)
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:52:25Z.970 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.46ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7ff58a380d50>
Watcher created for /home/circleci/repo/e2e/scripts/number_input.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "2351654887066953228"
    int_value: 10
  }
  widgets {
    id: "-1536292525832493382"
    int_value: 1
  }
  widgets {
    id: "-783054273017583414"
    int_value: 1
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "2351654887066953228"
  int_value: 10
}
widgets {
  id: "-1536292525832493382"
  int_value: 1
}
widgets {
  id: "-783054273017583414"
  int_value: 1
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ sets value correctly on blur (1068ms)


  4 passing (8s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_035.json


  (Results)

  ┌────────────────────────────────────┐
  │ Tests:        4                    │
  │ Passing:      4                    │
  │ Failing:      0                    │
  │ Pending:      0                    │
  │ Skipped:      0                    │
  │ Screenshots:  3                    │
  │ Video:        true                 │
  │ Duration:     7 seconds            │
  │ Spec Ran:     number_input.spec.ts │
  └────────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/number_input.spec.ts/number_input0.snap.png (698x79)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/number_input.spec.ts/number_input1.snap.png (698x79)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/number_input.spec.ts/number_input2.snap.png (698x79)

Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/number_input.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ number_input.spec.ts                      00:07        4        4        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:07        4        4        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/plotly_chart.spec.ts
2019-11-08T22:52:29Z.677 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/plotly_chart.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (plotly_chart.spec.ts)                                                     │
  │ Searched:   ../e2e/specs/plotly_chart.spec.ts                                                  │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: plotly_chart.spec.ts...                                                         (1 of 1) 


  st.plotly_chart
2019-11-08T22:52:38Z.624 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.86ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f46cbfab450>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Caching message (hash=a2ef05a78f8d382f80c60ad16de7bafc)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a plotly chart (3530ms)


  1 passing (5s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_036.json


  (Results)

  ┌────────────────────────────────────┐
  │ Tests:        1                    │
  │ Passing:      1                    │
  │ Failing:      0                    │
  │ Pending:      0                    │
  │ Skipped:      0                    │
  │ Screenshots:  0                    │
  │ Video:        true                 │
  │ Duration:     4 seconds            │
  │ Spec Ran:     plotly_chart.spec.ts │
  └────────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/plotly_chart.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ plotly_chart.spec.ts                      00:04        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:04        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/progress.spec.ts
2019-11-08T22:52:43Z.475 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/progress.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (progress.spec.ts)                                                         │
  │ Searched:   ../e2e/specs/progress.spec.ts                                                      │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: progress.spec.ts...                                                             (1 of 1) 


  st.progress
2019-11-08T22:52:52Z.812 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.94ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fcb71c5c050>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a progress bar (1828ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_037.json


  (Results)

  ┌────────────────────────────────┐
  │ Tests:        1                │
  │ Passing:      1                │
  │ Failing:      0                │
  │ Pending:      0                │
  │ Skipped:      0                │
  │ Screenshots:  0                │
  │ Video:        true             │
  │ Duration:     2 seconds        │
  │ Spec Ran:     progress.spec.ts │
  └────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/progress.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ progress.spec.ts                          00:02        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:02        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/pyplot.spec.ts
2019-11-08T22:52:55Z.738 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/pyplot.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000

Loaded backend agg version unknown.
findfont: Matching :family=sans-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=10.0.
findfont: score(<Font 'DejaVu Sans' (DejaVuSans.ttf) normal normal 400 normal>) = 0.05
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif-Bold.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'STIXGeneral' (STIXGeneralBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'STIXSizeOneSym' (STIXSizOneSymBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'cmss10' (cmss10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'cmr10' (cmr10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'STIXSizeFiveSym' (STIXSizFiveSymReg.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'STIXSizeTwoSym' (STIXSizTwoSymBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono-BoldOblique.ttf) oblique normal bold normal>) = 11.335
findfont: score(<Font 'STIXSizeTwoSym' (STIXSizTwoSymReg.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'STIXNonUnicode' (STIXNonUniBolIta.ttf) italic normal bold normal>) = 11.335
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif-Italic.ttf) italic normal 400 normal>) = 11.05
findfont: score(<Font 'DejaVu Sans' (DejaVuSans-BoldOblique.ttf) oblique normal bold normal>) = 1.335
findfont: score(<Font 'STIXNonUnicode' (STIXNonUni.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'cmtt10' (cmtt10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'STIXSizeThreeSym' (STIXSizThreeSymReg.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'DejaVu Sans' (DejaVuSans-Oblique.ttf) oblique normal 400 normal>) = 1.05
findfont: score(<Font 'STIXGeneral' (STIXGeneral.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'STIXNonUnicode' (STIXNonUniBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'STIXGeneral' (STIXGeneralBolIta.ttf) italic normal bold normal>) = 11.335
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif-BoldItalic.ttf) italic normal bold normal>) = 11.335
findfont: score(<Font 'DejaVu Sans Display' (DejaVuSansDisplay.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'cmb10' (cmb10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono-Bold.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'STIXSizeFourSym' (STIXSizFourSymReg.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono-Oblique.ttf) oblique normal 400 normal>) = 11.05
findfont: score(<Font 'DejaVu Sans' (DejaVuSans-Bold.ttf) normal normal bold normal>) = 0.33499999999999996
findfont: score(<Font 'STIXSizeFourSym' (STIXSizFourSymBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'STIXGeneral' (STIXGeneralItalic.ttf) italic normal 400 normal>) = 11.05
findfont: score(<Font 'STIXNonUnicode' (STIXNonUniIta.ttf) italic normal 400 normal>) = 11.05
findfont: score(<Font 'STIXSizeThreeSym' (STIXSizThreeSymBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'cmex10' (cmex10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'DejaVu Serif Display' (DejaVuSerifDisplay.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'cmsy10' (cmsy10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'cmmi10' (cmmi10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'STIXSizeOneSym' (STIXSizOneSymReg.ttf) normal normal regular normal>) = 10.05
findfont: Matching :family=sans-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=10.0 to DejaVu Sans ('/home/circleci/repo/venv/lib/python3.7/site-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans.ttf') with score of 0.050000.
STREAM b'IHDR' 16 13
STREAM b'sBIT' 41 4
b'sBIT' 41 4 (unknown)
STREAM b'pHYs' 57 9
STREAM b'tEXt' 78 56
STREAM b'IDAT' 146 8192
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (pyplot.spec.ts)                                                           │
  │ Searched:   ../e2e/specs/pyplot.spec.ts                                                        │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: pyplot.spec.ts...                                                               (1 of 1) 


  st.pyplot
2019-11-08T22:53:04Z.615 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.60ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f9071f0b050>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Caching message (hash=d94d9aa1eef3df7eb1d8e7090da587e8)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a pyplot figure (1709ms)
Received the following back message:
rerun_script: true

Beginning script thread
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
STREAM b'IHDR' 16 13
STREAM b'sBIT' 41 4
b'sBIT' 41 4 (unknown)
STREAM b'pHYs' 57 9
STREAM b'tEXt' 78 56
STREAM b'IDAT' 146 8192
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Sending cached message ref (hash=d94d9aa1eef3df7eb1d8e7090da587e8)
Caching message (hash=d94d9aa1eef3df7eb1d8e7090da587e8)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ clears the figure on rerun (1384ms)


  2 passing (4s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_038.json


  (Results)

  ┌──────────────────────────────┐
  │ Tests:        2              │
  │ Passing:      2              │
  │ Failing:      0              │
  │ Pending:      0              │
  │ Skipped:      0              │
  │ Screenshots:  1              │
  │ Video:        true           │
  │ Duration:     4 seconds      │
  │ Spec Ran:     pyplot.spec.ts │
  └──────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/pyplot.spec.ts/pyplot-check-if-cleared.snap.png (698x524)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/pyplot.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ pyplot.spec.ts                            00:04        2        2        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:04        2        2        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/pyplot_kwargs.spec.ts
2019-11-08T22:53:09Z.076 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/pyplot_kwargs.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000

Loaded backend agg version unknown.
findfont: Matching :family=sans-serif:style=normal:variant=normal:weight=bold:stretch=normal:size=12.0.
findfont: score(<Font 'DejaVu Sans' (DejaVuSans.ttf) normal normal 400 normal>) = 0.33499999999999996
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif-Bold.ttf) normal normal bold normal>) = 10.0
findfont: score(<Font 'STIXGeneral' (STIXGeneralBol.ttf) normal normal bold normal>) = 10.0
findfont: score(<Font 'STIXSizeOneSym' (STIXSizOneSymBol.ttf) normal normal bold normal>) = 10.0
findfont: score(<Font 'cmss10' (cmss10.ttf) normal normal 400 normal>) = 10.335
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono.ttf) normal normal 400 normal>) = 10.335
findfont: score(<Font 'cmr10' (cmr10.ttf) normal normal 400 normal>) = 10.335
findfont: score(<Font 'STIXSizeFiveSym' (STIXSizFiveSymReg.ttf) normal normal regular normal>) = 10.335
findfont: score(<Font 'STIXSizeTwoSym' (STIXSizTwoSymBol.ttf) normal normal bold normal>) = 10.0
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono-BoldOblique.ttf) oblique normal bold normal>) = 11.0
findfont: score(<Font 'STIXSizeTwoSym' (STIXSizTwoSymReg.ttf) normal normal regular normal>) = 10.335
findfont: score(<Font 'STIXNonUnicode' (STIXNonUniBolIta.ttf) italic normal bold normal>) = 11.0
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif-Italic.ttf) italic normal 400 normal>) = 11.335
findfont: score(<Font 'DejaVu Sans' (DejaVuSans-BoldOblique.ttf) oblique normal bold normal>) = 1.0
findfont: score(<Font 'STIXNonUnicode' (STIXNonUni.ttf) normal normal regular normal>) = 10.335
findfont: score(<Font 'cmtt10' (cmtt10.ttf) normal normal 400 normal>) = 10.335
findfont: score(<Font 'STIXSizeThreeSym' (STIXSizThreeSymReg.ttf) normal normal regular normal>) = 10.335
findfont: score(<Font 'DejaVu Sans' (DejaVuSans-Oblique.ttf) oblique normal 400 normal>) = 1.335
findfont: score(<Font 'STIXGeneral' (STIXGeneral.ttf) normal normal regular normal>) = 10.335
findfont: score(<Font 'STIXNonUnicode' (STIXNonUniBol.ttf) normal normal bold normal>) = 10.0
findfont: score(<Font 'STIXGeneral' (STIXGeneralBolIta.ttf) italic normal bold normal>) = 11.0
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif-BoldItalic.ttf) italic normal bold normal>) = 11.0
findfont: score(<Font 'DejaVu Sans Display' (DejaVuSansDisplay.ttf) normal normal 400 normal>) = 10.335
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif.ttf) normal normal 400 normal>) = 10.335
findfont: score(<Font 'cmb10' (cmb10.ttf) normal normal 400 normal>) = 10.335
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono-Bold.ttf) normal normal bold normal>) = 10.0
findfont: score(<Font 'STIXSizeFourSym' (STIXSizFourSymReg.ttf) normal normal regular normal>) = 10.335
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono-Oblique.ttf) oblique normal 400 normal>) = 11.335
findfont: score(<Font 'DejaVu Sans' (DejaVuSans-Bold.ttf) normal normal bold normal>) = 0.0
findfont: Matching :family=sans-serif:style=normal:variant=normal:weight=bold:stretch=normal:size=12.0 to DejaVu Sans ('/home/circleci/repo/venv/lib/python3.7/site-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-Bold.ttf') with score of 0.000000.
findfont: Matching :family=sans-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=10.0.
findfont: score(<Font 'DejaVu Sans' (DejaVuSans.ttf) normal normal 400 normal>) = 0.05
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif-Bold.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'STIXGeneral' (STIXGeneralBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'STIXSizeOneSym' (STIXSizOneSymBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'cmss10' (cmss10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'cmr10' (cmr10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'STIXSizeFiveSym' (STIXSizFiveSymReg.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'STIXSizeTwoSym' (STIXSizTwoSymBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono-BoldOblique.ttf) oblique normal bold normal>) = 11.335
findfont: score(<Font 'STIXSizeTwoSym' (STIXSizTwoSymReg.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'STIXNonUnicode' (STIXNonUniBolIta.ttf) italic normal bold normal>) = 11.335
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif-Italic.ttf) italic normal 400 normal>) = 11.05
findfont: score(<Font 'DejaVu Sans' (DejaVuSans-BoldOblique.ttf) oblique normal bold normal>) = 1.335
findfont: score(<Font 'STIXNonUnicode' (STIXNonUni.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'cmtt10' (cmtt10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'STIXSizeThreeSym' (STIXSizThreeSymReg.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'DejaVu Sans' (DejaVuSans-Oblique.ttf) oblique normal 400 normal>) = 1.05
findfont: score(<Font 'STIXGeneral' (STIXGeneral.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'STIXNonUnicode' (STIXNonUniBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'STIXGeneral' (STIXGeneralBolIta.ttf) italic normal bold normal>) = 11.335
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif-BoldItalic.ttf) italic normal bold normal>) = 11.335
findfont: score(<Font 'DejaVu Sans Display' (DejaVuSansDisplay.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'cmb10' (cmb10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono-Bold.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'STIXSizeFourSym' (STIXSizFourSymReg.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono-Oblique.ttf) oblique normal 400 normal>) = 11.05
findfont: score(<Font 'DejaVu Sans' (DejaVuSans-Bold.ttf) normal normal bold normal>) = 0.33499999999999996
findfont: score(<Font 'STIXSizeFourSym' (STIXSizFourSymBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'STIXGeneral' (STIXGeneralItalic.ttf) italic normal 400 normal>) = 11.05
findfont: score(<Font 'STIXNonUnicode' (STIXNonUniIta.ttf) italic normal 400 normal>) = 11.05
findfont: score(<Font 'STIXSizeThreeSym' (STIXSizThreeSymBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'cmex10' (cmex10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'DejaVu Serif Display' (DejaVuSerifDisplay.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'cmsy10' (cmsy10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'cmmi10' (cmmi10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'STIXSizeOneSym' (STIXSizOneSymReg.ttf) normal normal regular normal>) = 10.05
findfont: Matching :family=sans-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=10.0 to DejaVu Sans ('/home/circleci/repo/venv/lib/python3.7/site-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans.ttf') with score of 0.050000.

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (pyplot_kwargs.spec.ts)                                                    │
  │ Searched:   ../e2e/specs/pyplot_kwargs.spec.ts                                                 │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: pyplot_kwargs.spec.ts...                                                        (1 of 1) 


  st.pyplot with kwargs
STREAM b'IHDR' 16 13
STREAM b'sBIT' 41 4
b'sBIT' 41 4 (unknown)
STREAM b'pHYs' 57 9
STREAM b'tEXt' 78 56
STREAM b'IDAT' 146 8192
2019-11-08T22:53:18Z.102 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.60ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f5bd40d3290>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
Caching message (hash=8ac704445b9f5e8d9e2a9b0d71a2ac04)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ draws long text strings correctly (2999ms)


  1 passing (4s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_039.json


  (Results)

  ┌─────────────────────────────────────┐
  │ Tests:        1                     │
  │ Passing:      1                     │
  │ Failing:      0                     │
  │ Pending:      0                     │
  │ Skipped:      0                     │
  │ Screenshots:  1                     │
  │ Video:        true                  │
  │ Duration:     4 seconds             │
  │ Spec Ran:     pyplot_kwargs.spec.ts │
  └─────────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/pyplot_kwargs.spec.ts/pyplot-long-text-strings.snap.png (698x492)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/pyplot_kwargs.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ pyplot_kwargs.spec.ts                     00:04        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:04        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/radio.spec.ts
2019-11-08T22:53:22Z.467 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/radio.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (radio.spec.ts)                                                            │
  │ Searched:   ../e2e/specs/radio.spec.ts                                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: radio.spec.ts...                                                                (1 of 1) 


  st.radio
2019-11-08T22:53:31Z.618 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.59ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f33283c0290>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ shows widget correctly (3817ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:53:34Z.850 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.42ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f33283c0b90>
Watcher created for /home/circleci/repo/e2e/scripts/radio.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ has correct initial values (1197ms)
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:53:35Z.453 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.42ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f3327d60650>
Watcher created for /home/circleci/repo/e2e/scripts/radio.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ formats display values (679ms)
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:53:36Z.025 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.48ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f3327d71450>
Watcher created for /home/circleci/repo/e2e/scripts/radio.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ handles no options (748ms)
Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:53:37Z.096 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.43ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f3327d6e410>
Watcher created for /home/circleci/repo/e2e/scripts/radio.py
ReportSession initialized (id=4)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "2594957552859062271"
    int_value: 1
  }
  widgets {
    id: "4370990585713911560"
    int_value: 1
  }
  widgets {
    id: "7051598807372004339"
    int_value: 0
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "2594957552859062271"
  int_value: 1
}
widgets {
  id: "4370990585713911560"
  int_value: 1
}
widgets {
  id: "7051598807372004339"
  int_value: 0
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ sets value correctly when user clicks (1076ms)


  5 passing (9s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_040.json


  (Results)

  ┌─────────────────────────────┐
  │ Tests:        5             │
  │ Passing:      5             │
  │ Failing:      0             │
  │ Pending:      0             │
  │ Skipped:      0             │
  │ Screenshots:  3             │
  │ Video:        true          │
  │ Duration:     8 seconds     │
  │ Spec Ran:     radio.spec.ts │
  └─────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/radio.spec.ts/radio0.snap.png (698x80)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/radio.spec.ts/radio1.snap.png (698x80)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/radio.spec.ts/radio2.snap.png (698x55)

Shutting down (id=4)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/radio.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ radio.spec.ts                             00:08        5        5        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:08        5        5        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/reuse_label.spec.ts
2019-11-08T22:53:40Z.793 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/reuse_label.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (reuse_label.spec.ts)                                                      │
  │ Searched:   ../e2e/specs/reuse_label.spec.ts                                                   │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: reuse_label.spec.ts...                                                          (1 of 1) 


  reuse widget label
2019-11-08T22:53:50Z.323 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.78ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fab8c7b6490>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
Received the following back message:
update_widgets {
  widgets {
    id: "-5886197038779651642"
    float_array_value {
      value: 50.0
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-5886197038779651642"
  float_array_value {
    value: 50.0
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ reuses a widget label for different widget types (2563ms)


  1 passing (4s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_041.json


  (Results)

  ┌───────────────────────────────────┐
  │ Tests:        1                   │
  │ Passing:      1                   │
  │ Failing:      0                   │
  │ Pending:      0                   │
  │ Skipped:      0                   │
  │ Screenshots:  0                   │
  │ Video:        true                │
  │ Duration:     3 seconds           │
  │ Spec Ran:     reuse_label.spec.ts │
  └───────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/reuse_label.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ reuse_label.spec.ts                       00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/selectbox.spec.ts
2019-11-08T22:53:54Z.243 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/selectbox.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (selectbox.spec.ts)                                                        │
  │ Searched:   ../e2e/specs/selectbox.spec.ts                                                     │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: selectbox.spec.ts...                                                            (1 of 1) 


  st.selectbox
2019-11-08T22:54:03Z.462 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.64ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f04e8c67290>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ shows widget correctly (3464ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:54:06Z.300 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.58ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f04e8c67a50>
Watcher created for /home/circleci/repo/e2e/scripts/selectbox.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ has correct initial values (1122ms)
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:54:07Z.066 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.45ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f04e8c82550>
Watcher created for /home/circleci/repo/e2e/scripts/selectbox.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ formats display values (851ms)
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:54:07Z.792 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.48ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f04e8c87090>
Watcher created for /home/circleci/repo/e2e/scripts/selectbox.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ handles no options (744ms)
Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:54:08Z.624 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.63ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f04e8c67d50>
Watcher created for /home/circleci/repo/e2e/scripts/selectbox.py
ReportSession initialized (id=4)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "2267934229772027622"
    int_value: 1
  }
  widgets {
    id: "8672155886729901276"
    int_value: 1
  }
  widgets {
    id: "8720749938931342367"
    int_value: 0
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "2267934229772027622"
  int_value: 1
}
widgets {
  id: "8672155886729901276"
  int_value: 1
}
widgets {
  id: "8720749938931342367"
  int_value: 0
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ sets value correctly when user clicks (1144ms)


  5 passing (9s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_042.json


  (Results)

  ┌─────────────────────────────────┐
  │ Tests:        5                 │
  │ Passing:      5                 │
  │ Failing:      0                 │
  │ Pending:      0                 │
  │ Skipped:      0                 │
  │ Screenshots:  3                 │
  │ Video:        true              │
  │ Duration:     8 seconds         │
  │ Spec Ran:     selectbox.spec.ts │
  └─────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/selectbox.spec.ts/selectbox0.snap.png (698x79)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/selectbox.spec.ts/selectbox1.snap.png (698x79)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/selectbox.spec.ts/selectbox2.snap.png (698x79)

Shutting down (id=4)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/selectbox.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ selectbox.spec.ts                         00:08        5        5        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:08        5        5        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/sidebar.spec.ts
2019-11-08T22:54:12Z.523 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/sidebar.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (sidebar.spec.ts)                                                          │
  │ Searched:   ../e2e/specs/sidebar.spec.ts                                                       │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: sidebar.spec.ts...                                                              (1 of 1) 


  st.sidebar
2019-11-08T22:54:21Z.583 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.63ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f4ce8648210>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ handles z-index of date input popover (2743ms)
    1) handles overwriting elements


  1 passing (8s)
  1 failing

  1) st.sidebar
       handles overwriting elements:
     CypressError: Timed out retrying: Expected to find element: '.sidebar .stMarkdown', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_043.json


  (Results)

  ┌───────────────────────────────┐
  │ Tests:        2               │
  │ Passing:      1               │
  │ Failing:      1               │
  │ Pending:      0               │
  │ Skipped:      0               │
  │ Screenshots:  2               │
  │ Video:        true            │
  │ Duration:     8 seconds       │
  │ Spec Ran:     sidebar.spec.ts │
  └───────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/sidebar.spec.ts/date-popover-sidebar.snap.png (336x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/sidebar.spec.ts/st.sidebar -- handles overwriting elements (failed).png (1280x720)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/sidebar.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ sidebar.spec.ts                           00:08        2        1        1        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:08        2        1        1        -        -  

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/slider.spec.ts
2019-11-08T22:54:30Z.198 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/slider.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (slider.spec.ts)                                                           │
  │ Searched:   ../e2e/specs/slider.spec.ts                                                        │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: slider.spec.ts...                                                               (1 of 1) 


  st.slider
2019-11-08T22:54:39Z.236 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.62ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f05988a2210>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ shows labels (1781ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:54:40Z.453 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.44ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f05988a2590>
Watcher created for /home/circleci/repo/e2e/scripts/slider.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ has correct values (1227ms)
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:54:41Z.052 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.47ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f05988bc890>
Watcher created for /home/circleci/repo/e2e/scripts/slider.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-1582517133041106303"
    float_array_value {
      value: 25.0
      value: 75.0
    }
  }
  widgets {
    id: "5798895869434785765"
    float_array_value {
      value: 50.0
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-1582517133041106303"
  float_array_value {
    value: 25.0
    value: 75.0
  }
}
widgets {
  id: "5798895869434785765"
  float_array_value {
    value: 50.0
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ handles value changes (1039ms)
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:54:42Z.169 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.43ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f05988bc750>
Watcher created for /home/circleci/repo/e2e/scripts/slider.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-1582517133041106303"
    float_array_value {
      value: 25.0
      value: 75.0
    }
  }
  widgets {
    id: "5798895869434785765"
    float_array_value {
      value: 26.0
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-1582517133041106303"
  float_array_value {
    value: 25.0
    value: 75.0
  }
}
widgets {
  id: "5798895869434785765"
  float_array_value {
    value: 26.0
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ increments the value on right arrow key press (1270ms)
Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:54:43Z.442 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.61ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f05988bef10>
Watcher created for /home/circleci/repo/e2e/scripts/slider.py
ReportSession initialized (id=4)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-1582517133041106303"
    float_array_value {
      value: 25.0
      value: 75.0
    }
  }
  widgets {
    id: "5798895869434785765"
    float_array_value {
      value: 24.0
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-1582517133041106303"
  float_array_value {
    value: 25.0
    value: 75.0
  }
}
widgets {
  id: "5798895869434785765"
  float_array_value {
    value: 24.0
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ decrements the value on left arrow key press (1219ms)


  5 passing (8s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_044.json


  (Results)

  ┌──────────────────────────────┐
  │ Tests:        5              │
  │ Passing:      5              │
  │ Failing:      0              │
  │ Pending:      0              │
  │ Skipped:      0              │
  │ Screenshots:  0              │
  │ Video:        true           │
  │ Duration:     7 seconds      │
  │ Spec Ran:     slider.spec.ts │
  └──────────────────────────────┘

Shutting down (id=4)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/slider.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ slider.spec.ts                            00:07        5        5        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:07        5        5        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/st_in_cache_warning.spec.ts
2019-11-08T22:54:47Z.391 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/st_in_cache_warning.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
Hashing arguments to cached_write of 271 bytes.
Hashing function cached_write in 317 bytes.
Cache key: 872ec281cd86d7676f78944f5a088802
Memory cache MISS: 872ec281cd86d7676f78944f5a088802
Hashing arguments to cached_widget of 253 bytes.
Hashing function cached_widget in 622 bytes.
Cache key: 30912024ad73f900391b113a6e49312b
Memory cache MISS: 30912024ad73f900391b113a6e49312b
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13
Hashing arguments to cached_write_nowarn of 253 bytes.
Hashing function cached_write_nowarn in 317 bytes.
Cache key: dc40386d47940964759ec34f4d601e3d

Memory cache MISS: dc40386d47940964759ec34f4d601e3d
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
  You can now view your Streamlit app in your browser.

OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (st_in_cache_warning.spec.ts)                                              │
  │ Searched:   ../e2e/specs/st_in_cache_warning.spec.ts                                           │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: st_in_cache_warning.spec.ts...                                                  (1 of 1) 


  st calls within cached functions
2019-11-08T22:54:56Z.372 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.76ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f0e1fff5d50>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays expected results (1800ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_045.json


  (Results)

  ┌───────────────────────────────────────────┐
  │ Tests:        1                           │
  │ Passing:      1                           │
  │ Failing:      0                           │
  │ Pending:      0                           │
  │ Skipped:      0                           │
  │ Screenshots:  0                           │
  │ Video:        true                        │
  │ Duration:     2 seconds                   │
  │ Spec Ran:     st_in_cache_warning.spec.ts │
  └───────────────────────────────────────────┘

Shutting down (id=0)

  (Video)

  - Started processing:   Compressing to 32 CRF
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/st_in_cache_warning.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ st_in_cache_warning.spec.ts               00:02        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:02        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/st_json.spec.ts
2019-11-08T22:54:59Z.631 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/st_json.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (st_json.spec.ts)                                                          │
  │ Searched:   ../e2e/specs/st_json.spec.ts                                                       │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: st_json.spec.ts...                                                              (1 of 1) 


  st.json
2019-11-08T22:55:08Z.678 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.58ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f9a45992410>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a json (1722ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_046.json


  (Results)

  ┌───────────────────────────────┐
  │ Tests:        1               │
  │ Passing:      1               │
  │ Failing:      0               │
  │ Pending:      0               │
  │ Skipped:      0               │
  │ Screenshots:  0               │
  │ Video:        true            │
  │ Duration:     2 seconds       │
  │ Spec Ran:     st_json.spec.ts │
  └───────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/st_json.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ st_json.spec.ts                           00:02        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:02        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/subheader.spec.ts
2019-11-08T22:55:11Z.503 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/subheader.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (subheader.spec.ts)                                                        │
  │ Searched:   ../e2e/specs/subheader.spec.ts                                                     │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: subheader.spec.ts...                                                            (1 of 1) 


  st.subheader
2019-11-08T22:55:20Z.659 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.88ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f378835b390>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a subheader (1952ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_047.json


  (Results)

  ┌─────────────────────────────────┐
  │ Tests:        1                 │
  │ Passing:      1                 │
  │ Failing:      0                 │
  │ Pending:      0                 │
  │ Skipped:      0                 │
  │ Screenshots:  0                 │
  │ Video:        true              │
  │ Duration:     2 seconds         │
  │ Spec Ran:     subheader.spec.ts │
  └─────────────────────────────────┘

Shutting down (id=0)

  (Video)

  - Started processing:   Compressing to 32 CRF
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/subheader.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ subheader.spec.ts                         00:02        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:02        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/success.spec.ts
2019-11-08T22:55:23Z.569 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/success.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (success.spec.ts)                                                          │
  │ Searched:   ../e2e/specs/success.spec.ts                                                       │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: success.spec.ts...                                                              (1 of 1) 


  st.success
2019-11-08T22:55:32Z.500 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.62ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fc7b6a11190>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a success message (1574ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_048.json


  (Results)

  ┌───────────────────────────────┐
  │ Tests:        1               │
  │ Passing:      1               │
  │ Failing:      0               │
  │ Pending:      0               │
  │ Skipped:      0               │
  │ Screenshots:  0               │
  │ Video:        true            │
  │ Duration:     2 seconds       │
  │ Spec Ran:     success.spec.ts │
  └───────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/success.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ success.spec.ts                           00:02        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:02        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/table.spec.ts
2019-11-08T22:55:35Z.456 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/table.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (table.spec.ts)                                                            │
  │ Searched:   ../e2e/specs/table.spec.ts                                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: table.spec.ts...                                                                (1 of 1) 


  st.table
2019-11-08T22:55:45Z.642 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.81ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f14a2208850>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a table (2264ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:55:47Z.415 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.47ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f14a21f9a90>
Watcher created for /home/circleci/repo/e2e/scripts/table.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ checks number of rows (1793ms)
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:55:48Z.416 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.63ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f14a214f850>
Watcher created for /home/circleci/repo/e2e/scripts/table.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ checks number of cells (1089ms)
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:55:49Z.611 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.65ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f14a287dc10>
Watcher created for /home/circleci/repo/e2e/scripts/table.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ contains all numbers from 0..99 (1627ms)
Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:55:51Z.352 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.47ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f14a215aa10>
Watcher created for /home/circleci/repo/e2e/scripts/table.py
ReportSession initialized (id=4)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ looks the same (922ms)


  5 passing (9s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_049.json


  (Results)

  ┌─────────────────────────────┐
  │ Tests:        5             │
  │ Passing:      5             │
  │ Failing:      0             │
  │ Pending:      0             │
  │ Skipped:      0             │
  │ Screenshots:  0             │
  │ Video:        true          │
  │ Duration:     9 seconds     │
  │ Spec Ran:     table.spec.ts │
  └─────────────────────────────┘

Shutting down (id=4)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/table.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ table.spec.ts                             00:09        5        5        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:09        5        5        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/table_styling.spec.ts
2019-11-08T22:55:55Z.159 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/table_styling.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000

Loaded backend agg version unknown.
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (table_styling.spec.ts)                                                    │
  │ Searched:   ../e2e/specs/table_styling.spec.ts                                                 │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: table_styling.spec.ts...                                                        (1 of 1) 


  st.table styling
2019-11-08T22:56:04Z.970 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.60ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f216e002090>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays unstyled table (2829ms)
    ✓ displays table with custom formatted cells (761ms)
    ✓ displays table with colored cells (828ms)
    ✓ displays table with differently styled rows (754ms)


  4 passing (6s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_050.json


  (Results)

  ┌─────────────────────────────────────┐
  │ Tests:        4                     │
  │ Passing:      4                     │
  │ Failing:      0                     │
  │ Pending:      0                     │
  │ Skipped:      0                     │
  │ Screenshots:  4                     │
  │ Video:        true                  │
  │ Duration:     6 seconds             │
  │ Spec Ran:     table_styling.spec.ts │
  └─────────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/table_styling.spec.ts/table-unstyled.snap.png (698x279)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/table_styling.spec.ts/table-formatted-cells.snap.png (698x279)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/table_styling.spec.ts/table-colored-cells.snap.png (698x279)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/table_styling.spec.ts/table-styled-rows.snap.png (698x484)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/table_styling.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ table_styling.spec.ts                     00:06        4        4        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:06        4        4        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/text.spec.ts
2019-11-08T22:56:11Z.885 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/text.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (text.spec.ts)                                                             │
  │ Searched:   ../e2e/specs/text.spec.ts                                                          │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: text.spec.ts...                                                                 (1 of 1) 


  st.text
2019-11-08T22:56:22Z.178 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.59ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fe82f1e4490>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a text (1824ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_051.json


  (Results)

  ┌────────────────────────────┐
  │ Tests:        1            │
  │ Passing:      1            │
  │ Failing:      0            │
  │ Pending:      0            │
  │ Skipped:      0            │
  │ Screenshots:  0            │
  │ Video:        true         │
  │ Duration:     2 seconds    │
  │ Spec Ran:     text.spec.ts │
  └────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/text.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ text.spec.ts                              00:02        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:02        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/text_area.spec.ts
2019-11-08T22:56:25Z.268 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/text_area.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (text_area.spec.ts)                                                        │
  │ Searched:   ../e2e/specs/text_area.spec.ts                                                     │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: text_area.spec.ts...                                                            (1 of 1) 


  st.text_area
2019-11-08T22:56:35Z.446 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.59ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2fd1d19090>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ shows widget correctly (4806ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:56:39Z.497 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.42ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2fd1d19f90>
Watcher created for /home/circleci/repo/e2e/scripts/text_area.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ has correct default values (1277ms)
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:56:40Z.354 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.45ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2fd1d3f090>
Watcher created for /home/circleci/repo/e2e/scripts/text_area.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ sets value correctly when user types (1142ms)
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:56:41Z.470 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.52ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2fd1d3f590>
Watcher created for /home/circleci/repo/e2e/scripts/text_area.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-6792856405649265106"
    string_value: "test area"
  }
  widgets {
    id: "-6184140783998051545"
    string_value: "default text"
  }
  widgets {
    id: "2436683704372074603"
    string_value: "1234"
  }
  widgets {
    id: "3845391403100622366"
    string_value: "None"
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-6792856405649265106"
  string_value: "test area"
}
widgets {
  id: "-6184140783998051545"
  string_value: "default text"
}
widgets {
  id: "2436683704372074603"
  string_value: "1234"
}
widgets {
  id: "3845391403100622366"
  string_value: "None"
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ sets value correctly on ctrl-enter keypress (1206ms)
Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:56:42Z.566 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.44ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2fd1d46410>
Watcher created for /home/circleci/repo/e2e/scripts/text_area.py
ReportSession initialized (id=4)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-6792856405649265106"
    string_value: "test area"
  }
  widgets {
    id: "-6184140783998051545"
    string_value: "default text"
  }
  widgets {
    id: "2436683704372074603"
    string_value: "1234"
  }
  widgets {
    id: "3845391403100622366"
    string_value: "None"
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-6792856405649265106"
  string_value: "test area"
}
widgets {
  id: "-6184140783998051545"
  string_value: "default text"
}
widgets {
  id: "2436683704372074603"
  string_value: "1234"
}
widgets {
  id: "3845391403100622366"
  string_value: "None"
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ sets value correctly on command-enter keypress (1077ms)
Shutting down (id=4)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:56:43Z.698 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.50ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2fd1d3ff10>
Watcher created for /home/circleci/repo/e2e/scripts/text_area.py
ReportSession initialized (id=5)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-6792856405649265106"
    string_value: "test area"
  }
  widgets {
    id: "-6184140783998051545"
    string_value: "default text"
  }
  widgets {
    id: "2436683704372074603"
    string_value: "1234"
  }
  widgets {
    id: "3845391403100622366"
    string_value: "None"
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-6792856405649265106"
  string_value: "test area"
}
widgets {
  id: "-6184140783998051545"
  string_value: "default text"
}
widgets {
  id: "2436683704372074603"
  string_value: "1234"
}
widgets {
  id: "3845391403100622366"
  string_value: "None"
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ sets value correctly on blur (1315ms)


  6 passing (12s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_052.json


  (Results)

  ┌─────────────────────────────────┐
  │ Tests:        6                 │
  │ Passing:      6                 │
  │ Failing:      0                 │
  │ Pending:      0                 │
  │ Skipped:      0                 │
  │ Screenshots:  4                 │
  │ Video:        true              │
  │ Duration:     12 seconds        │
  │ Spec Ran:     text_area.spec.ts │
  └─────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/text_area.spec.ts/text_area0.snap.png (698x129)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/text_area.spec.ts/text_area1.snap.png (698x129)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/text_area.spec.ts/text_area2.snap.png (698x129)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/text_area.spec.ts/text_area3.snap.png (698x129)

Shutting down (id=5)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/text_area.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ text_area.spec.ts                         00:12        6        6        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:12        6        6        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/text_input.spec.ts
2019-11-08T22:56:48Z.258 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/text_input.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (text_input.spec.ts)                                                       │
  │ Searched:   ../e2e/specs/text_input.spec.ts                                                    │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: text_input.spec.ts...                                                           (1 of 1) 


  st.text_input
2019-11-08T22:56:58Z.076 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.65ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fa114ae8590>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    1) shows widget correctly
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:57:03Z.282 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.44ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fa114ae8550>
Watcher created for /home/circleci/repo/e2e/scripts/text_input.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ has correct default values (1164ms)
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:57:03Z.859 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.43ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fa114af7810>
Watcher created for /home/circleci/repo/e2e/scripts/text_input.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    2) sets value correctly when user types
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:57:08Z.369 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.59ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fa114b07750>
Watcher created for /home/circleci/repo/e2e/scripts/text_input.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    3) sets value correctly on enter keypress
Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:57:12Z.804 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.73ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fa114b14390>
Watcher created for /home/circleci/repo/e2e/scripts/text_input.py
ReportSession initialized (id=4)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    4) sets value correctly on blur


  1 passing (22s)
  4 failing

  1) st.text_input
       shows widget correctly:
     CypressError: Timed out retrying: Expected to find element: '.stMarkdownInput', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  2) st.text_input
       sets value correctly when user types:
     CypressError: Timed out retrying: Expected to find element: '.stMarkdownInput input', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  3) st.text_input
       sets value correctly on enter keypress:
     CypressError: Timed out retrying: Expected to find element: '.stMarkdownInput input', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  4) st.text_input
       sets value correctly on blur:
     CypressError: Timed out retrying: Expected to find element: '.stMarkdownInput input', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_053.json


  (Results)

  ┌──────────────────────────────────┐
  │ Tests:        5                  │
  │ Passing:      1                  │
  │ Failing:      4                  │
  │ Pending:      0                  │
  │ Skipped:      0                  │
  │ Screenshots:  4                  │
  │ Video:        true               │
  │ Duration:     21 seconds         │
  │ Spec Ran:     text_input.spec.ts │
  └──────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/mochawesome-report/assets/text_input.spec.ts/st.text_input -- shows widget correctly (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/text_input.spec.ts/st.text_input -- sets value correctly when user types (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/text_input.spec.ts/st.text_input -- sets value correctly on enter keypress (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/text_input.spec.ts/st.text_input -- sets value correctly on blur (failed).png (1280x720)

Shutting down (id=4)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/text_input.spec.ts.mp4 (1 second)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ text_input.spec.ts                        00:21        5        1        4        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:21        5        1        4        -        -  

error Command failed with exit code 4.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/time_input.spec.ts
2019-11-08T22:57:20Z.485 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/time_input.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (time_input.spec.ts)                                                       │
  │ Searched:   ../e2e/specs/time_input.spec.ts                                                    │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: time_input.spec.ts...                                                           (1 of 1) 


  st.time_input
2019-11-08T22:57:29Z.613 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.64ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f03b0288190>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ shows labels (1828ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:57:30Z.806 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.43ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f03b0288a10>
Watcher created for /home/circleci/repo/e2e/scripts/time_input.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ has correct values (1050ms)
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:57:31Z.521 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.44ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f03b02a11d0>
Watcher created for /home/circleci/repo/e2e/scripts/time_input.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-1429228906800039714"
    string_value: "00:00"
  }
  widgets {
    id: "-2109514167844333180"
    string_value: "21:15"
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-1429228906800039714"
  string_value: "00:00"
}
widgets {
  id: "-2109514167844333180"
  string_value: "21:15"
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ handles value changes (1385ms)
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T22:57:32Z.763 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.63ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f03b02a1050>
Watcher created for /home/circleci/repo/e2e/scripts/time_input.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-1429228906800039714"
    string_value: "01:11"
  }
  widgets {
    id: "-2109514167844333180"
    string_value: "21:15"
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-1429228906800039714"
  string_value: "01:11"
}
widgets {
  id: "-2109514167844333180"
  string_value: "21:15"
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ allows creatable values (1421ms)


  4 passing (7s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_054.json


  (Results)

  ┌──────────────────────────────────┐
  │ Tests:        4                  │
  │ Passing:      4                  │
  │ Failing:      0                  │
  │ Pending:      0                  │
  │ Skipped:      0                  │
  │ Screenshots:  0                  │
  │ Video:        true               │
  │ Duration:     6 seconds          │
  │ Spec Ran:     time_input.spec.ts │
  └──────────────────────────────────┘

Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/time_input.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ time_input.spec.ts                        00:06        4        4        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:06        4        4        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/title.spec.ts
2019-11-08T22:57:36Z.818 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/title.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (title.spec.ts)                                                            │
  │ Searched:   ../e2e/specs/title.spec.ts                                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: title.spec.ts...                                                                (1 of 1) 


  st.title
2019-11-08T22:57:45Z.918 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.62ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fdcdcffe7d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a title (1632ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_055.json


  (Results)

  ┌─────────────────────────────┐
  │ Tests:        1             │
  │ Passing:      1             │
  │ Failing:      0             │
  │ Pending:      0             │
  │ Skipped:      0             │
  │ Screenshots:  0             │
  │ Video:        true          │
  │ Duration:     2 seconds     │
  │ Spec Ran:     title.spec.ts │
  └─────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/title.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ title.spec.ts                             00:02        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:02        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/vega_lite_chart.spec.ts
2019-11-08T22:57:48Z.797 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/vega_lite_chart.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (vega_lite_chart.spec.ts)                                                  │
  │ Searched:   ../e2e/specs/vega_lite_chart.spec.ts                                               │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: vega_lite_chart.spec.ts...                                                      (1 of 1) 


  st.vega_lite_chart
2019-11-08T22:57:57Z.752 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.63ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f99cd551a90>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays charts on the DOM (2541ms)
    ✓ sets the correct chart width (107ms)
    ✓ supports different ways to get the same plot (2577ms)


  3 passing (6s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_056.json


  (Results)

  ┌───────────────────────────────────────┐
  │ Tests:        3                       │
  │ Passing:      3                       │
  │ Failing:      0                       │
  │ Pending:      0                       │
  │ Skipped:      0                       │
  │ Screenshots:  4                       │
  │ Video:        true                    │
  │ Duration:     6 seconds               │
  │ Spec Ran:     vega_lite_chart.spec.ts │
  └───────────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/vega_lite_chart.spec.ts/st.vega_lite_chart -- supports different ways to get the same plot.snap.png (698x207)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/vega_lite_chart.spec.ts/st.vega_lite_chart -- supports different ways to get the same plot.snap.png (698x207)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/vega_lite_chart.spec.ts/st.vega_lite_chart -- supports different ways to get the same plot.snap.png (698x207)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/vega_lite_chart.spec.ts/st.vega_lite_chart -- supports different ways to get the same plot.snap.png (698x207)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/vega_lite_chart.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ vega_lite_chart.spec.ts                   00:06        3        3        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:06        3        3        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/vega_update.spec.ts
2019-11-08T22:58:04Z.759 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/vega_update.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (vega_update.spec.ts)                                                      │
  │ Searched:   ../e2e/specs/vega_update.spec.ts                                                   │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: vega_update.spec.ts...                                                          (1 of 1) 


  add lots of data to vega chart
2019-11-08T22:58:14Z.372 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.62ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7ff3838c66d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Caching message (hash=f73cfecaf04e326a3fb96f7987be01e8)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    1) updates the x-axis values


  0 passing (5s)
  1 failing

  1) add lots of data to vega chart
       updates the x-axis values:
     Error: Image was 4.562379746134574% different from saved snapshot with 6592 different pixels.
See diff for details: /home/circleci/repo/frontend/cypress/snapshots/linux/2x/vega_update.spec.ts/__diff_output__/vega-updates-x-axis-values.diff.png
      at Context.cy.task.then (http://localhost:3000/__cypress/tests?p=cypress/support/index.js-618:2429:17)



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_057.json


  (Results)

  ┌───────────────────────────────────┐
  │ Tests:        1                   │
  │ Passing:      0                   │
  │ Failing:      1                   │
  │ Pending:      0                   │
  │ Skipped:      0                   │
  │ Screenshots:  2                   │
  │ Video:        true                │
  │ Duration:     4 seconds           │
  │ Spec Ran:     vega_update.spec.ts │
  └───────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/vega_update.spec.ts/__diff_output__/vega-updates-x-axis-values.diff.png (698x207)
  - /home/circleci/repo/frontend/mochawesome-report/assets/vega_update.spec.ts/add lots of data to vega chart -- updates the x-axis values (failed).png (1280x720)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/vega_update.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ vega_update.spec.ts                       00:04        1        -        1        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:04        1        -        1        -        -  

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/video.spec.ts
2019-11-08T22:58:19Z.477 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/video.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
Starting new HTTPS connection (1): www.w3schools.com:443
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000

https://www.w3schools.com:443 "GET /html/mov_bbb.mp4 HTTP/1.1" 200 788493
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (video.spec.ts)                                                            │
  │ Searched:   ../e2e/specs/video.spec.ts                                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: video.spec.ts...                                                                (1 of 1) 


  st.video
2019-11-08T22:58:28Z.134 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.62ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fcf038c1f90>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Caching message (hash=db7df82b2ae5f8e455df5e1153a5174a)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a video player (2076ms)
ALSA lib confmisc.c:767:(parse_card) cannot find card '0'
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_card_driver returned error: No such file or directory
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_concat returned error: No such file or directory
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory
ALSA lib conf.c:5007:(snd_config_expand) Evaluate error: No such file or directory
ALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM default
ALSA lib confmisc.c:767:(parse_card) cannot find card '0'
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_card_driver returned error: No such file or directory
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_concat returned error: No such file or directory
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory
ALSA lib conf.c:5007:(snd_config_expand) Evaluate error: No such file or directory
ALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM default


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_058.json


  (Results)

  ┌─────────────────────────────┐
  │ Tests:        1             │
  │ Passing:      1             │
  │ Failing:      0             │
  │ Pending:      0             │
  │ Skipped:      0             │
  │ Screenshots:  0             │
  │ Video:        true          │
  │ Duration:     3 seconds     │
  │ Spec Ran:     video.spec.ts │
  └─────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/video.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ video.spec.ts                             00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/warning.spec.ts
2019-11-08T22:58:31Z.568 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/warning.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (warning.spec.ts)                                                          │
  │ Searched:   ../e2e/specs/warning.spec.ts                                                       │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: warning.spec.ts...                                                              (1 of 1) 


  st.warning
2019-11-08T22:58:40Z.289 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.58ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f01769c5210>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a warning message (1526ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_059.json


  (Results)

  ┌───────────────────────────────┐
  │ Tests:        1               │
  │ Passing:      1               │
  │ Failing:      0               │
  │ Pending:      0               │
  │ Skipped:      0               │
  │ Screenshots:  0               │
  │ Video:        true            │
  │ Duration:     2 seconds       │
  │ Spec Ran:     warning.spec.ts │
  └───────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/warning.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ warning.spec.ts                           00:02        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:02        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/write.spec.ts
2019-11-08T22:58:43Z.133 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/write.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 13

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://52.91.228.51:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (write.spec.ts)                                                            │
  │ Searched:   ../e2e/specs/write.spec.ts                                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: write.spec.ts...                                                                (1 of 1) 


  st.write
2019-11-08T22:58:52Z.250 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.60ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f4a4a3b4210>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays markdown (1938ms)
    ✓ escapes HTML (46ms)
    ✓ allows HTML if defined explicitly (39ms)


  3 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_060.json


  (Results)

  ┌─────────────────────────────┐
  │ Tests:        3             │
  │ Passing:      3             │
  │ Failing:      0             │
  │ Pending:      0             │
  │ Skipped:      0             │
  │ Screenshots:  0             │
  │ Video:        true          │
  │ Duration:     3 seconds     │
  │ Spec Ran:     write.spec.ts │
  └─────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/write.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ write.spec.ts                             00:03        3        3        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        3        3        -        -        -  

../scripts/run_e2e_tests.sh: 71: cd: can't cd to frontend

✓ Reports saved:
/home/circleci/repo/frontend/mochawesome-report/mochawesome.html
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! streamlit-browser@0.49.0 cy:run-all: `../scripts/run_e2e_tests.sh -a true -c .. -r`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the streamlit-browser@0.49.0 cy:run-all script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/circleci/.npm/_logs/2019-11-08T22_58_58_495Z-debug.log
{ Error: Command failed: /bin/sh -c npm run cy:run-all
    at makeError (/home/circleci/repo/frontend/node_modules/start-server-and-test/node_modules/execa/index.js:174:9)
    at Promise.all.then.arr (/home/circleci/repo/frontend/node_modules/start-server-and-test/node_modules/execa/index.js:278:16)
    at process._tickCallback (internal/process/next_tick.js:68:7)
  code: 1,
  stdout: null,
  stderr: null,
  failed: true,
  signal: null,
  cmd: '/bin/sh -c npm run cy:run-all',
  timedOut: false,
  killed: false }
error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
Exited with code 1