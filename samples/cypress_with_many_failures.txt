yarn run v1.19.1
$ NODE_OPTIONS=--max_old_space_size=4096 start-server-and-test start http://localhost:3000 cy:run-all
starting server using command "npm run start"
and when url "http://localhost:3000" is responding
running tests using command "npm run cy:run-all"

> streamlit-browser@0.49.0 start /home/circleci/repo/frontend
> export NODE_OPTIONS=--max_old_space_size=4096 && ./scripts/preload.sh && craco start

--2019-11-08 02:49:26--  https://unpkg.com/viz.js@1.8.0/viz.js
Resolving unpkg.com (unpkg.com)... 104.16.124.175, 104.16.126.175, 104.16.125.175, ...
Connecting to unpkg.com (unpkg.com)|104.16.124.175|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: unspecified [application/javascript]
Saving to: ‘viz-1.8.0.min.js’

viz-1.8.0.min.js        [<=>                 ]       0  --.-KB/s               viz-1.8.0.min.js        [ <=>                ]   2.29M  --.-KB/s    in 0.02s   

2019-11-08 02:49:26 (91.8 MB/s) - ‘viz-1.8.0.min.js’ saved [2396782]

Starting the development server...

[hardsource:1ec7b6f9] Writing new cache 1ec7b6f9...
[hardsource:1ec7b6f9] Tracking node dependencies with: yarn.lock.
=============

WARNING: You are currently running a version of TypeScript which is not officially supported by typescript-estree.

You may find that it works just fine, or you may not.

SUPPORTED TYPESCRIPT VERSIONS: >=3.2.1 <3.6.0

YOUR TYPESCRIPT VERSION: 3.6.2

Please only submit bug reports when using the officially supported version.

=============
Compiled with warnings.

./node_modules/bokehjs/build/js/lib/models/textures/canvas_texture.js
Critical dependency: require function is used in a way in which dependencies cannot be statically extracted

./node_modules/bokehjs/build/js/lib/models/transforms/customjs_transform.js
Critical dependency: require function is used in a way in which dependencies cannot be statically extracted

./node_modules/bokehjs/build/js/lib/models/transforms/customjs_transform.js
Critical dependency: require function is used in a way in which dependencies cannot be statically extracted

./node_modules/bokehjs/build/js/lib/models/filters/customjs_filter.js
Critical dependency: require function is used in a way in which dependencies cannot be statically extracted

./node_modules/bokehjs/build/js/lib/models/callbacks/customjs.js
Critical dependency: require function is used in a way in which dependencies cannot be statically extracted

./node_modules/bokehjs/build/js/lib/models/formatters/func_tick_formatter.js
Critical dependency: require function is used in a way in which dependencies cannot be statically extracted

./node_modules/bokehjs/build/js/lib/models/tools/inspectors/customjs_hover.js
Critical dependency: require function is used in a way in which dependencies cannot be statically extracted

Search for the keywords to learn more about each warning.
To ignore, add // eslint-disable-next-line to the line before.


> streamlit-browser@0.49.0 cy:run-all /home/circleci/repo/frontend
> ../scripts/run_e2e_tests.sh -a true -c .. -r

rm: cannot remove 'cypress/mochawesome/*': No such file or directory
rm: cannot remove 'mochawesome.json': No such file or directory
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/add_rows.spec.ts
It looks like this is your first time using Cypress: 3.4.1

[02:51:53]  Verifying Cypress can run /home/circleci/.cache/Cypress/3.4.1/Cypress [started]
2019-11-08T02:51:54Z.493 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/add_rows.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000

/home/circleci/repo/venv/lib/python3.7/site-packages/altair/utils/core.py:108: UserWarning: I don't know how to infer vegalite type from 'empty'.  Defaulting to nominal.
  "Defaulting to nominal.".format(typ))
Dataframes have incompatible shapes
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
[02:51:55]  Verifying Cypress can run /home/circleci/.cache/Cypress/3.4.1/Cypress [completed]

Opening Cypress...

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (add_rows.spec.ts)                                                         │
  │ Searched:   ../e2e/specs/add_rows.spec.ts                                                      │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: add_rows.spec.ts...                                                             (1 of 1) 


  st.add_rows
2019-11-08T02:52:06Z.681 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.59ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fdf6afa7710>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
Received the following back message:
rerun_script: true

Beginning script thread
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
Dataframes have incompatible shapes
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ works for all elements that support it (3487ms)
    ✓ raises an exception when the shapes don't match
    ✓ correctly adds rows to tables and dataframes (65ms)
    1) correctly adds rows to charts


  3 passing (6s)
  1 failing

  1) st.add_rows
       correctly adds rows to charts:
     Error: Image was 4.142961947870382% different from saved snapshot with 5986 different pixels.
See diff for details: /home/circleci/repo/frontend/cypress/snapshots/linux/2x/add_rows.spec.ts/__diff_output__/stVegaLiteChart-0.diff.png
      at Context.cy.task.then (http://localhost:3000/__cypress/tests?p=cypress/support/index.js-310:2429:17)



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome.json


  (Results)

  ┌────────────────────────────────┐
  │ Tests:        4                │
  │ Passing:      3                │
  │ Failing:      1                │
  │ Pending:      0                │
  │ Skipped:      0                │
  │ Screenshots:  2                │
  │ Video:        true             │
  │ Duration:     6 seconds        │
  │ Spec Ran:     add_rows.spec.ts │
  └────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/add_rows.spec.ts/__diff_output__/stVegaLiteChart-0.diff.png (698x207)
  - /home/circleci/repo/frontend/mochawesome-report/assets/add_rows.spec.ts/st.add_rows -- correctly adds rows to charts (failed).png (1280x720)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/add_rows.spec.ts.mp4 (1 second)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ add_rows.spec.ts                          00:06        4        3        1        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:06        4        3        1        -        -  

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/altair_chart.spec.ts
2019-11-08T02:52:14Z.760 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/altair_chart.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (altair_chart.spec.ts)                                                     │
  │ Searched:   ../e2e/specs/altair_chart.spec.ts                                                  │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: altair_chart.spec.ts...                                                         (1 of 1) 


  st.altair_chart
2019-11-08T02:52:24Z.968 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.71ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f00f90359d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays an altair chart (2344ms)


  1 passing (4s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_001.json


  (Results)

  ┌────────────────────────────────────┐
  │ Tests:        1                    │
  │ Passing:      1                    │
  │ Failing:      0                    │
  │ Pending:      0                    │
  │ Skipped:      0                    │
  │ Screenshots:  0                    │
  │ Video:        true                 │
  │ Duration:     3 seconds            │
  │ Spec Ran:     altair_chart.spec.ts │
  └────────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/altair_chart.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ altair_chart.spec.ts                      00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/area_chart.spec.ts
2019-11-08T02:52:28Z.560 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/area_chart.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (area_chart.spec.ts)                                                       │
  │ Searched:   ../e2e/specs/area_chart.spec.ts                                                    │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: area_chart.spec.ts...                                                           (1 of 1) 


  st.area_chart
2019-11-08T02:52:38Z.014 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.76ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f7ec3317310>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays an area chart (2176ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_002.json


  (Results)

  ┌──────────────────────────────────┐
  │ Tests:        1                  │
  │ Passing:      1                  │
  │ Failing:      0                  │
  │ Pending:      0                  │
  │ Skipped:      0                  │
  │ Screenshots:  0                  │
  │ Video:        true               │
  │ Duration:     3 seconds          │
  │ Spec Ran:     area_chart.spec.ts │
  └──────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/area_chart.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ area_chart.spec.ts                        00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/audio.spec.ts
2019-11-08T02:52:41Z.558 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/audio.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
Starting new HTTPS connection (1): www.w3schools.com:443
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000

https://www.w3schools.com:443 "GET /html/horse.ogg HTTP/1.1" 200 13889
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (audio.spec.ts)                                                            │
  │ Searched:   ../e2e/specs/audio.spec.ts                                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: audio.spec.ts...                                                                (1 of 1) 


  st.audio
2019-11-08T02:52:50Z.976 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.64ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f3b0e60ded0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Caching message (hash=b230e4994dbfa5408532fcac61f432fb)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
ALSA lib confmisc.c:767:(parse_card) cannot find card '0'
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_card_driver returned error: No such file or directory
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_concat returned error: No such file or directory
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory
ALSA lib conf.c:5007:(snd_config_expand) Evaluate error: No such file or directory
ALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM default
ALSA lib confmisc.c:767:(parse_card) cannot find card '0'
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_card_driver returned error: No such file or directory
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_concat returned error: No such file or directory
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory
ALSA lib conf.c:5007:(snd_config_expand) Evaluate error: No such file or directory
ALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM default
    ✓ displays an audio player (1932ms)
    ✓ has controls (73ms)
    ✓ has src
    ✓ has audio


  4 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_003.json


  (Results)

  ┌─────────────────────────────┐
  │ Tests:        4             │
  │ Passing:      4             │
  │ Failing:      0             │
  │ Pending:      0             │
  │ Skipped:      0             │
  │ Screenshots:  0             │
  │ Video:        true          │
  │ Duration:     3 seconds     │
  │ Spec Ran:     audio.spec.ts │
  └─────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/audio.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ audio.spec.ts                             00:03        4        4        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        4        4        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/balloons.spec.ts
2019-11-08T02:52:54Z.378 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/balloons.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (balloons.spec.ts)                                                         │
  │ Searched:   ../e2e/specs/balloons.spec.ts                                                      │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: balloons.spec.ts...                                                             (1 of 1) 


  st.balloons
2019-11-08T02:53:03Z.820 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.60ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f1072231290>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays balloons (1793ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_004.json


  (Results)

  ┌────────────────────────────────┐
  │ Tests:        1                │
  │ Passing:      1                │
  │ Failing:      0                │
  │ Pending:      0                │
  │ Skipped:      0                │
  │ Screenshots:  0                │
  │ Video:        true             │
  │ Duration:     2 seconds        │
  │ Spec Ran:     balloons.spec.ts │
  └────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/balloons.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ balloons.spec.ts                          00:02        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:02        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/bar_chart.spec.ts
2019-11-08T02:53:06Z.910 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/bar_chart.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (bar_chart.spec.ts)                                                        │
  │ Searched:   ../e2e/specs/bar_chart.spec.ts                                                     │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: bar_chart.spec.ts...                                                            (1 of 1) 


  st.bar_chart
2019-11-08T02:53:15Z.802 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.76ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f149ceed650>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a bar chart (2163ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_005.json


  (Results)

  ┌─────────────────────────────────┐
  │ Tests:        1                 │
  │ Passing:      1                 │
  │ Failing:      0                 │
  │ Pending:      0                 │
  │ Skipped:      0                 │
  │ Screenshots:  0                 │
  │ Video:        true              │
  │ Duration:     3 seconds         │
  │ Spec Ran:     bar_chart.spec.ts │
  └─────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/bar_chart.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ bar_chart.spec.ts                         00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/bokeh_chart.spec.ts
2019-11-08T02:53:19Z.248 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/bokeh_chart.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (bokeh_chart.spec.ts)                                                      │
  │ Searched:   ../e2e/specs/bokeh_chart.spec.ts                                                   │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: bokeh_chart.spec.ts...                                                          (1 of 1) 


  st.bokeh_chart
2019-11-08T02:53:28Z.238 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.63ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f4e5eeda750>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a bokeh chart (2279ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_006.json


  (Results)

  ┌───────────────────────────────────┐
  │ Tests:        1                   │
  │ Passing:      1                   │
  │ Failing:      0                   │
  │ Pending:      0                   │
  │ Skipped:      0                   │
  │ Screenshots:  0                   │
  │ Video:        true                │
  │ Duration:     3 seconds           │
  │ Spec Ran:     bokeh_chart.spec.ts │
  └───────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/bokeh_chart.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ bokeh_chart.spec.ts                       00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/button.spec.ts
2019-11-08T02:53:31Z.745 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/button.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (button.spec.ts)                                                           │
  │ Searched:   ../e2e/specs/button.spec.ts                                                        │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: button.spec.ts...                                                               (1 of 1) 


  st.button
2019-11-08T02:53:40Z.941 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.83ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fde9f321150>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ shows widget correctly (2454ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T02:53:43Z.000 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.45ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fde9f3214d0>
Watcher created for /home/circleci/repo/e2e/scripts/button.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    1) has correct default value
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T02:53:47Z.607 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.65ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fde9f321350>
Watcher created for /home/circleci/repo/e2e/scripts/button.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-3664571336688220585"
    bool_value: false
  }
  widgets {
    id: "7501009996219270233"
    trigger_value: true
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-3664571336688220585"
  bool_value: false
}
widgets {
  id: "7501009996219270233"
  trigger_value: true
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    2) sets value correctly when user clicks
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T02:53:52Z.556 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.41ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fde9f33bb50>
Watcher created for /home/circleci/repo/e2e/scripts/button.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-3664571336688220585"
    bool_value: false
  }
  widgets {
    id: "7501009996219270233"
    trigger_value: true
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-3664571336688220585"
  bool_value: false
}
widgets {
  id: "7501009996219270233"
  trigger_value: true
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Received the following back message:
update_widgets {
  widgets {
    id: "-3664571336688220585"
    bool_value: false
  }
  widgets {
    id: "7501009996219270233"
    trigger_value: true
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-3664571336688220585"
  bool_value: false
}
widgets {
  id: "7501009996219270233"
  trigger_value: true
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    3) doesn't reset the value when user clicks again
Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T02:53:57Z.550 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.45ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fde9f33f610>
Watcher created for /home/circleci/repo/e2e/scripts/button.py
ReportSession initialized (id=4)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-3664571336688220585"
    bool_value: false
  }
  widgets {
    id: "7501009996219270233"
    trigger_value: true
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-3664571336688220585"
  bool_value: false
}
widgets {
  id: "7501009996219270233"
  trigger_value: true
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    4) is reset when user changes another widget


  1 passing (24s)
  4 failing

  1) st.button
       has correct default value:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  2) st.button
       sets value correctly when user clicks:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  3) st.button
       doesn't reset the value when user clicks again:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  4) st.button
       is reset when user changes another widget:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_007.json


  (Results)

  ┌──────────────────────────────┐
  │ Tests:        5              │
  │ Passing:      1              │
  │ Failing:      4              │
  │ Pending:      0              │
  │ Skipped:      0              │
  │ Screenshots:  5              │
  │ Video:        true           │
  │ Duration:     23 seconds     │
  │ Spec Ran:     button.spec.ts │
  └──────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/button.spec.ts/button-widget.snap.png (698x29)
  - /home/circleci/repo/frontend/mochawesome-report/assets/button.spec.ts/st.button -- has correct default value (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/button.spec.ts/st.button -- sets value correctly when user clicks (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/button.spec.ts/st.button -- doesn't reset the value when user clicks again (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/button.spec.ts/st.button -- is reset when user changes another widget (failed).png (1280x720)

Shutting down (id=4)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/button.spec.ts.mp4 (1 second)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ button.spec.ts                            00:23        5        1        4        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:23        5        1        4        -        -  

error Command failed with exit code 4.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/checkbox.spec.ts
2019-11-08T02:54:05Z.597 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/checkbox.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (checkbox.spec.ts)                                                         │
  │ Searched:   ../e2e/specs/checkbox.spec.ts                                                      │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: checkbox.spec.ts...                                                             (1 of 1) 


  st.checkbox
2019-11-08T02:54:14Z.416 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.63ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7ff4ffbe62d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ shows widget correctly (3183ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T02:54:17Z.051 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.43ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7ff4ffbe6f50>
Watcher created for /home/circleci/repo/e2e/scripts/checkbox.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    1) has correct initial values
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T02:54:21Z.748 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.44ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7ff4ff5825d0>
Watcher created for /home/circleci/repo/e2e/scripts/checkbox.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-6907394732453739122"
    bool_value: false
  }
  widgets {
    id: "3548866872587644698"
    bool_value: false
  }
  widgets {
    id: "9081808934226269450"
    bool_value: false
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-6907394732453739122"
  bool_value: false
}
widgets {
  id: "3548866872587644698"
  bool_value: false
}
widgets {
  id: "9081808934226269450"
  bool_value: false
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Received the following back message:
update_widgets {
  widgets {
    id: "-6907394732453739122"
    bool_value: false
  }
  widgets {
    id: "3548866872587644698"
    bool_value: true
  }
  widgets {
    id: "9081808934226269450"
    bool_value: false
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-6907394732453739122"
  bool_value: false
}
widgets {
  id: "3548866872587644698"
  bool_value: true
}
widgets {
  id: "9081808934226269450"
  bool_value: false
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Received the following back message:
update_widgets {
  widgets {
    id: "-6907394732453739122"
    bool_value: false
  }
  widgets {
    id: "3548866872587644698"
    bool_value: true
  }
  widgets {
    id: "9081808934226269450"
    bool_value: true
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-6907394732453739122"
  bool_value: false
}
widgets {
  id: "3548866872587644698"
  bool_value: true
}
widgets {
  id: "9081808934226269450"
  bool_value: true
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    2) sets value correctly when user clicks


  1 passing (15s)
  2 failing

  1) st.checkbox
       has correct initial values:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  2) st.checkbox
       sets value correctly when user clicks:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_008.json


  (Results)

  ┌────────────────────────────────┐
  │ Tests:        3                │
  │ Passing:      1                │
  │ Failing:      2                │
  │ Pending:      0                │
  │ Skipped:      0                │
  │ Screenshots:  5                │
  │ Video:        true             │
  │ Duration:     14 seconds       │
  │ Spec Ran:     checkbox.spec.ts │
  └────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/checkbox.spec.ts/checkbox0.snap.png (698x30)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/checkbox.spec.ts/checkbox1.snap.png (698x30)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/checkbox.spec.ts/checkbox2.snap.png (698x30)
  - /home/circleci/repo/frontend/mochawesome-report/assets/checkbox.spec.ts/st.checkbox -- has correct initial values (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/checkbox.spec.ts/st.checkbox -- sets value correctly when user clicks (failed).png (1280x720)

Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/checkbox.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ checkbox.spec.ts                          00:14        3        1        2        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:14        3        1        2        -        -  

error Command failed with exit code 2.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/code.spec.ts
2019-11-08T02:54:29Z.659 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/code.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (code.spec.ts)                                                             │
  │ Searched:   ../e2e/specs/code.spec.ts                                                          │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: code.spec.ts...                                                                 (1 of 1) 


  st.code
2019-11-08T02:54:38Z.382 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.60ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7faab7df7750>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    1) displays a code block


  0 passing (7s)
  1 failing

  1) st.code
       displays a code block:
     CypressError: Timed out retrying: Expected to find element: '.element-container .stText pre', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_009.json


  (Results)

  ┌────────────────────────────┐
  │ Tests:        1            │
  │ Passing:      0            │
  │ Failing:      1            │
  │ Pending:      0            │
  │ Skipped:      0            │
  │ Screenshots:  1            │
  │ Video:        true         │
  │ Duration:     6 seconds    │
  │ Spec Ran:     code.spec.ts │
  └────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/mochawesome-report/assets/code.spec.ts/st.code -- displays a code block (failed).png (1280x720)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/code.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ code.spec.ts                              00:06        1        -        1        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:06        1        -        1        -        -  

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/dataframe.spec.ts
2019-11-08T02:54:45Z.684 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/dataframe.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000

Loaded backend agg version unknown.
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (dataframe.spec.ts)                                                        │
  │ Searched:   ../e2e/specs/dataframe.spec.ts                                                     │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: dataframe.spec.ts...                                                            (1 of 1) 


  st.dataframe
2019-11-08T02:54:54Z.430 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.56ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2542953dd0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a pandas dataframe (1918ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T02:54:55Z.715 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.48ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f25440a7990>
Watcher created for /home/circleci/repo/e2e/scripts/dataframe.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ checks number of cells (1484ms)
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T02:54:56Z.798 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.43ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2542964fd0>
Watcher created for /home/circleci/repo/e2e/scripts/dataframe.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ contains all numbers from 0..99 (1304ms)
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T02:54:58Z.294 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.47ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f25428fc190>
Watcher created for /home/circleci/repo/e2e/scripts/dataframe.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ highlights the first cell (993ms)
Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T02:54:59Z.315 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.44ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f25428fcbd0>
Watcher created for /home/circleci/repo/e2e/scripts/dataframe.py
ReportSession initialized (id=4)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ looks the same (906ms)


  5 passing (8s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_010.json


  (Results)

  ┌─────────────────────────────────┐
  │ Tests:        5                 │
  │ Passing:      5                 │
  │ Failing:      0                 │
  │ Pending:      0                 │
  │ Skipped:      0                 │
  │ Screenshots:  0                 │
  │ Video:        true              │
  │ Duration:     7 seconds         │
  │ Spec Ran:     dataframe.spec.ts │
  └─────────────────────────────────┘

Shutting down (id=4)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/dataframe.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ dataframe.spec.ts                         00:07        5        5        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:07        5        5        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/dataframe_dimension_spec.spec.ts
2019-11-08T02:55:02Z.740 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/dataframe_dimension_spec.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (dataframe_dimension_spec.spec.ts)                                         │
  │ Searched:   ../e2e/specs/dataframe_dimension_spec.spec.ts                                      │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: dataframe_dimension_spec.spec.ts...                                             (1 of 1) 


  Dataframes with different sizes
2019-11-08T02:55:11Z.776 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.68ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f3094e3be50>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Caching message (hash=b293cdcb186c38bdf1d59a036d7005d5)
Sending cached message ref (hash=b293cdcb186c38bdf1d59a036d7005d5)
Caching message (hash=b293cdcb186c38bdf1d59a036d7005d5)
Sending cached message ref (hash=b293cdcb186c38bdf1d59a036d7005d5)
Caching message (hash=b293cdcb186c38bdf1d59a036d7005d5)
Sending cached message ref (hash=b293cdcb186c38bdf1d59a036d7005d5)
Caching message (hash=b293cdcb186c38bdf1d59a036d7005d5)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ should show as expected (3118ms)


  1 passing (4s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_011.json


  (Results)

  ┌────────────────────────────────────────────────┐
  │ Tests:        1                                │
  │ Passing:      1                                │
  │ Failing:      0                                │
  │ Pending:      0                                │
  │ Skipped:      0                                │
  │ Screenshots:  0                                │
  │ Video:        true                             │
  │ Duration:     4 seconds                        │
  │ Spec Ran:     dataframe_dimension_spec.spec.ts │
  └────────────────────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/dataframe_dimension_spec.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ dataframe_dimension_spec.spec.ts          00:04        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:04        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/dataframe_sizes.spec.ts
2019-11-08T02:55:16Z.422 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/dataframe_sizes.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (dataframe_sizes.spec.ts)                                                  │
  │ Searched:   ../e2e/specs/dataframe_sizes.spec.ts                                               │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: dataframe_sizes.spec.ts...                                                      (1 of 1) 


  Dataframes
2019-11-08T02:55:25Z.019 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.61ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f6aa89286d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ show a tooltip for each cell (2267ms)
    1) have consistent st.dataframe visuals
    ✓ have consistent st.table visuals (4357ms)


  2 passing (13s)
  1 failing

  1) Dataframes
       have consistent st.dataframe visuals:
     Error: Image was 10.753122475610514% different from saved snapshot with 3461 different pixels.
See diff for details: /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/__diff_output__/dataframe-visuals7.diff.png
      at Context.cy.task.then (http://localhost:3000/__cypress/tests?p=cypress/support/index.js-748:2429:17)



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_012.json


  (Results)

  ┌───────────────────────────────────────┐
  │ Tests:        3                       │
  │ Passing:      2                       │
  │ Failing:      1                       │
  │ Pending:      0                       │
  │ Skipped:      0                       │
  │ Screenshots:  17                      │
  │ Video:        true                    │
  │ Duration:     13 seconds              │
  │ Spec Ran:     dataframe_sizes.spec.ts │
  └───────────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/dataframe-visuals0.snap.png (698x102)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/dataframe-visuals1.snap.png (434x102)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/dataframe-visuals2.snap.png (338x77)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/dataframe-visuals3.snap.png (410x77)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/dataframe-visuals4.snap.png (698x77)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/dataframe-visuals5.snap.png (698x77)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/dataframe-visuals6.snap.png (346x77)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/__diff_output__/dataframe-visuals7.diff.png (418x77)
  - /home/circleci/repo/frontend/mochawesome-report/assets/dataframe_sizes.spec.ts/Dataframes -- have consistent st.dataframe visuals (failed).png (1280x720)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/table-visuals0.snap.png (682x124)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/table-visuals1.snap.png (682x124)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/table-visuals2.snap.png (682x124)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/table-visuals3.snap.png (984x124)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/table-visuals4.snap.png (682x124)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/table-visuals5.snap.png (682x124)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/table-visuals6.snap.png (682x124)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/dataframe_sizes.spec.ts/table-visuals7.snap.png (984x124)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/dataframe_sizes.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ dataframe_sizes.spec.ts                   00:13        3        2        1        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:13        3        2        1        -        -  

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/date_input.spec.ts
2019-11-08T02:55:39Z.302 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/date_input.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (date_input.spec.ts)                                                       │
  │ Searched:   ../e2e/specs/date_input.spec.ts                                                    │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: date_input.spec.ts...                                                           (1 of 1) 


  st.date_input
2019-11-08T02:55:48Z.095 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.71ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7ff2b5a35210>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ shows labels (1814ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T02:55:49Z.290 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.43ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7ff2b5a35f90>
Watcher created for /home/circleci/repo/e2e/scripts/date_input.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    1) has correct values
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T02:55:53Z.734 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.42ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7ff2b5a44650>
Watcher created for /home/circleci/repo/e2e/scripts/date_input.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "3913141603830910417"
    string_value: "1970/01/02"
  }
  widgets {
    id: "-6572143431595919152"
    string_value: "2019/07/06"
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "3913141603830910417"
  string_value: "1970/01/02"
}
widgets {
  id: "-6572143431595919152"
  string_value: "2019/07/06"
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    2) handles value changes


  1 passing (13s)
  2 failing

  1) st.date_input
       has correct values:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  2) st.date_input
       handles value changes:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_013.json


  (Results)

  ┌──────────────────────────────────┐
  │ Tests:        3                  │
  │ Passing:      1                  │
  │ Failing:      2                  │
  │ Pending:      0                  │
  │ Skipped:      0                  │
  │ Screenshots:  2                  │
  │ Video:        true               │
  │ Duration:     12 seconds         │
  │ Spec Ran:     date_input.spec.ts │
  └──────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/mochawesome-report/assets/date_input.spec.ts/st.date_input -- has correct values (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/date_input.spec.ts/st.date_input -- handles value changes (failed).png (1280x720)

Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/date_input.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ date_input.spec.ts                        00:12        3        1        2        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:12        3        1        2        -        -  

error Command failed with exit code 2.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/deck_gl_chart.spec.ts
2019-11-08T02:56:01Z.590 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/deck_gl_chart.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (deck_gl_chart.spec.ts)                                                    │
  │ Searched:   ../e2e/specs/deck_gl_chart.spec.ts                                                 │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: deck_gl_chart.spec.ts...                                                        (1 of 1) 


  st.deck_gl_chart
2019-11-08T02:56:10Z.631 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.69ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f1212e492d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Caching message (hash=29a79127980d139b35057e8b2e258aa4)
Caching message (hash=c326bd4eb6aec3767b16d0d56f1cf86d)
Caching message (hash=bae4a3e7f82b0fca239469589aefc841)
Sending cached message ref (hash=bae4a3e7f82b0fca239469589aefc841)
Caching message (hash=bae4a3e7f82b0fca239469589aefc841)
Caching message (hash=7bf9f918c8fedea2fb00a1f2eafff6b2)
Caching message (hash=f8159467fe1555450318d2006ac9ce8d)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays 2 deck.gl charts (3061ms)


  1 passing (4s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_014.json


  (Results)

  ┌─────────────────────────────────────┐
  │ Tests:        1                     │
  │ Passing:      1                     │
  │ Failing:      0                     │
  │ Pending:      0                     │
  │ Skipped:      0                     │
  │ Screenshots:  0                     │
  │ Video:        true                  │
  │ Duration:     4 seconds             │
  │ Spec Ran:     deck_gl_chart.spec.ts │
  └─────────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/deck_gl_chart.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ deck_gl_chart.spec.ts                     00:04        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:04        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/disabled.spec.ts
2019-11-08T02:56:16Z.428 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/disabled.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (disabled.spec.ts)                                                         │
  │ Searched:   ../e2e/specs/disabled.spec.ts                                                      │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: disabled.spec.ts...                                                             (1 of 1) 


  disable widgets
2019-11-08T02:56:25Z.984 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.62ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fe6f3c1e110>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    1) disconnects the client and disables widgets


  0 passing (7s)
  1 failing

  1) disable widgets
       disconnects the client and disables widgets:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_015.json


  (Results)

  ┌────────────────────────────────┐
  │ Tests:        1                │
  │ Passing:      0                │
  │ Failing:      1                │
  │ Pending:      0                │
  │ Skipped:      0                │
  │ Screenshots:  1                │
  │ Video:        true             │
  │ Duration:     6 seconds        │
  │ Spec Ran:     disabled.spec.ts │
  └────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/mochawesome-report/assets/disabled.spec.ts/disable widgets -- disconnects the client and disables widgets (failed).png (1280x720)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/disabled.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ disabled.spec.ts                          00:06        1        -        1        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:06        1        -        1        -        -  

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/disconnect.spec.ts
2019-11-08T02:56:33Z.147 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/disconnect.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (disconnect.spec.ts)                                                       │
  │ Searched:   ../e2e/specs/disconnect.spec.ts                                                    │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: disconnect.spec.ts...                                                           (1 of 1) 


  kill server
2019-11-08T02:56:42Z.211 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.66ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f9e9bffb750>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
Received the following back message:
close_connection: true

  Stopping...
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.STOPPING
Shutting down (id=0)
Server state: State.STOPPING -> State.STOPPED
    ✓ disconnects the client (2206ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_016.json


  (Results)

  ┌──────────────────────────────────┐
  │ Tests:        1                  │
  │ Passing:      1                  │
  │ Failing:      0                  │
  │ Pending:      0                  │
  │ Skipped:      0                  │
  │ Screenshots:  1                  │
  │ Video:        true               │
  │ Duration:     3 seconds          │
  │ Spec Ran:     disconnect.spec.ts │
  └──────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/disconnect.spec.ts/disconnected.snap.png (160x56)


  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/disconnect.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ disconnect.spec.ts                        00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

../scripts/run_e2e_tests.sh: 103: kill: No such process

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/echo.spec.ts
2019-11-08T02:56:45Z.607 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/echo.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
This code is awesome!
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (echo.spec.ts)                                                             │
  │ Searched:   ../e2e/specs/echo.spec.ts                                                          │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: echo.spec.ts...                                                                 (1 of 1) 


  st.echo
2019-11-08T02:56:55Z.097 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.66ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f5ff7d7aad0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    1) echos a code


  0 passing (7s)
  1 failing

  1) st.echo
       echos a code:
     CypressError: Timed out retrying: Expected to find element: '.element-container .stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_017.json


  (Results)

  ┌────────────────────────────┐
  │ Tests:        1            │
  │ Passing:      0            │
  │ Failing:      1            │
  │ Pending:      0            │
  │ Skipped:      0            │
  │ Screenshots:  1            │
  │ Video:        true         │
  │ Duration:     7 seconds    │
  │ Spec Ran:     echo.spec.ts │
  └────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/mochawesome-report/assets/echo.spec.ts/st.echo -- echos a code (failed).png (1280x720)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/echo.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ echo.spec.ts                              00:07        1        -        1        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:07        1        -        1        -        -  

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/empty_charts.spec.ts
2019-11-08T02:57:02Z.410 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/empty_charts.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000

Loaded backend agg version unknown.
STREAM b'IHDR' 16 13
STREAM b'sBIT' 41 4
b'sBIT' 41 4 (unknown)
STREAM b'pHYs' 57 9
STREAM b'tEXt' 78 56
STREAM b'IDAT' 146 6987
/home/circleci/repo/venv/lib/python3.7/site-packages/altair/utils/core.py:108: UserWarning: I don't know how to infer vegalite type from 'empty'.  Defaulting to nominal.
  "Defaulting to nominal.".format(typ))
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (empty_charts.spec.ts)                                                     │
  │ Searched:   ../e2e/specs/empty_charts.spec.ts                                                  │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: empty_charts.spec.ts...                                                         (1 of 1) 


  handles empty charts
2019-11-08T02:57:11Z.938 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.64ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f92bb332f90>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ gracefully handles no data (5372ms)
    ✓ handles no data with exception (219ms)


  2 passing (7s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_018.json


  (Results)

  ┌────────────────────────────────────┐
  │ Tests:        2                    │
  │ Passing:      2                    │
  │ Failing:      0                    │
  │ Pending:      0                    │
  │ Skipped:      0                    │
  │ Screenshots:  4                    │
  │ Video:        true                 │
  │ Duration:     6 seconds            │
  │ Spec Ran:     empty_charts.spec.ts │
  └────────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_charts.spec.ts/stVegaLiteChart-0.snap.png (698x207)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_charts.spec.ts/stVegaLiteChart-1.snap.png (698x207)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_charts.spec.ts/stVegaLiteChart-2.snap.png (698x207)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_charts.spec.ts/stVegaLiteChart-3.snap.png (698x207)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/empty_charts.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ empty_charts.spec.ts                      00:06        2        2        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:06        2        2        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/empty_dataframes.spec.ts
2019-11-08T02:57:19Z.352 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/empty_dataframes.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (empty_dataframes.spec.ts)                                                 │
  │ Searched:   ../e2e/specs/empty_dataframes.spec.ts                                              │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: empty_dataframes.spec.ts...                                                     (1 of 1) 


  Dataframes
2019-11-08T02:57:29Z.238 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.68ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7ff9cebf39d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ have consistent empty list visuals (2783ms)
    ✓ have consistent empty visuals (3035ms)
    ✓ have consistent empty one-column visuals (1392ms)
    ✓ have consistent empty two-column visuals (1062ms)
    ✓ have consistent empty table visuals (2455ms)
    ✓ have consistent empty one-column table visuals (636ms)
    ✓ have consistent empty two-column table visuals (423ms)


  7 passing (13s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_019.json


  (Results)

  ┌────────────────────────────────────────┐
  │ Tests:        7                        │
  │ Passing:      7                        │
  │ Failing:      0                        │
  │ Pending:      0                        │
  │ Skipped:      0                        │
  │ Screenshots:  17                       │
  │ Video:        true                     │
  │ Duration:     12 seconds               │
  │ Spec Ran:     empty_dataframes.spec.ts │
  └────────────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty list visuals.snap.png (698x20)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty visuals.snap.png (62x47)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty visuals.snap.png (62x47)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty visuals.snap.png (62x47)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty visuals.snap.png (62x47)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty visuals.snap.png (62x47)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty visuals.snap.png (62x47)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty one-column visuals.snap.png (698x47)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty one-column visuals.snap.png (698x47)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty two-column visuals.snap.png (62x47)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty two-column visuals.snap.png (62x47)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty table visuals.snap.png (682x83)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty table visuals.snap.png (682x83)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty table visuals.snap.png (682x83)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty table visuals.snap.png (682x83)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty one-column table visuals.snap.png (682x83)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/empty_dataframes.spec.ts/Dataframes -- have consistent empty two-column table visuals.snap.png (682x83)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/empty_dataframes.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ empty_dataframes.spec.ts                  00:12        7        7        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:12        7        7        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/error.spec.ts
2019-11-08T02:57:42Z.870 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/error.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (error.spec.ts)                                                            │
  │ Searched:   ../e2e/specs/error.spec.ts                                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: error.spec.ts...                                                                (1 of 1) 


  st.error
2019-11-08T02:57:53Z.069 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.60ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f7292efb050>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    1) displays an error message


  0 passing (7s)
  1 failing

  1) st.error
       displays an error message:
     CypressError: Timed out retrying: Expected to find element: '.element-container .stMarkdown', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_020.json


  (Results)

  ┌─────────────────────────────┐
  │ Tests:        1             │
  │ Passing:      0             │
  │ Failing:      1             │
  │ Pending:      0             │
  │ Skipped:      0             │
  │ Screenshots:  1             │
  │ Video:        true          │
  │ Duration:     7 seconds     │
  │ Spec Ran:     error.spec.ts │
  └─────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/mochawesome-report/assets/error.spec.ts/st.error -- displays an error message (failed).png (1280x720)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/error.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ error.spec.ts                             00:07        1        -        1        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:07        1        -        1        -        -  

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/exception.spec.ts
2019-11-08T02:58:00Z.469 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/exception.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (exception.spec.ts)                                                        │
  │ Searched:   ../e2e/specs/exception.spec.ts                                                     │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: exception.spec.ts...                                                            (1 of 1) 


  st.exception
2019-11-08T02:58:11Z.067 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.63ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2ba2ca3210>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays an exception message (1908ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_021.json


  (Results)

  ┌─────────────────────────────────┐
  │ Tests:        1                 │
  │ Passing:      1                 │
  │ Failing:      0                 │
  │ Pending:      0                 │
  │ Skipped:      0                 │
  │ Screenshots:  0                 │
  │ Video:        true              │
  │ Duration:     3 seconds         │
  │ Spec Ran:     exception.spec.ts │
  └─────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/exception.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ exception.spec.ts                         00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/graphviz_chart.spec.ts
2019-11-08T02:58:14Z.194 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/graphviz_chart.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (graphviz_chart.spec.ts)                                                   │
  │ Searched:   ../e2e/specs/graphviz_chart.spec.ts                                                │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: graphviz_chart.spec.ts...                                                       (1 of 1) 


  st.graphviz_chart
2019-11-08T02:58:23Z.444 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.90ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fc275678110>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    1) displays a graph with two connected nodes
    ✓ displays a colorful node within a cluster within a graph (560ms)
    ✓ displays a graph representing a finite state machine (691ms)


  2 passing (7s)
  1 failing

  1) st.graphviz_chart
       displays a graph with two connected nodes:
     Error: Image was 6.691244239631336% different from saved snapshot with 1089 different pixels.
See diff for details: /home/circleci/repo/frontend/cypress/snapshots/linux/2x/graphviz_chart.spec.ts/__diff_output__/graphviz-chart-0.diff.png
      at Context.cy.task.then (http://localhost:3000/__cypress/tests?p=cypress/support/index.js-416:2429:17)



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_022.json


  (Results)

  ┌──────────────────────────────────────┐
  │ Tests:        3                      │
  │ Passing:      2                      │
  │ Failing:      1                      │
  │ Pending:      0                      │
  │ Skipped:      0                      │
  │ Screenshots:  4                      │
  │ Video:        true                   │
  │ Duration:     6 seconds              │
  │ Spec Ran:     graphviz_chart.spec.ts │
  └──────────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/graphviz_chart.spec.ts/__diff_output__/graphviz-chart-0.diff.png (105x155)
  - /home/circleci/repo/frontend/mochawesome-report/assets/graphviz_chart.spec.ts/st.graphviz_chart -- displays a graph with two connected nodes (failed).png (1280x720)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/graphviz_chart.spec.ts/graphviz-chart-1.snap.png (125x168)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/graphviz_chart.spec.ts/graphviz-chart-2.snap.png (768x349)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/graphviz_chart.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ graphviz_chart.spec.ts                    00:06        3        2        1        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:06        3        2        1        -        -  

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/header.spec.ts
2019-11-08T02:58:30Z.707 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/header.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (header.spec.ts)                                                           │
  │ Searched:   ../e2e/specs/header.spec.ts                                                        │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: header.spec.ts...                                                               (1 of 1) 


  st.header
2019-11-08T02:58:40Z.566 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.62ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fb06040ec10>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a header (1692ms)


  1 passing (4s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_023.json


  (Results)

  ┌──────────────────────────────┐
  │ Tests:        1              │
  │ Passing:      1              │
  │ Failing:      0              │
  │ Pending:      0              │
  │ Skipped:      0              │
  │ Screenshots:  0              │
  │ Video:        true           │
  │ Duration:     3 seconds      │
  │ Spec Ran:     header.spec.ts │
  └──────────────────────────────┘

Shutting down (id=0)

  (Video)

  - Started processing:   Compressing to 32 CRF
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/header.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ header.spec.ts                            00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/image.spec.ts
2019-11-08T02:58:43Z.399 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/image.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (image.spec.ts)                                                            │
  │ Searched:   ../e2e/specs/image.spec.ts                                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: image.spec.ts...                                                                (1 of 1) 


  st.image
2019-11-08T02:58:52Z.575 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.80ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f1a0b571a10>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays an image (1864ms)
    ✓ displays a caption (145ms)


  2 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_024.json


  (Results)

  ┌─────────────────────────────┐
  │ Tests:        2             │
  │ Passing:      2             │
  │ Failing:      0             │
  │ Pending:      0             │
  │ Skipped:      0             │
  │ Screenshots:  0             │
  │ Video:        true          │
  │ Duration:     3 seconds     │
  │ Spec Ran:     image.spec.ts │
  └─────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/image.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ image.spec.ts                             00:03        2        2        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        2        2        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/info.spec.ts
2019-11-08T02:58:55Z.742 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/info.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (info.spec.ts)                                                             │
  │ Searched:   ../e2e/specs/info.spec.ts                                                          │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: info.spec.ts...                                                                 (1 of 1) 


  st.info
2019-11-08T02:59:04Z.897 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.80ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2d0ab49190>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    1) displays an info message


  0 passing (7s)
  1 failing

  1) st.info
       displays an info message:
     CypressError: Timed out retrying: Expected to find element: '.element-container .stMarkdown', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_025.json


  (Results)

  ┌────────────────────────────┐
  │ Tests:        1            │
  │ Passing:      0            │
  │ Failing:      1            │
  │ Pending:      0            │
  │ Skipped:      0            │
  │ Screenshots:  1            │
  │ Video:        true         │
  │ Duration:     6 seconds    │
  │ Spec Ran:     info.spec.ts │
  └────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/mochawesome-report/assets/info.spec.ts/st.info -- displays an info message (failed).png (1280x720)

Shutting down (id=0)

  (Video)

  - Started processing:   Compressing to 32 CRF
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/info.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ info.spec.ts                              00:06        1        -        1        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:06        1        -        1        -        -  

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/latex.spec.ts
2019-11-08T02:59:12Z.081 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/latex.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
Starting new HTTP connection (1): checkip.amazonaws.com:80
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (latex.spec.ts)                                                            │
  │ Searched:   ../e2e/specs/latex.spec.ts                                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: latex.spec.ts...                                                                (1 of 1) 


  st.latex
2019-11-08T02:59:20Z.907 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.64ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fd733db2790>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays LaTeX symbol (1592ms)
    ✓ displays Sympy expression as LaTeX (216ms)


  2 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_026.json


  (Results)

  ┌─────────────────────────────┐
  │ Tests:        2             │
  │ Passing:      2             │
  │ Failing:      0             │
  │ Pending:      0             │
  │ Skipped:      0             │
  │ Screenshots:  0             │
  │ Video:        true          │
  │ Duration:     2 seconds     │
  │ Spec Ran:     latex.spec.ts │
  └─────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/latex.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ latex.spec.ts                             00:02        2        2        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:02        2        2        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/line_chart.spec.ts
2019-11-08T02:59:24Z.003 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/line_chart.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (line_chart.spec.ts)                                                       │
  │ Searched:   ../e2e/specs/line_chart.spec.ts                                                    │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: line_chart.spec.ts...                                                           (1 of 1) 


  st.line_chart
2019-11-08T02:59:33Z.588 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.69ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f9a20ba9150>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a line chart (2316ms)


  1 passing (4s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_027.json


  (Results)

  ┌──────────────────────────────────┐
  │ Tests:        1                  │
  │ Passing:      1                  │
  │ Failing:      0                  │
  │ Pending:      0                  │
  │ Skipped:      0                  │
  │ Screenshots:  0                  │
  │ Video:        true               │
  │ Duration:     3 seconds          │
  │ Spec Ran:     line_chart.spec.ts │
  └──────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/line_chart.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ line_chart.spec.ts                        00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/magic.spec.ts
2019-11-08T02:59:37Z.180 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/magic.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Using selector: EpollSelector
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (magic.spec.ts)                                                            │
  │ Searched:   ../e2e/specs/magic.spec.ts                                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: magic.spec.ts...                                                                (1 of 1) 


  streamlit magic
2019-11-08T02:59:46Z.433 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.61ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f794d93e2d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    1) displays expected text


  0 passing (7s)
  1 failing

  1) streamlit magic
       displays expected text:
     CypressError: Timed out retrying: Expected to find element: '.element-container > .stText > p', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_028.json


  (Results)

  ┌─────────────────────────────┐
  │ Tests:        1             │
  │ Passing:      0             │
  │ Failing:      1             │
  │ Pending:      0             │
  │ Skipped:      0             │
  │ Screenshots:  1             │
  │ Video:        true          │
  │ Duration:     7 seconds     │
  │ Spec Ran:     magic.spec.ts │
  └─────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/mochawesome-report/assets/magic.spec.ts/streamlit magic -- displays expected text (failed).png (1280x720)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/magic.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ magic.spec.ts                             00:07        1        -        1        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:07        1        -        1        -        -  

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/main_menu.spec.ts
2019-11-08T02:59:53Z.914 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/main_menu.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (main_menu.spec.ts)                                                        │
  │ Searched:   ../e2e/specs/main_menu.spec.ts                                                     │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: main_menu.spec.ts...                                                            (1 of 1) 


  main menu
2019-11-08T03:00:02Z.810 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.59ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fb4ceba8250>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays menu dropdown (2348ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_029.json


  (Results)

  ┌─────────────────────────────────┐
  │ Tests:        1                 │
  │ Passing:      1                 │
  │ Failing:      0                 │
  │ Pending:      0                 │
  │ Skipped:      0                 │
  │ Screenshots:  1                 │
  │ Video:        true              │
  │ Duration:     3 seconds         │
  │ Spec Ran:     main_menu.spec.ts │
  └─────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/main_menu.spec.ts/main_menu.snap.png (192x316)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/main_menu.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ main_menu.spec.ts                         00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/map.spec.ts
2019-11-08T03:00:06Z.676 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/map.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (map.spec.ts)                                                              │
  │ Searched:   ../e2e/specs/map.spec.ts                                                           │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: map.spec.ts...                                                                  (1 of 1) 


  st.map
2019-11-08T03:00:15Z.563 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.69ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2f51269e90>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Caching message (hash=30e2da989779d9d4a57e32e4c39a5195)
Caching message (hash=eb1b7a0eecf3ba31156a19b7aa54bdcd)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a map using deck_gl (2775ms)


  1 passing (4s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_030.json


  (Results)

  ┌───────────────────────────┐
  │ Tests:        1           │
  │ Passing:      1           │
  │ Failing:      0           │
  │ Pending:      0           │
  │ Skipped:      0           │
  │ Screenshots:  0           │
  │ Video:        true        │
  │ Duration:     3 seconds   │
  │ Spec Ran:     map.spec.ts │
  └───────────────────────────┘

Shutting down (id=0)

  (Video)

  - Started processing:   Compressing to 32 CRF
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/map.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ map.spec.ts                               00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/markdown.spec.ts
2019-11-08T03:00:19Z.756 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/markdown.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (markdown.spec.ts)                                                         │
  │ Searched:   ../e2e/specs/markdown.spec.ts                                                      │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: markdown.spec.ts...                                                             (1 of 1) 


  st.markdown
2019-11-08T03:00:28Z.796 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.73ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f55b1b36290>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays markdown (1802ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_031.json


  (Results)

  ┌────────────────────────────────┐
  │ Tests:        1                │
  │ Passing:      1                │
  │ Failing:      0                │
  │ Pending:      0                │
  │ Skipped:      0                │
  │ Screenshots:  0                │
  │ Video:        true             │
  │ Duration:     2 seconds        │
  │ Spec Ran:     markdown.spec.ts │
  └────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/markdown.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ markdown.spec.ts                          00:02        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:02        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/markdown_in_alert_box.spec.ts
2019-11-08T03:00:32Z.033 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/markdown_in_alert_box.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (markdown_in_alert_box.spec.ts)                                            │
  │ Searched:   ../e2e/specs/markdown_in_alert_box.spec.ts                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: markdown_in_alert_box.spec.ts...                                                (1 of 1) 


  info/success/warning/error boxes
2019-11-08T03:00:41Z.037 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.91ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f2f19f55510>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ show complex markdown beautifully (4593ms)


  1 passing (6s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_032.json


  (Results)

  ┌─────────────────────────────────────────────┐
  │ Tests:        1                             │
  │ Passing:      1                             │
  │ Failing:      0                             │
  │ Pending:      0                             │
  │ Skipped:      0                             │
  │ Screenshots:  4                             │
  │ Video:        true                          │
  │ Duration:     5 seconds                     │
  │ Spec Ran:     markdown_in_alert_box.spec.ts │
  └─────────────────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/markdown_in_alert_box.spec.ts/stAlert-alert-0.snap.png (698x542)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/markdown_in_alert_box.spec.ts/stAlert-alert-1.snap.png (698x542)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/markdown_in_alert_box.spec.ts/stAlert-alert-2.snap.png (698x542)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/markdown_in_alert_box.spec.ts/stAlert-alert-3.snap.png (698x542)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/markdown_in_alert_box.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ markdown_in_alert_box.spec.ts             00:05        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:05        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/message_deduping.spec.ts
2019-11-08T03:00:47Z.129 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/message_deduping.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (message_deduping.spec.ts)                                                 │
  │ Searched:   ../e2e/specs/message_deduping.spec.ts                                              │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: message_deduping.spec.ts...                                                     (1 of 1) 


  message_deduping
2019-11-08T03:00:56Z.439 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.64ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f8f6db84490>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Caching message (hash=44efe29e6d1bcad5fff7c3b58aed794a)
Sending cached message ref (hash=44efe29e6d1bcad5fff7c3b58aed794a)
Caching message (hash=44efe29e6d1bcad5fff7c3b58aed794a)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    1) displays two dataframes


  0 passing (7s)
  1 failing

  1) message_deduping
       displays two dataframes:
     CypressError: Timed out retrying: Expected to find element: '.element-container .stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_033.json


  (Results)

  ┌────────────────────────────────────────┐
  │ Tests:        1                        │
  │ Passing:      0                        │
  │ Failing:      1                        │
  │ Pending:      0                        │
  │ Skipped:      0                        │
  │ Screenshots:  1                        │
  │ Video:        true                     │
  │ Duration:     6 seconds                │
  │ Spec Ran:     message_deduping.spec.ts │
  └────────────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/mochawesome-report/assets/message_deduping.spec.ts/message_deduping -- displays two dataframes (failed).png (1280x720)

Shutting down (id=0)

  (Video)

  - Started processing:   Compressing to 32 CRF
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/message_deduping.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ message_deduping.spec.ts                  00:06        1        -        1        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:06        1        -        1        -        -  

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/multiselect.spec.ts
2019-11-08T03:01:03Z.692 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/multiselect.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (multiselect.spec.ts)                                                      │
  │ Searched:   ../e2e/specs/multiselect.spec.ts                                                   │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: multiselect.spec.ts...                                                          (1 of 1) 


  st.multiselect
    when first loaded
2019-11-08T03:01:13Z.711 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.67ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fb8992677d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
      ✓ should show widget correctly (4907ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:01:17Z.987 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.55ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fb899267d50>
Watcher created for /home/circleci/repo/e2e/scripts/multiselect.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
      1) should show the correct text
      when there are valid options
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:01:22Z.508 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.62ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fb898c066d0>
Watcher created for /home/circleci/repo/e2e/scripts/multiselect.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
        ✓ should show the correct placeholder (592ms)
      when there are no valid options
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:01:23Z.284 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.53ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fb898c13490>
Watcher created for /home/circleci/repo/e2e/scripts/multiselect.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
        ✓ should show the correct placeholder (803ms)
    when clicking on the input
Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:01:24Z.201 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.53ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fb898c22250>
Watcher created for /home/circleci/repo/e2e/scripts/multiselect.py
ReportSession initialized (id=4)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
      ✓ should show values correctly in the dropdown menu (2178ms)
    when the user make a selection
Shutting down (id=4)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:01:26Z.306 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.45ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fb898c22a10>
Watcher created for /home/circleci/repo/e2e/scripts/multiselect.py
ReportSession initialized (id=5)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-8937341577429749294"
    int_array_value {
    }
  }
  widgets {
    id: "-3827068352854741416"
    int_array_value {
      value: 1
    }
  }
  widgets {
    id: "-3379757327315280380"
    int_array_value {
    }
  }
  widgets {
    id: "5863294435812522357"
    int_array_value {
      value: 1
      value: 2
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-8937341577429749294"
  int_array_value {
  }
}
widgets {
  id: "-3827068352854741416"
  int_array_value {
    value: 1
  }
}
widgets {
  id: "-3379757327315280380"
  int_array_value {
  }
}
widgets {
  id: "5863294435812522357"
  int_array_value {
    value: 1
    value: 2
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
      2) sets the value correctly
Shutting down (id=5)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:01:28Z.545 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.55ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fb898c22510>
Watcher created for /home/circleci/repo/e2e/scripts/multiselect.py
ReportSession initialized (id=6)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-8937341577429749294"
    int_array_value {
    }
  }
  widgets {
    id: "-3827068352854741416"
    int_array_value {
      value: 1
    }
  }
  widgets {
    id: "-3379757327315280380"
    int_array_value {
    }
  }
  widgets {
    id: "5863294435812522357"
    int_array_value {
      value: 1
      value: 2
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-8937341577429749294"
  int_array_value {
  }
}
widgets {
  id: "-3827068352854741416"
  int_array_value {
    value: 1
  }
}
widgets {
  id: "-3379757327315280380"
  int_array_value {
  }
}
widgets {
  id: "5863294435812522357"
  int_array_value {
    value: 1
    value: 2
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
      3) outputs the correct value
      when the user picks a second option
Shutting down (id=6)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:01:33Z.741 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.57ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fb898c22310>
Watcher created for /home/circleci/repo/e2e/scripts/multiselect.py
ReportSession initialized (id=7)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-8937341577429749294"
    int_array_value {
    }
  }
  widgets {
    id: "-3827068352854741416"
    int_array_value {
      value: 1
    }
  }
  widgets {
    id: "-3379757327315280380"
    int_array_value {
    }
  }
  widgets {
    id: "5863294435812522357"
    int_array_value {
      value: 1
      value: 2
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-8937341577429749294"
  int_array_value {
  }
}
widgets {
  id: "-3827068352854741416"
  int_array_value {
    value: 1
  }
}
widgets {
  id: "-3379757327315280380"
  int_array_value {
  }
}
widgets {
  id: "5863294435812522357"
  int_array_value {
    value: 1
    value: 2
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-8937341577429749294"
    int_array_value {
    }
  }
  widgets {
    id: "-3827068352854741416"
    int_array_value {
      value: 1
      value: 0
    }
  }
  widgets {
    id: "-3379757327315280380"
    int_array_value {
    }
  }
  widgets {
    id: "5863294435812522357"
    int_array_value {
      value: 1
      value: 2
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-8937341577429749294"
  int_array_value {
  }
}
widgets {
  id: "-3827068352854741416"
  int_array_value {
    value: 1
    value: 0
  }
}
widgets {
  id: "-3379757327315280380"
  int_array_value {
  }
}
widgets {
  id: "5863294435812522357"
  int_array_value {
    value: 1
    value: 2
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
        4) outputs the correct value
        when the user deselects the first option
Shutting down (id=7)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:01:39Z.208 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.41ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fb898bb5350>
Watcher created for /home/circleci/repo/e2e/scripts/multiselect.py
ReportSession initialized (id=8)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-8937341577429749294"
    int_array_value {
    }
  }
  widgets {
    id: "-3827068352854741416"
    int_array_value {
      value: 1
    }
  }
  widgets {
    id: "-3379757327315280380"
    int_array_value {
    }
  }
  widgets {
    id: "5863294435812522357"
    int_array_value {
      value: 1
      value: 2
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-8937341577429749294"
  int_array_value {
  }
}
widgets {
  id: "-3827068352854741416"
  int_array_value {
    value: 1
  }
}
widgets {
  id: "-3379757327315280380"
  int_array_value {
  }
}
widgets {
  id: "5863294435812522357"
  int_array_value {
    value: 1
    value: 2
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-8937341577429749294"
    int_array_value {
    }
  }
  widgets {
    id: "-3827068352854741416"
    int_array_value {
      value: 1
      value: 0
    }
  }
  widgets {
    id: "-3379757327315280380"
    int_array_value {
    }
  }
  widgets {
    id: "5863294435812522357"
    int_array_value {
      value: 1
      value: 2
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-8937341577429749294"
  int_array_value {
  }
}
widgets {
  id: "-3827068352854741416"
  int_array_value {
    value: 1
    value: 0
  }
}
widgets {
  id: "-3379757327315280380"
  int_array_value {
  }
}
widgets {
  id: "5863294435812522357"
  int_array_value {
    value: 1
    value: 2
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-8937341577429749294"
    int_array_value {
    }
  }
  widgets {
    id: "-3827068352854741416"
    int_array_value {
      value: 0
    }
  }
  widgets {
    id: "-3379757327315280380"
    int_array_value {
    }
  }
  widgets {
    id: "5863294435812522357"
    int_array_value {
      value: 1
      value: 2
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-8937341577429749294"
  int_array_value {
  }
}
widgets {
  id: "-3827068352854741416"
  int_array_value {
    value: 0
  }
}
widgets {
  id: "-3379757327315280380"
  int_array_value {
  }
}
widgets {
  id: "5863294435812522357"
  int_array_value {
    value: 1
    value: 2
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
          5) outputs the correct value
        when the user click the clear button
Shutting down (id=8)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:01:44Z.948 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.45ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fb898bb5850>
Watcher created for /home/circleci/repo/e2e/scripts/multiselect.py
ReportSession initialized (id=9)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-8937341577429749294"
    int_array_value {
    }
  }
  widgets {
    id: "-3827068352854741416"
    int_array_value {
      value: 1
    }
  }
  widgets {
    id: "-3379757327315280380"
    int_array_value {
    }
  }
  widgets {
    id: "5863294435812522357"
    int_array_value {
      value: 1
      value: 2
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-8937341577429749294"
  int_array_value {
  }
}
widgets {
  id: "-3827068352854741416"
  int_array_value {
    value: 1
  }
}
widgets {
  id: "-3379757327315280380"
  int_array_value {
  }
}
widgets {
  id: "5863294435812522357"
  int_array_value {
    value: 1
    value: 2
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-8937341577429749294"
    int_array_value {
    }
  }
  widgets {
    id: "-3827068352854741416"
    int_array_value {
      value: 1
      value: 0
    }
  }
  widgets {
    id: "-3379757327315280380"
    int_array_value {
    }
  }
  widgets {
    id: "5863294435812522357"
    int_array_value {
      value: 1
      value: 2
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-8937341577429749294"
  int_array_value {
  }
}
widgets {
  id: "-3827068352854741416"
  int_array_value {
    value: 1
    value: 0
  }
}
widgets {
  id: "-3379757327315280380"
  int_array_value {
  }
}
widgets {
  id: "5863294435812522357"
  int_array_value {
    value: 1
    value: 2
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Received the following back message:
update_widgets {
  widgets {
    id: "-8937341577429749294"
    int_array_value {
    }
  }
  widgets {
    id: "-3827068352854741416"
    int_array_value {
    }
  }
  widgets {
    id: "-3379757327315280380"
    int_array_value {
    }
  }
  widgets {
    id: "5863294435812522357"
    int_array_value {
      value: 1
      value: 2
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-8937341577429749294"
  int_array_value {
  }
}
widgets {
  id: "-3827068352854741416"
  int_array_value {
  }
}
widgets {
  id: "-3379757327315280380"
  int_array_value {
  }
}
widgets {
  id: "5863294435812522357"
  int_array_value {
    value: 1
    value: 2
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
          6) outputs the correct value


  4 passing (39s)
  6 failing

  1) st.multiselect
       when first loaded
         should show the correct text:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  2) st.multiselect
       when the user make a selection
         sets the value correctly:
     Error: Image was 26.550216736463156% different from saved snapshot with 14455 different pixels.
See diff for details: /home/circleci/repo/frontend/cypress/snapshots/linux/2x/multiselect.spec.ts/__diff_output__/multiselect-selection.diff.png
      at Context.cy.task.then (http://localhost:3000/__cypress/tests?p=cypress/support/index.js-597:2429:17)

  3) st.multiselect
       when the user make a selection
         outputs the correct value:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  4) st.multiselect
       when the user make a selection
         when the user picks a second option
           outputs the correct value:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  5) st.multiselect
       when the user make a selection
         when the user picks a second option
           when the user deselects the first option
             outputs the correct value:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  6) st.multiselect
       when the user make a selection
         when the user picks a second option
           when the user click the clear button
             outputs the correct value:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_034.json


  (Results)

  ┌───────────────────────────────────┐
  │ Tests:        10                  │
  │ Passing:      4                   │
  │ Failing:      6                   │
  │ Pending:      0                   │
  │ Skipped:      0                   │
  │ Screenshots:  13                  │
  │ Video:        true                │
  │ Duration:     39 seconds          │
  │ Spec Ran:     multiselect.spec.ts │
  └───────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/multiselect.spec.ts/multiselect0.snap.png (698x75)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/multiselect.spec.ts/multiselect1.snap.png (698x75)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/multiselect.spec.ts/multiselect2.snap.png (698x75)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/multiselect.spec.ts/multiselect3.snap.png (698x78)
  - /home/circleci/repo/frontend/mochawesome-report/assets/multiselect.spec.ts/st.multiselect -- when first loaded -- should show the correct text (failed).png (1280x720)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/multiselect.spec.ts/multiselect-dropdown-0.snap.png (698x41)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/multiselect.spec.ts/multiselect-dropdown-1.snap.png (698x41)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/multiselect.spec.ts/__diff_output__/multiselect-selection.diff.png (698x78)
  - /home/circleci/repo/frontend/mochawesome-report/assets/multiselect.spec.ts/st.multiselect -- when the user make a selection -- sets the value correctly (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/multiselect.spec.ts/st.multiselect -- when the user make a selection -- outputs the correct value (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/multiselect.spec.ts/st.multiselect -- when the user make a selection -- when the user picks a second option -- outputs the correct value (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/multiselect.spec.ts/st.multiselect -- when the user make a selection -- when the user picks a second option -- when the user deselects the first option -- outputs the correct value (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/multiselect.spec.ts/st.multiselect -- when the user make a selection -- when the user picks a second option -- when the user click the clear button -- outputs the correct value (failed).png (1280x720)

Shutting down (id=9)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/multiselect.spec.ts.mp4 (4 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ multiselect.spec.ts                       00:39       10        4        6        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:39       10        4        6        -        -  

error Command failed with exit code 6.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/number_input.spec.ts
2019-11-08T03:01:56Z.933 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/number_input.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (number_input.spec.ts)                                                     │
  │ Searched:   ../e2e/specs/number_input.spec.ts                                                  │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: number_input.spec.ts...                                                         (1 of 1) 


  st.number_input
2019-11-08T03:02:07Z.485 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.71ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f7bb5e81090>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ shows widget correctly (5268ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:02:11Z.992 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.56ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f7b555067d0>
Watcher created for /home/circleci/repo/e2e/scripts/number_input.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    1) has correct default values
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:02:16Z.615 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.42ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f7bb5e9b150>
Watcher created for /home/circleci/repo/e2e/scripts/number_input.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "3011611895576309462"
    int_value: 10
  }
  widgets {
    id: "2623876519647448363"
    int_value: 1
  }
  widgets {
    id: "7408230872872637266"
    int_value: 1
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "3011611895576309462"
  int_value: 10
}
widgets {
  id: "2623876519647448363"
  int_value: 1
}
widgets {
  id: "7408230872872637266"
  int_value: 1
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    2) sets value correctly on enter keypress
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:02:21Z.770 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.44ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f7bb5e81d10>
Watcher created for /home/circleci/repo/e2e/scripts/number_input.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "3011611895576309462"
    int_value: 10
  }
  widgets {
    id: "2623876519647448363"
    int_value: 1
  }
  widgets {
    id: "7408230872872637266"
    int_value: 1
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "3011611895576309462"
  int_value: 10
}
widgets {
  id: "2623876519647448363"
  int_value: 1
}
widgets {
  id: "7408230872872637266"
  int_value: 1
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    3) sets value correctly on blur


  1 passing (22s)
  3 failing

  1) st.number_input
       has correct default values:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  2) st.number_input
       sets value correctly on enter keypress:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  3) st.number_input
       sets value correctly on blur:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_035.json


  (Results)

  ┌────────────────────────────────────┐
  │ Tests:        4                    │
  │ Passing:      1                    │
  │ Failing:      3                    │
  │ Pending:      0                    │
  │ Skipped:      0                    │
  │ Screenshots:  6                    │
  │ Video:        true                 │
  │ Duration:     22 seconds           │
  │ Spec Ran:     number_input.spec.ts │
  └────────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/number_input.spec.ts/number_input0.snap.png (698x79)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/number_input.spec.ts/number_input1.snap.png (698x79)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/number_input.spec.ts/number_input2.snap.png (698x79)
  - /home/circleci/repo/frontend/mochawesome-report/assets/number_input.spec.ts/st.number_input -- has correct default values (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/number_input.spec.ts/st.number_input -- sets value correctly on enter keypress (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/number_input.spec.ts/st.number_input -- sets value correctly on blur (failed).png (1280x720)

Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/number_input.spec.ts.mp4 (1 second)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ number_input.spec.ts                      00:22        4        1        3        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:22        4        1        3        -        -  

error Command failed with exit code 3.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/plotly_chart.spec.ts
2019-11-08T03:02:30Z.793 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/plotly_chart.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (plotly_chart.spec.ts)                                                     │
  │ Searched:   ../e2e/specs/plotly_chart.spec.ts                                                  │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: plotly_chart.spec.ts...                                                         (1 of 1) 


  st.plotly_chart
2019-11-08T03:02:40Z.124 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.56ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f419d5b9bd0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Caching message (hash=eb3955b07459df970db134dda37b1d92)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a plotly chart (3598ms)


  1 passing (5s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_036.json


  (Results)

  ┌────────────────────────────────────┐
  │ Tests:        1                    │
  │ Passing:      1                    │
  │ Failing:      0                    │
  │ Pending:      0                    │
  │ Skipped:      0                    │
  │ Screenshots:  0                    │
  │ Video:        true                 │
  │ Duration:     4 seconds            │
  │ Spec Ran:     plotly_chart.spec.ts │
  └────────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/plotly_chart.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ plotly_chart.spec.ts                      00:04        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:04        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/progress.spec.ts
2019-11-08T03:02:45Z.813 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/progress.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (progress.spec.ts)                                                         │
  │ Searched:   ../e2e/specs/progress.spec.ts                                                      │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: progress.spec.ts...                                                             (1 of 1) 


  st.progress
2019-11-08T03:02:54Z.732 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.58ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fc8f2c2f550>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a progress bar (1680ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_037.json


  (Results)

  ┌────────────────────────────────┐
  │ Tests:        1                │
  │ Passing:      1                │
  │ Failing:      0                │
  │ Pending:      0                │
  │ Skipped:      0                │
  │ Screenshots:  0                │
  │ Video:        true             │
  │ Duration:     2 seconds        │
  │ Spec Ran:     progress.spec.ts │
  └────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/progress.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ progress.spec.ts                          00:02        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:02        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/pyplot.spec.ts
2019-11-08T03:02:57Z.588 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/pyplot.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000

Loaded backend agg version unknown.
findfont: Matching :family=sans-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=10.0.
findfont: score(<Font 'DejaVu Sans' (DejaVuSans.ttf) normal normal 400 normal>) = 0.05
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif-Bold.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'STIXGeneral' (STIXGeneralBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'STIXSizeOneSym' (STIXSizOneSymBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'cmss10' (cmss10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'cmr10' (cmr10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'STIXSizeFiveSym' (STIXSizFiveSymReg.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'STIXSizeTwoSym' (STIXSizTwoSymBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono-BoldOblique.ttf) oblique normal bold normal>) = 11.335
findfont: score(<Font 'STIXSizeTwoSym' (STIXSizTwoSymReg.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'STIXNonUnicode' (STIXNonUniBolIta.ttf) italic normal bold normal>) = 11.335
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif-Italic.ttf) italic normal 400 normal>) = 11.05
findfont: score(<Font 'DejaVu Sans' (DejaVuSans-BoldOblique.ttf) oblique normal bold normal>) = 1.335
findfont: score(<Font 'STIXNonUnicode' (STIXNonUni.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'cmtt10' (cmtt10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'STIXSizeThreeSym' (STIXSizThreeSymReg.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'DejaVu Sans' (DejaVuSans-Oblique.ttf) oblique normal 400 normal>) = 1.05
findfont: score(<Font 'STIXGeneral' (STIXGeneral.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'STIXNonUnicode' (STIXNonUniBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'STIXGeneral' (STIXGeneralBolIta.ttf) italic normal bold normal>) = 11.335
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif-BoldItalic.ttf) italic normal bold normal>) = 11.335
findfont: score(<Font 'DejaVu Sans Display' (DejaVuSansDisplay.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'cmb10' (cmb10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono-Bold.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'STIXSizeFourSym' (STIXSizFourSymReg.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono-Oblique.ttf) oblique normal 400 normal>) = 11.05
findfont: score(<Font 'DejaVu Sans' (DejaVuSans-Bold.ttf) normal normal bold normal>) = 0.33499999999999996
findfont: score(<Font 'STIXSizeFourSym' (STIXSizFourSymBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'STIXGeneral' (STIXGeneralItalic.ttf) italic normal 400 normal>) = 11.05
findfont: score(<Font 'STIXNonUnicode' (STIXNonUniIta.ttf) italic normal 400 normal>) = 11.05
findfont: score(<Font 'STIXSizeThreeSym' (STIXSizThreeSymBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'cmex10' (cmex10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'DejaVu Serif Display' (DejaVuSerifDisplay.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'cmsy10' (cmsy10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'cmmi10' (cmmi10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'STIXSizeOneSym' (STIXSizOneSymReg.ttf) normal normal regular normal>) = 10.05
findfont: Matching :family=sans-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=10.0 to DejaVu Sans ('/home/circleci/repo/venv/lib/python3.7/site-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans.ttf') with score of 0.050000.
STREAM b'IHDR' 16 13
STREAM b'sBIT' 41 4
b'sBIT' 41 4 (unknown)
STREAM b'pHYs' 57 9
STREAM b'tEXt' 78 56
STREAM b'IDAT' 146 8192
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (pyplot.spec.ts)                                                           │
  │ Searched:   ../e2e/specs/pyplot.spec.ts                                                        │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: pyplot.spec.ts...                                                               (1 of 1) 


  st.pyplot
2019-11-08T03:03:06Z.790 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.63ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fe20badccd0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Caching message (hash=d94d9aa1eef3df7eb1d8e7090da587e8)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a pyplot figure (1725ms)
Received the following back message:
rerun_script: true

Beginning script thread
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
STREAM b'IHDR' 16 13
STREAM b'sBIT' 41 4
b'sBIT' 41 4 (unknown)
STREAM b'pHYs' 57 9
STREAM b'tEXt' 78 56
STREAM b'IDAT' 146 8192
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Sending cached message ref (hash=d94d9aa1eef3df7eb1d8e7090da587e8)
Caching message (hash=d94d9aa1eef3df7eb1d8e7090da587e8)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ clears the figure on rerun (1332ms)


  2 passing (4s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_038.json


  (Results)

  ┌──────────────────────────────┐
  │ Tests:        2              │
  │ Passing:      2              │
  │ Failing:      0              │
  │ Pending:      0              │
  │ Skipped:      0              │
  │ Screenshots:  1              │
  │ Video:        true           │
  │ Duration:     4 seconds      │
  │ Spec Ran:     pyplot.spec.ts │
  └──────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/pyplot.spec.ts/pyplot-check-if-cleared.snap.png (698x524)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/pyplot.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ pyplot.spec.ts                            00:04        2        2        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:04        2        2        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/pyplot_kwargs.spec.ts
2019-11-08T03:03:11Z.339 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/pyplot_kwargs.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000

Loaded backend agg version unknown.
findfont: Matching :family=sans-serif:style=normal:variant=normal:weight=bold:stretch=normal:size=12.0.
findfont: score(<Font 'DejaVu Sans' (DejaVuSans.ttf) normal normal 400 normal>) = 0.33499999999999996
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif-Bold.ttf) normal normal bold normal>) = 10.0
findfont: score(<Font 'STIXGeneral' (STIXGeneralBol.ttf) normal normal bold normal>) = 10.0
findfont: score(<Font 'STIXSizeOneSym' (STIXSizOneSymBol.ttf) normal normal bold normal>) = 10.0
findfont: score(<Font 'cmss10' (cmss10.ttf) normal normal 400 normal>) = 10.335
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono.ttf) normal normal 400 normal>) = 10.335
findfont: score(<Font 'cmr10' (cmr10.ttf) normal normal 400 normal>) = 10.335
findfont: score(<Font 'STIXSizeFiveSym' (STIXSizFiveSymReg.ttf) normal normal regular normal>) = 10.335
findfont: score(<Font 'STIXSizeTwoSym' (STIXSizTwoSymBol.ttf) normal normal bold normal>) = 10.0
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono-BoldOblique.ttf) oblique normal bold normal>) = 11.0
findfont: score(<Font 'STIXSizeTwoSym' (STIXSizTwoSymReg.ttf) normal normal regular normal>) = 10.335
findfont: score(<Font 'STIXNonUnicode' (STIXNonUniBolIta.ttf) italic normal bold normal>) = 11.0
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif-Italic.ttf) italic normal 400 normal>) = 11.335
findfont: score(<Font 'DejaVu Sans' (DejaVuSans-BoldOblique.ttf) oblique normal bold normal>) = 1.0
findfont: score(<Font 'STIXNonUnicode' (STIXNonUni.ttf) normal normal regular normal>) = 10.335
findfont: score(<Font 'cmtt10' (cmtt10.ttf) normal normal 400 normal>) = 10.335
findfont: score(<Font 'STIXSizeThreeSym' (STIXSizThreeSymReg.ttf) normal normal regular normal>) = 10.335
findfont: score(<Font 'DejaVu Sans' (DejaVuSans-Oblique.ttf) oblique normal 400 normal>) = 1.335
findfont: score(<Font 'STIXGeneral' (STIXGeneral.ttf) normal normal regular normal>) = 10.335
findfont: score(<Font 'STIXNonUnicode' (STIXNonUniBol.ttf) normal normal bold normal>) = 10.0
findfont: score(<Font 'STIXGeneral' (STIXGeneralBolIta.ttf) italic normal bold normal>) = 11.0
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif-BoldItalic.ttf) italic normal bold normal>) = 11.0
findfont: score(<Font 'DejaVu Sans Display' (DejaVuSansDisplay.ttf) normal normal 400 normal>) = 10.335
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif.ttf) normal normal 400 normal>) = 10.335
findfont: score(<Font 'cmb10' (cmb10.ttf) normal normal 400 normal>) = 10.335
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono-Bold.ttf) normal normal bold normal>) = 10.0
findfont: score(<Font 'STIXSizeFourSym' (STIXSizFourSymReg.ttf) normal normal regular normal>) = 10.335
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono-Oblique.ttf) oblique normal 400 normal>) = 11.335
findfont: score(<Font 'DejaVu Sans' (DejaVuSans-Bold.ttf) normal normal bold normal>) = 0.0
findfont: Matching :family=sans-serif:style=normal:variant=normal:weight=bold:stretch=normal:size=12.0 to DejaVu Sans ('/home/circleci/repo/venv/lib/python3.7/site-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-Bold.ttf') with score of 0.000000.
findfont: Matching :family=sans-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=10.0.
findfont: score(<Font 'DejaVu Sans' (DejaVuSans.ttf) normal normal 400 normal>) = 0.05
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif-Bold.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'STIXGeneral' (STIXGeneralBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'STIXSizeOneSym' (STIXSizOneSymBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'cmss10' (cmss10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'cmr10' (cmr10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'STIXSizeFiveSym' (STIXSizFiveSymReg.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'STIXSizeTwoSym' (STIXSizTwoSymBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono-BoldOblique.ttf) oblique normal bold normal>) = 11.335
findfont: score(<Font 'STIXSizeTwoSym' (STIXSizTwoSymReg.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'STIXNonUnicode' (STIXNonUniBolIta.ttf) italic normal bold normal>) = 11.335
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif-Italic.ttf) italic normal 400 normal>) = 11.05
findfont: score(<Font 'DejaVu Sans' (DejaVuSans-BoldOblique.ttf) oblique normal bold normal>) = 1.335
findfont: score(<Font 'STIXNonUnicode' (STIXNonUni.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'cmtt10' (cmtt10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'STIXSizeThreeSym' (STIXSizThreeSymReg.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'DejaVu Sans' (DejaVuSans-Oblique.ttf) oblique normal 400 normal>) = 1.05
findfont: score(<Font 'STIXGeneral' (STIXGeneral.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'STIXNonUnicode' (STIXNonUniBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'STIXGeneral' (STIXGeneralBolIta.ttf) italic normal bold normal>) = 11.335
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif-BoldItalic.ttf) italic normal bold normal>) = 11.335
findfont: score(<Font 'DejaVu Sans Display' (DejaVuSansDisplay.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'DejaVu Serif' (DejaVuSerif.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'cmb10' (cmb10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono-Bold.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'STIXSizeFourSym' (STIXSizFourSymReg.ttf) normal normal regular normal>) = 10.05
findfont: score(<Font 'DejaVu Sans Mono' (DejaVuSansMono-Oblique.ttf) oblique normal 400 normal>) = 11.05
findfont: score(<Font 'DejaVu Sans' (DejaVuSans-Bold.ttf) normal normal bold normal>) = 0.33499999999999996
findfont: score(<Font 'STIXSizeFourSym' (STIXSizFourSymBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'STIXGeneral' (STIXGeneralItalic.ttf) italic normal 400 normal>) = 11.05
findfont: score(<Font 'STIXNonUnicode' (STIXNonUniIta.ttf) italic normal 400 normal>) = 11.05
findfont: score(<Font 'STIXSizeThreeSym' (STIXSizThreeSymBol.ttf) normal normal bold normal>) = 10.335
findfont: score(<Font 'cmex10' (cmex10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'DejaVu Serif Display' (DejaVuSerifDisplay.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'cmsy10' (cmsy10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'cmmi10' (cmmi10.ttf) normal normal 400 normal>) = 10.05
findfont: score(<Font 'STIXSizeOneSym' (STIXSizOneSymReg.ttf) normal normal regular normal>) = 10.05
findfont: Matching :family=sans-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=10.0 to DejaVu Sans ('/home/circleci/repo/venv/lib/python3.7/site-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans.ttf') with score of 0.050000.

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (pyplot_kwargs.spec.ts)                                                    │
  │ Searched:   ../e2e/specs/pyplot_kwargs.spec.ts                                                 │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: pyplot_kwargs.spec.ts...                                                        (1 of 1) 


  st.pyplot with kwargs
STREAM b'IHDR' 16 13
STREAM b'sBIT' 41 4
b'sBIT' 41 4 (unknown)
STREAM b'pHYs' 57 9
STREAM b'tEXt' 78 56
STREAM b'IDAT' 146 8192
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
2019-11-08T03:03:21Z.163 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.59ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fcf49edac90>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Caching message (hash=8ac704445b9f5e8d9e2a9b0d71a2ac04)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ draws long text strings correctly (2873ms)


  1 passing (4s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_039.json


  (Results)

  ┌─────────────────────────────────────┐
  │ Tests:        1                     │
  │ Passing:      1                     │
  │ Failing:      0                     │
  │ Pending:      0                     │
  │ Skipped:      0                     │
  │ Screenshots:  1                     │
  │ Video:        true                  │
  │ Duration:     4 seconds             │
  │ Spec Ran:     pyplot_kwargs.spec.ts │
  └─────────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/pyplot_kwargs.spec.ts/pyplot-long-text-strings.snap.png (698x492)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/pyplot_kwargs.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ pyplot_kwargs.spec.ts                     00:04        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:04        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/radio.spec.ts
2019-11-08T03:03:25Z.646 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/radio.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (radio.spec.ts)                                                            │
  │ Searched:   ../e2e/specs/radio.spec.ts                                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: radio.spec.ts...                                                                (1 of 1) 


  st.radio
2019-11-08T03:03:35Z.327 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.75ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fe7e4077390>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ shows widget correctly (4073ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:03:38Z.763 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.66ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fe7e4077c50>
Watcher created for /home/circleci/repo/e2e/scripts/radio.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    1) has correct initial values
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:03:43Z.382 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.42ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fe7e4086a10>
Watcher created for /home/circleci/repo/e2e/scripts/radio.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ formats display values (571ms)
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:03:44Z.047 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.42ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fe7e401c5d0>
Watcher created for /home/circleci/repo/e2e/scripts/radio.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ handles no options (705ms)
Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:03:44Z.743 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.52ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fe7e4086fd0>
Watcher created for /home/circleci/repo/e2e/scripts/radio.py
ReportSession initialized (id=4)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-4689951749920049779"
    int_value: 1
  }
  widgets {
    id: "-8393552641510707406"
    int_value: 1
  }
  widgets {
    id: "8909734575844307129"
    int_value: 0
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-4689951749920049779"
  int_value: 1
}
widgets {
  id: "-8393552641510707406"
  int_value: 1
}
widgets {
  id: "8909734575844307129"
  int_value: 0
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    2) sets value correctly when user clicks


  3 passing (17s)
  2 failing

  1) st.radio
       has correct initial values:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  2) st.radio
       sets value correctly when user clicks:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_040.json


  (Results)

  ┌─────────────────────────────┐
  │ Tests:        5             │
  │ Passing:      3             │
  │ Failing:      2             │
  │ Pending:      0             │
  │ Skipped:      0             │
  │ Screenshots:  5             │
  │ Video:        true          │
  │ Duration:     16 seconds    │
  │ Spec Ran:     radio.spec.ts │
  └─────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/radio.spec.ts/radio0.snap.png (698x80)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/radio.spec.ts/radio1.snap.png (698x80)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/radio.spec.ts/radio2.snap.png (698x55)
  - /home/circleci/repo/frontend/mochawesome-report/assets/radio.spec.ts/st.radio -- has correct initial values (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/radio.spec.ts/st.radio -- sets value correctly when user clicks (failed).png (1280x720)

Shutting down (id=4)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/radio.spec.ts.mp4 (1 second)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ radio.spec.ts                             00:16        5        3        2        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:16        5        3        2        -        -  

error Command failed with exit code 2.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/reuse_label.spec.ts
2019-11-08T03:03:53Z.201 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/reuse_label.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (reuse_label.spec.ts)                                                      │
  │ Searched:   ../e2e/specs/reuse_label.spec.ts                                                   │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: reuse_label.spec.ts...                                                          (1 of 1) 


  reuse widget label
2019-11-08T03:04:02Z.791 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.64ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f592da74590>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    1) reuses a widget label for different widget types


  0 passing (7s)
  1 failing

  1) reuse widget label
       reuses a widget label for different widget types:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_041.json


  (Results)

  ┌───────────────────────────────────┐
  │ Tests:        1                   │
  │ Passing:      0                   │
  │ Failing:      1                   │
  │ Pending:      0                   │
  │ Skipped:      0                   │
  │ Screenshots:  1                   │
  │ Video:        true                │
  │ Duration:     7 seconds           │
  │ Spec Ran:     reuse_label.spec.ts │
  └───────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/mochawesome-report/assets/reuse_label.spec.ts/reuse widget label -- reuses a widget label for different widget types (failed).png (1280x720)

Shutting down (id=0)

  (Video)

  - Started processing:   Compressing to 32 CRF
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/reuse_label.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ reuse_label.spec.ts                       00:07        1        -        1        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:07        1        -        1        -        -  

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/selectbox.spec.ts
2019-11-08T03:04:10Z.797 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/selectbox.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (selectbox.spec.ts)                                                        │
  │ Searched:   ../e2e/specs/selectbox.spec.ts                                                     │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: selectbox.spec.ts...                                                            (1 of 1) 


  st.selectbox
2019-11-08T03:04:20Z.396 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.66ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f4146b3c450>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ shows widget correctly (3752ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:04:23Z.642 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.58ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f4146b4b590>
Watcher created for /home/circleci/repo/e2e/scripts/selectbox.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    1) has correct initial values
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:04:28Z.175 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.48ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f4146b4e8d0>
Watcher created for /home/circleci/repo/e2e/scripts/selectbox.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ formats display values (637ms)
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:04:28Z.889 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.43ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f4146b07bd0>
Watcher created for /home/circleci/repo/e2e/scripts/selectbox.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ handles no options (840ms)
Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:04:29Z.716 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.65ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f4146b116d0>
Watcher created for /home/circleci/repo/e2e/scripts/selectbox.py
ReportSession initialized (id=4)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-3345806416100798275"
    int_value: 1
  }
  widgets {
    id: "-6673513264087809087"
    int_value: 1
  }
  widgets {
    id: "6474100891727067402"
    int_value: 0
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-3345806416100798275"
  int_value: 1
}
widgets {
  id: "-6673513264087809087"
  int_value: 1
}
widgets {
  id: "6474100891727067402"
  int_value: 0
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    2) sets value correctly when user clicks


  3 passing (17s)
  2 failing

  1) st.selectbox
       has correct initial values:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  2) st.selectbox
       sets value correctly when user clicks:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_042.json


  (Results)

  ┌─────────────────────────────────┐
  │ Tests:        5                 │
  │ Passing:      3                 │
  │ Failing:      2                 │
  │ Pending:      0                 │
  │ Skipped:      0                 │
  │ Screenshots:  5                 │
  │ Video:        true              │
  │ Duration:     16 seconds        │
  │ Spec Ran:     selectbox.spec.ts │
  └─────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/selectbox.spec.ts/selectbox0.snap.png (698x79)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/selectbox.spec.ts/selectbox1.snap.png (698x79)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/selectbox.spec.ts/selectbox2.snap.png (698x79)
  - /home/circleci/repo/frontend/mochawesome-report/assets/selectbox.spec.ts/st.selectbox -- has correct initial values (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/selectbox.spec.ts/st.selectbox -- sets value correctly when user clicks (failed).png (1280x720)

Shutting down (id=4)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/selectbox.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ selectbox.spec.ts                         00:16        5        3        2        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:16        5        3        2        -        -  

error Command failed with exit code 2.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/sidebar.spec.ts
2019-11-08T03:04:37Z.855 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/sidebar.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (sidebar.spec.ts)                                                          │
  │ Searched:   ../e2e/specs/sidebar.spec.ts                                                       │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: sidebar.spec.ts...                                                              (1 of 1) 


  st.sidebar
2019-11-08T03:04:46Z.737 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.68ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f6900d281d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ handles z-index of date input popover (2816ms)
    ✓ handles overwriting elements


  2 passing (4s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_043.json


  (Results)

  ┌───────────────────────────────┐
  │ Tests:        2               │
  │ Passing:      2               │
  │ Failing:      0               │
  │ Pending:      0               │
  │ Skipped:      0               │
  │ Screenshots:  1               │
  │ Video:        true            │
  │ Duration:     3 seconds       │
  │ Spec Ran:     sidebar.spec.ts │
  └───────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/sidebar.spec.ts/date-popover-sidebar.snap.png (336x720)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/sidebar.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ sidebar.spec.ts                           00:03        2        2        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        2        2        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/slider.spec.ts
2019-11-08T03:04:51Z.496 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/slider.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (slider.spec.ts)                                                           │
  │ Searched:   ../e2e/specs/slider.spec.ts                                                        │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: slider.spec.ts...                                                               (1 of 1) 


  st.slider
2019-11-08T03:05:00Z.646 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.63ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f1d58de0110>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ shows labels (1914ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:05:01Z.947 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.48ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f1d58de0b50>
Watcher created for /home/circleci/repo/e2e/scripts/slider.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    1) has correct values
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:05:06Z.503 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.42ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f1d58df0690>
Watcher created for /home/circleci/repo/e2e/scripts/slider.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-4802674019482546822"
    float_array_value {
      value: 25.0
      value: 75.0
    }
  }
  widgets {
    id: "-6201805635618122683"
    float_array_value {
      value: 50.0
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-4802674019482546822"
  float_array_value {
    value: 25.0
    value: 75.0
  }
}
widgets {
  id: "-6201805635618122683"
  float_array_value {
    value: 50.0
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    2) handles value changes
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:05:11Z.453 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.44ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f1d58df0c90>
Watcher created for /home/circleci/repo/e2e/scripts/slider.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-4802674019482546822"
    float_array_value {
      value: 25.0
      value: 75.0
    }
  }
  widgets {
    id: "-6201805635618122683"
    float_array_value {
      value: 26.0
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-4802674019482546822"
  float_array_value {
    value: 25.0
    value: 75.0
  }
}
widgets {
  id: "-6201805635618122683"
  float_array_value {
    value: 26.0
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    3) increments the value on right arrow key press
Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:05:16Z.603 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.58ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f1d58e02810>
Watcher created for /home/circleci/repo/e2e/scripts/slider.py
ReportSession initialized (id=4)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "-4802674019482546822"
    float_array_value {
      value: 25.0
      value: 75.0
    }
  }
  widgets {
    id: "-6201805635618122683"
    float_array_value {
      value: 24.0
    }
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "-4802674019482546822"
  float_array_value {
    value: 25.0
    value: 75.0
  }
}
widgets {
  id: "-6201805635618122683"
  float_array_value {
    value: 24.0
  }
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    4) decrements the value on left arrow key press


  1 passing (23s)
  4 failing

  1) st.slider
       has correct values:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  2) st.slider
       handles value changes:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  3) st.slider
       increments the value on right arrow key press:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  4) st.slider
       decrements the value on left arrow key press:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_044.json


  (Results)

  ┌──────────────────────────────┐
  │ Tests:        5              │
  │ Passing:      1              │
  │ Failing:      4              │
  │ Pending:      0              │
  │ Skipped:      0              │
  │ Screenshots:  4              │
  │ Video:        true           │
  │ Duration:     23 seconds     │
  │ Spec Ran:     slider.spec.ts │
  └──────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/mochawesome-report/assets/slider.spec.ts/st.slider -- has correct values (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/slider.spec.ts/st.slider -- handles value changes (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/slider.spec.ts/st.slider -- increments the value on right arrow key press (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/slider.spec.ts/st.slider -- decrements the value on left arrow key press (failed).png (1280x720)

Shutting down (id=4)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/slider.spec.ts.mp4 (2 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ slider.spec.ts                            00:23        5        1        4        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:23        5        1        4        -        -  

error Command failed with exit code 4.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/st_in_cache_warning.spec.ts
2019-11-08T03:05:25Z.931 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/st_in_cache_warning.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Hashing arguments to cached_write of 271 bytes.
Hashing function cached_write in 317 bytes.
Cache key: 872ec281cd86d7676f78944f5a088802
Memory cache MISS: 872ec281cd86d7676f78944f5a088802
Hashing arguments to cached_widget of 253 bytes.
Hashing function cached_widget in 622 bytes.
Cache key: 30912024ad73f900391b113a6e49312b
Memory cache MISS: 30912024ad73f900391b113a6e49312b
Hashing arguments to cached_write_nowarn of 253 bytes.
Hashing function cached_write_nowarn in 317 bytes.
Cache key: dc40386d47940964759ec34f4d601e3d
Memory cache MISS: dc40386d47940964759ec34f4d601e3d
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (st_in_cache_warning.spec.ts)                                              │
  │ Searched:   ../e2e/specs/st_in_cache_warning.spec.ts                                           │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: st_in_cache_warning.spec.ts...                                                  (1 of 1) 


  st calls within cached functions
2019-11-08T03:05:35Z.434 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.63ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f57be2b2410>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays expected results (1962ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_045.json


  (Results)

  ┌───────────────────────────────────────────┐
  │ Tests:        1                           │
  │ Passing:      1                           │
  │ Failing:      0                           │
  │ Pending:      0                           │
  │ Skipped:      0                           │
  │ Screenshots:  0                           │
  │ Video:        true                        │
  │ Duration:     3 seconds                   │
  │ Spec Ran:     st_in_cache_warning.spec.ts │
  └───────────────────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/st_in_cache_warning.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ st_in_cache_warning.spec.ts               00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/st_json.spec.ts
2019-11-08T03:05:38Z.941 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/st_json.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (st_json.spec.ts)                                                          │
  │ Searched:   ../e2e/specs/st_json.spec.ts                                                       │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: st_json.spec.ts...                                                              (1 of 1) 


  st.json
2019-11-08T03:05:48Z.080 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.78ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7feb189712d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a json (1633ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_046.json


  (Results)

  ┌───────────────────────────────┐
  │ Tests:        1               │
  │ Passing:      1               │
  │ Failing:      0               │
  │ Pending:      0               │
  │ Skipped:      0               │
  │ Screenshots:  0               │
  │ Video:        true            │
  │ Duration:     2 seconds       │
  │ Spec Ran:     st_json.spec.ts │
  └───────────────────────────────┘

Shutting down (id=0)

  (Video)

  - Started processing:   Compressing to 32 CRF
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/st_json.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ st_json.spec.ts                           00:02        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:02        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/subheader.spec.ts
2019-11-08T03:05:51Z.011 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/subheader.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (subheader.spec.ts)                                                        │
  │ Searched:   ../e2e/specs/subheader.spec.ts                                                     │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: subheader.spec.ts...                                                            (1 of 1) 


  st.subheader
2019-11-08T03:06:00Z.220 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.89ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fbe44e1d3d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a subheader (1647ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_047.json


  (Results)

  ┌─────────────────────────────────┐
  │ Tests:        1                 │
  │ Passing:      1                 │
  │ Failing:      0                 │
  │ Pending:      0                 │
  │ Skipped:      0                 │
  │ Screenshots:  0                 │
  │ Video:        true              │
  │ Duration:     2 seconds         │
  │ Spec Ran:     subheader.spec.ts │
  └─────────────────────────────────┘

Shutting down (id=0)

  (Video)

  - Started processing:   Compressing to 32 CRF
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/subheader.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ subheader.spec.ts                         00:02        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:02        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/success.spec.ts
2019-11-08T03:06:03Z.174 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/success.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (success.spec.ts)                                                          │
  │ Searched:   ../e2e/specs/success.spec.ts                                                       │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: success.spec.ts...                                                              (1 of 1) 


  st.success
2019-11-08T03:06:12Z.041 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.63ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f5cd654b050>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    1) displays a success message


  0 passing (7s)
  1 failing

  1) st.success
       displays a success message:
     CypressError: Timed out retrying: Expected to find element: '.element-container .stMarkdown', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_048.json


  (Results)

  ┌───────────────────────────────┐
  │ Tests:        1               │
  │ Passing:      0               │
  │ Failing:      1               │
  │ Pending:      0               │
  │ Skipped:      0               │
  │ Screenshots:  1               │
  │ Video:        true            │
  │ Duration:     7 seconds       │
  │ Spec Ran:     success.spec.ts │
  └───────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/mochawesome-report/assets/success.spec.ts/st.success -- displays a success message (failed).png (1280x720)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/success.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ success.spec.ts                           00:07        1        -        1        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:07        1        -        1        -        -  

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/table.spec.ts
2019-11-08T03:06:19Z.417 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/table.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (table.spec.ts)                                                            │
  │ Searched:   ../e2e/specs/table.spec.ts                                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: table.spec.ts...                                                                (1 of 1) 


  st.table
2019-11-08T03:06:28Z.561 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.64ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fa828d224d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a table (2096ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:06:30Z.091 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.58ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fa828cc7b10>
Watcher created for /home/circleci/repo/e2e/scripts/table.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ checks number of rows (1518ms)
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:06:30Z.897 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.55ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fa828cfea10>
Watcher created for /home/circleci/repo/e2e/scripts/table.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ checks number of cells (929ms)
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:06:31Z.893 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.65ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fa828cfef90>
Watcher created for /home/circleci/repo/e2e/scripts/table.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ contains all numbers from 0..99 (1374ms)
Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:06:33Z.235 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.56ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fa82865bad0>
Watcher created for /home/circleci/repo/e2e/scripts/table.py
ReportSession initialized (id=4)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    ✓ looks the same (824ms)


  5 passing (8s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_049.json


  (Results)

  ┌─────────────────────────────┐
  │ Tests:        5             │
  │ Passing:      5             │
  │ Failing:      0             │
  │ Pending:      0             │
  │ Skipped:      0             │
  │ Screenshots:  0             │
  │ Video:        true          │
  │ Duration:     7 seconds     │
  │ Spec Ran:     table.spec.ts │
  └─────────────────────────────┘

Shutting down (id=4)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/table.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ table.spec.ts                             00:07        5        5        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:07        5        5        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/table_styling.spec.ts
2019-11-08T03:06:36Z.884 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/table_styling.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000

Loaded backend agg version unknown.
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (table_styling.spec.ts)                                                    │
  │ Searched:   ../e2e/specs/table_styling.spec.ts                                                 │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: table_styling.spec.ts...                                                        (1 of 1) 


  st.table styling
2019-11-08T03:06:45Z.655 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.63ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7faeb9f4de90>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays unstyled table (2463ms)
    ✓ displays table with custom formatted cells (692ms)
    ✓ displays table with colored cells (759ms)
    ✓ displays table with differently styled rows (807ms)


  4 passing (6s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_050.json


  (Results)

  ┌─────────────────────────────────────┐
  │ Tests:        4                     │
  │ Passing:      4                     │
  │ Failing:      0                     │
  │ Pending:      0                     │
  │ Skipped:      0                     │
  │ Screenshots:  4                     │
  │ Video:        true                  │
  │ Duration:     5 seconds             │
  │ Spec Ran:     table_styling.spec.ts │
  └─────────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/table_styling.spec.ts/table-unstyled.snap.png (698x279)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/table_styling.spec.ts/table-formatted-cells.snap.png (698x279)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/table_styling.spec.ts/table-colored-cells.snap.png (698x279)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/table_styling.spec.ts/table-styled-rows.snap.png (698x484)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/table_styling.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ table_styling.spec.ts                     00:05        4        4        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:05        4        4        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/text.spec.ts
2019-11-08T03:06:51Z.885 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/text.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (text.spec.ts)                                                             │
  │ Searched:   ../e2e/specs/text.spec.ts                                                          │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: text.spec.ts...                                                                 (1 of 1) 


  st.text
2019-11-08T03:07:01Z.648 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.72ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f9653fc8190>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a text (1785ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_051.json


  (Results)

  ┌────────────────────────────┐
  │ Tests:        1            │
  │ Passing:      1            │
  │ Failing:      0            │
  │ Pending:      0            │
  │ Skipped:      0            │
  │ Screenshots:  0            │
  │ Video:        true         │
  │ Duration:     3 seconds    │
  │ Spec Ran:     text.spec.ts │
  └────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/text.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ text.spec.ts                              00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/text_area.spec.ts
2019-11-08T03:07:04Z.860 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/text_area.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (text_area.spec.ts)                                                        │
  │ Searched:   ../e2e/specs/text_area.spec.ts                                                     │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: text_area.spec.ts...                                                            (1 of 1) 


  st.text_area
2019-11-08T03:07:14Z.351 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.63ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7ffad498d4d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ shows widget correctly (4516ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:07:18Z.284 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.43ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7ffad498dc10>
Watcher created for /home/circleci/repo/e2e/scripts/text_area.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    1) has correct default values
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:07:22Z.859 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.45ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7ffad499cb10>
Watcher created for /home/circleci/repo/e2e/scripts/text_area.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    2) sets value correctly when user types
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:07:27Z.929 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.57ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7ffad49ab5d0>
Watcher created for /home/circleci/repo/e2e/scripts/text_area.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "1286482481253320869"
    string_value: "test area"
  }
  widgets {
    id: "4642287916460189996"
    string_value: "default text"
  }
  widgets {
    id: "-6816690643975839333"
    string_value: "1234"
  }
  widgets {
    id: "8788465053790005978"
    string_value: "None"
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "1286482481253320869"
  string_value: "test area"
}
widgets {
  id: "4642287916460189996"
  string_value: "default text"
}
widgets {
  id: "-6816690643975839333"
  string_value: "1234"
}
widgets {
  id: "8788465053790005978"
  string_value: "None"
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    3) sets value correctly on ctrl-enter keypress
Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:07:33Z.099 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.43ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7ffad49b9650>
Watcher created for /home/circleci/repo/e2e/scripts/text_area.py
ReportSession initialized (id=4)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "1286482481253320869"
    string_value: "test area"
  }
  widgets {
    id: "4642287916460189996"
    string_value: "default text"
  }
  widgets {
    id: "-6816690643975839333"
    string_value: "1234"
  }
  widgets {
    id: "8788465053790005978"
    string_value: "None"
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "1286482481253320869"
  string_value: "test area"
}
widgets {
  id: "4642287916460189996"
  string_value: "default text"
}
widgets {
  id: "-6816690643975839333"
  string_value: "1234"
}
widgets {
  id: "8788465053790005978"
  string_value: "None"
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    4) sets value correctly on command-enter keypress
Shutting down (id=4)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:07:38Z.090 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.42ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7ffad49b9490>
Watcher created for /home/circleci/repo/e2e/scripts/text_area.py
ReportSession initialized (id=5)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "1286482481253320869"
    string_value: "test area"
  }
  widgets {
    id: "4642287916460189996"
    string_value: "default text"
  }
  widgets {
    id: "-6816690643975839333"
    string_value: "1234"
  }
  widgets {
    id: "8788465053790005978"
    string_value: "None"
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "1286482481253320869"
  string_value: "test area"
}
widgets {
  id: "4642287916460189996"
  string_value: "default text"
}
widgets {
  id: "-6816690643975839333"
  string_value: "1234"
}
widgets {
  id: "8788465053790005978"
  string_value: "None"
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    5) sets value correctly on blur


  1 passing (31s)
  5 failing

  1) st.text_area
       has correct default values:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  2) st.text_area
       sets value correctly when user types:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  3) st.text_area
       sets value correctly on ctrl-enter keypress:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  4) st.text_area
       sets value correctly on command-enter keypress:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  5) st.text_area
       sets value correctly on blur:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_052.json


  (Results)

  ┌─────────────────────────────────┐
  │ Tests:        6                 │
  │ Passing:      1                 │
  │ Failing:      5                 │
  │ Pending:      0                 │
  │ Skipped:      0                 │
  │ Screenshots:  9                 │
  │ Video:        true              │
  │ Duration:     31 seconds        │
  │ Spec Ran:     text_area.spec.ts │
  └─────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/text_area.spec.ts/text_area0.snap.png (698x129)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/text_area.spec.ts/text_area1.snap.png (698x129)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/text_area.spec.ts/text_area2.snap.png (698x129)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/text_area.spec.ts/text_area3.snap.png (698x129)
  - /home/circleci/repo/frontend/mochawesome-report/assets/text_area.spec.ts/st.text_area -- has correct default values (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/text_area.spec.ts/st.text_area -- sets value correctly when user types (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/text_area.spec.ts/st.text_area -- sets value correctly on ctrl-enter keypress (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/text_area.spec.ts/st.text_area -- sets value correctly on command-enter keypress (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/text_area.spec.ts/st.text_area -- sets value correctly on blur (failed).png (1280x720)

Shutting down (id=5)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/text_area.spec.ts.mp4 (1 second)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ text_area.spec.ts                         00:31        6        1        5        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:31        6        1        5        -        -  

error Command failed with exit code 5.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/text_input.spec.ts
2019-11-08T03:07:46Z.736 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/text_input.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (text_input.spec.ts)                                                       │
  │ Searched:   ../e2e/specs/text_input.spec.ts                                                    │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: text_input.spec.ts...                                                           (1 of 1) 


  st.text_input
2019-11-08T03:07:55Z.947 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.58ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f9463848190>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ shows widget correctly (4326ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:07:59Z.643 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.48ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f9463848750>
Watcher created for /home/circleci/repo/e2e/scripts/text_input.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    1) has correct default values
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:08:04Z.149 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.43ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f9463858790>
Watcher created for /home/circleci/repo/e2e/scripts/text_input.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    2) sets value correctly when user types
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:08:09Z.310 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.58ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f9463867350>
Watcher created for /home/circleci/repo/e2e/scripts/text_input.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "1267434575950887171"
    string_value: "test input"
  }
  widgets {
    id: "-4824868582461159517"
    string_value: "default text"
  }
  widgets {
    id: "4252449645285044194"
    string_value: "1234"
  }
  widgets {
    id: "206330686349163571"
    string_value: "None"
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "1267434575950887171"
  string_value: "test input"
}
widgets {
  id: "-4824868582461159517"
  string_value: "default text"
}
widgets {
  id: "4252449645285044194"
  string_value: "1234"
}
widgets {
  id: "206330686349163571"
  string_value: "None"
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    3) sets value correctly on enter keypress
Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:08:14Z.300 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.42ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f9463873990>
Watcher created for /home/circleci/repo/e2e/scripts/text_input.py
ReportSession initialized (id=4)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "1267434575950887171"
    string_value: "test input"
  }
  widgets {
    id: "-4824868582461159517"
    string_value: "default text"
  }
  widgets {
    id: "4252449645285044194"
    string_value: "1234"
  }
  widgets {
    id: "206330686349163571"
    string_value: "None"
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "1267434575950887171"
  string_value: "test input"
}
widgets {
  id: "-4824868582461159517"
  string_value: "default text"
}
widgets {
  id: "4252449645285044194"
  string_value: "1234"
}
widgets {
  id: "206330686349163571"
  string_value: "None"
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    4) sets value correctly on blur


  1 passing (26s)
  4 failing

  1) st.text_input
       has correct default values:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  2) st.text_input
       sets value correctly when user types:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  3) st.text_input
       sets value correctly on enter keypress:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  4) st.text_input
       sets value correctly on blur:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_053.json


  (Results)

  ┌──────────────────────────────────┐
  │ Tests:        5                  │
  │ Passing:      1                  │
  │ Failing:      4                  │
  │ Pending:      0                  │
  │ Skipped:      0                  │
  │ Screenshots:  8                  │
  │ Video:        true               │
  │ Duration:     25 seconds         │
  │ Spec Ran:     text_input.spec.ts │
  └──────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/text_input.spec.ts/text_input0.snap.png (698x79)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/text_input.spec.ts/text_input1.snap.png (698x79)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/text_input.spec.ts/text_input2.snap.png (698x79)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/text_input.spec.ts/text_input3.snap.png (698x79)
  - /home/circleci/repo/frontend/mochawesome-report/assets/text_input.spec.ts/st.text_input -- has correct default values (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/text_input.spec.ts/st.text_input -- sets value correctly when user types (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/text_input.spec.ts/st.text_input -- sets value correctly on enter keypress (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/text_input.spec.ts/st.text_input -- sets value correctly on blur (failed).png (1280x720)

Shutting down (id=4)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/text_input.spec.ts.mp4 (1 second)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ text_input.spec.ts                        00:25        5        1        4        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:25        5        1        4        -        -  

error Command failed with exit code 4.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/time_input.spec.ts
2019-11-08T03:08:22Z.591 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/time_input.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (time_input.spec.ts)                                                       │
  │ Searched:   ../e2e/specs/time_input.spec.ts                                                    │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: time_input.spec.ts...                                                           (1 of 1) 


  st.time_input
2019-11-08T03:08:31Z.403 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.71ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f89963d3610>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ shows labels (1824ms)
Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:08:32Z.577 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.44ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f8996a43f50>
Watcher created for /home/circleci/repo/e2e/scripts/time_input.py
ReportSession initialized (id=1)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    1) has correct values
Shutting down (id=1)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:08:37Z.134 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.49ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f89963e05d0>
Watcher created for /home/circleci/repo/e2e/scripts/time_input.py
ReportSession initialized (id=2)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "6446457503513394605"
    string_value: "00:00"
  }
  widgets {
    id: "8292421347161755868"
    string_value: "21:15"
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "6446457503513394605"
  string_value: "00:00"
}
widgets {
  id: "8292421347161755868"
  string_value: "21:15"
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    2) handles value changes
Shutting down (id=2)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED
2019-11-08T03:08:42Z.399 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.48ms
Creating new context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f89963e0310>
Watcher created for /home/circleci/repo/e2e/scripts/time_input.py
ReportSession initialized (id=3)
Server state: State.NO_BROWSERS_CONNECTED -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Received the following back message:
update_widgets {
}

Beginning script thread
Running script RerunData(widget_state=)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
  widgets {
    id: "6446457503513394605"
    string_value: "01:11"
  }
  widgets {
    id: "8292421347161755868"
    string_value: "21:15"
  }
}

Beginning script thread
Running script RerunData(widget_state=widgets {
  id: "6446457503513394605"
  string_value: "01:11"
}
widgets {
  id: "8292421347161755868"
  string_value: "21:15"
}
)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Report finished successfully; removing expired entries from MessageCache (max_age=2)
    3) allows creatable values


  1 passing (18s)
  3 failing

  1) st.time_input
       has correct values:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  2) st.time_input
       handles value changes:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>

  3) st.time_input
       allows creatable values:
     CypressError: Timed out retrying: Expected to find element: '.stText', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_054.json


  (Results)

  ┌──────────────────────────────────┐
  │ Tests:        4                  │
  │ Passing:      1                  │
  │ Failing:      3                  │
  │ Pending:      0                  │
  │ Skipped:      0                  │
  │ Screenshots:  3                  │
  │ Video:        true               │
  │ Duration:     18 seconds         │
  │ Spec Ran:     time_input.spec.ts │
  └──────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/mochawesome-report/assets/time_input.spec.ts/st.time_input -- has correct values (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/time_input.spec.ts/st.time_input -- handles value changes (failed).png (1280x720)
  - /home/circleci/repo/frontend/mochawesome-report/assets/time_input.spec.ts/st.time_input -- allows creatable values (failed).png (1280x720)

Shutting down (id=3)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/time_input.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ time_input.spec.ts                        00:18        4        1        3        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:18        4        1        3        -        -  

error Command failed with exit code 3.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/title.spec.ts
2019-11-08T03:08:50Z.722 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/title.py
ReportSession initialized (id=0)
Beginning script thread
Running script RerunData(widget_state=None)
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (title.spec.ts)                                                            │
  │ Searched:   ../e2e/specs/title.spec.ts                                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: title.spec.ts...                                                                (1 of 1) 


  st.title
2019-11-08T03:08:59Z.846 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.65ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fd86f89f550>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a title (1595ms)


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_055.json


  (Results)

  ┌─────────────────────────────┐
  │ Tests:        1             │
  │ Passing:      1             │
  │ Failing:      0             │
  │ Pending:      0             │
  │ Skipped:      0             │
  │ Screenshots:  0             │
  │ Video:        true          │
  │ Duration:     2 seconds     │
  │ Spec Ran:     title.spec.ts │
  └─────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/title.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ title.spec.ts                             00:02        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:02        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/vega_lite_chart.spec.ts
2019-11-08T03:09:02Z.718 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/vega_lite_chart.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (vega_lite_chart.spec.ts)                                                  │
  │ Searched:   ../e2e/specs/vega_lite_chart.spec.ts                                               │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: vega_lite_chart.spec.ts...                                                      (1 of 1) 


  st.vega_lite_chart
2019-11-08T03:09:11Z.821 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.60ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f249bb89cd0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays charts on the DOM (2587ms)
    ✓ sets the correct chart width (95ms)
    ✓ supports different ways to get the same plot (2510ms)


  3 passing (6s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_056.json


  (Results)

  ┌───────────────────────────────────────┐
  │ Tests:        3                       │
  │ Passing:      3                       │
  │ Failing:      0                       │
  │ Pending:      0                       │
  │ Skipped:      0                       │
  │ Screenshots:  4                       │
  │ Video:        true                    │
  │ Duration:     6 seconds               │
  │ Spec Ran:     vega_lite_chart.spec.ts │
  └───────────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/vega_lite_chart.spec.ts/st.vega_lite_chart -- supports different ways to get the same plot.snap.png (698x207)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/vega_lite_chart.spec.ts/st.vega_lite_chart -- supports different ways to get the same plot.snap.png (698x207)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/vega_lite_chart.spec.ts/st.vega_lite_chart -- supports different ways to get the same plot.snap.png (698x207)
  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/vega_lite_chart.spec.ts/st.vega_lite_chart -- supports different ways to get the same plot.snap.png (698x207)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/vega_lite_chart.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ vega_lite_chart.spec.ts                   00:06        3        3        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:06        3        3        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/vega_update.spec.ts
2019-11-08T03:09:18Z.662 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/vega_update.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000

OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (vega_update.spec.ts)                                                      │
  │ Searched:   ../e2e/specs/vega_update.spec.ts                                                   │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: vega_update.spec.ts...                                                          (1 of 1) 


  add lots of data to vega chart
2019-11-08T03:09:27Z.375 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.74ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f5d883edf50>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Caching message (hash=a148ca32c3159c2ef8fefb21138df177)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    1) updates the x-axis values


  0 passing (4s)
  1 failing

  1) add lots of data to vega chart
       updates the x-axis values:
     Error: Image was 4.562379746134574% different from saved snapshot with 6592 different pixels.
See diff for details: /home/circleci/repo/frontend/cypress/snapshots/linux/2x/vega_update.spec.ts/__diff_output__/vega-updates-x-axis-values.diff.png
      at Context.cy.task.then (http://localhost:3000/__cypress/tests?p=cypress/support/index.js-550:2429:17)



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_057.json


  (Results)

  ┌───────────────────────────────────┐
  │ Tests:        1                   │
  │ Passing:      0                   │
  │ Failing:      1                   │
  │ Pending:      0                   │
  │ Skipped:      0                   │
  │ Screenshots:  2                   │
  │ Video:        true                │
  │ Duration:     4 seconds           │
  │ Spec Ran:     vega_update.spec.ts │
  └───────────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/cypress/snapshots/linux/2x/vega_update.spec.ts/__diff_output__/vega-updates-x-axis-values.diff.png (698x207)
  - /home/circleci/repo/frontend/mochawesome-report/assets/vega_update.spec.ts/add lots of data to vega chart -- updates the x-axis values (failed).png (1280x720)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/vega_update.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ vega_update.spec.ts                       00:04        1        -        1        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:04        1        -        1        -        -  

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/video.spec.ts
2019-11-08T03:09:32Z.010 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/video.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
Starting new HTTP connection (1): checkip.amazonaws.com:80
Starting new HTTPS connection (1): www.w3schools.com:443
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000

https://www.w3schools.com:443 "GET /html/mov_bbb.mp4 HTTP/1.1" 200 788493
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (video.spec.ts)                                                            │
  │ Searched:   ../e2e/specs/video.spec.ts                                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: video.spec.ts...                                                                (1 of 1) 


  st.video
2019-11-08T03:09:40Z.936 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.74ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7ff146a22e10>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Caching message (hash=db7df82b2ae5f8e455df5e1153a5174a)
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays a video player (2034ms)
ALSA lib confmisc.c:767:(parse_card) cannot find card '0'
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_card_driver returned error: No such file or directory
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_concat returned error: No such file or directory
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory
ALSA lib conf.c:5007:(snd_config_expand) Evaluate error: No such file or directory
ALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM default
ALSA lib confmisc.c:767:(parse_card) cannot find card '0'
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_card_driver returned error: No such file or directory
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_concat returned error: No such file or directory
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory
ALSA lib conf.c:5007:(snd_config_expand) Evaluate error: No such file or directory
ALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM default


  1 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_058.json


  (Results)

  ┌─────────────────────────────┐
  │ Tests:        1             │
  │ Passing:      1             │
  │ Failing:      0             │
  │ Pending:      0             │
  │ Skipped:      0             │
  │ Screenshots:  0             │
  │ Video:        true          │
  │ Duration:     3 seconds     │
  │ Spec Ran:     video.spec.ts │
  └─────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/video.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ video.spec.ts                             00:03        1        1        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        1        1        -        -        -  

$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/warning.spec.ts
2019-11-08T03:09:44Z.456 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/warning.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (warning.spec.ts)                                                          │
  │ Searched:   ../e2e/specs/warning.spec.ts                                                       │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: warning.spec.ts...                                                              (1 of 1) 


  st.warning
2019-11-08T03:09:54Z.258 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.63ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7fe0f030d0d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    1) displays a warning message


  0 passing (7s)
  1 failing

  1) st.warning
       displays a warning message:
     CypressError: Timed out retrying: Expected to find element: '.element-container .stMarkdown', but never found it.
      at Object.cypressErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85348:11)
      at Object.throwErr (http://localhost:3000/__cypress/runner/cypress_runner.js:85303:18)
      at Object.throwErrByPath (http://localhost:3000/__cypress/runner/cypress_runner.js:85335:17)
      at retry (http://localhost:3000/__cypress/runner/cypress_runner.js:77321:16)
      at onFailFn (http://localhost:3000/__cypress/runner/cypress_runner.js:68422:16)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:118962:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:116898:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:116955:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:117000:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:117075:18)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:113687:16)
      at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113697:10)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:113571:14)
      at <anonymous>



[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_059.json


  (Results)

  ┌───────────────────────────────┐
  │ Tests:        1               │
  │ Passing:      0               │
  │ Failing:      1               │
  │ Pending:      0               │
  │ Skipped:      0               │
  │ Screenshots:  1               │
  │ Video:        true            │
  │ Duration:     7 seconds       │
  │ Spec Ran:     warning.spec.ts │
  └───────────────────────────────┘


  (Screenshots)

  - /home/circleci/repo/frontend/mochawesome-report/assets/warning.spec.ts/st.warning -- displays a warning message (failed).png (1280x720)

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/warning.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖ warning.spec.ts                           00:07        1        -        1        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    1 of 1 failed (100%)                        00:07        1        -        1        -        -  

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
$ unset NODE_OPTIONS && cypress run --spec ../e2e/specs/write.spec.ts
2019-11-08T03:10:01Z.502 DEBUG   streamlit.logger: Initialized tornado logs
Setting up signal handler
Using selector: EpollSelector
Server state: None -> State.INITIAL
Starting server...
Serving static content from the Node dev server
Server started on port 8501
Creating new context for ws PREHEATED_REPORT_SESSION
No singleton. Registering one.
Watcher created for /home/circleci/repo/e2e/scripts/write.py
ReportSession initialized (id=0)
Beginning script thread
Server state: State.INITIAL -> State.WAITING_FOR_FIRST_BROWSER
Running script RerunData(widget_state=None)
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STARTED
New browser connection: gather_usage_stats=True, sharing_enabled=False, max_cached_message_age=2
OnScriptRunnerEvent: ScriptRunnerEvent.SCRIPT_STOPPED_WITH_SUCCESS
OnScriptRunnerEvent: ScriptRunnerEvent.SHUTDOWN
Starting new HTTP connection (1): checkip.amazonaws.com:80
http://checkip.amazonaws.com:80 "GET / HTTP/1.1" 200 11

  You can now view your Streamlit app in your browser.

  Network URL: http://172.23.0.3:3000
  External URL: http://3.81.41.13:3000


====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    3.4.1                                                                              │
  │ Browser:    Electron 61 (headless)                                                             │
  │ Specs:      1 found (write.spec.ts)                                                            │
  │ Searched:   ../e2e/specs/write.spec.ts                                                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running: write.spec.ts...                                                                (1 of 1) 


  st.write
2019-11-08T03:10:10Z.664 INFO    tornado.access: 101 GET /stream (127.0.0.1) 0.61ms
Reusing preheated context for ws <streamlit.server.Server._BrowserWebSocketHandler object at 0x7f552949e3d0>
Server state: State.WAITING_FOR_FIRST_BROWSER -> State.ONE_OR_MORE_BROWSERS_CONNECTED
Report finished successfully; removing expired entries from MessageCache (max_age=2)
Received the following back message:
update_widgets {
}

Skipping rerun since the preheated run is the same
    ✓ displays markdown (1648ms)
    ✓ escapes HTML (207ms)
    ✓ allows HTML if defined explicitly (39ms)


  3 passing (3s)

[mochawesome] Report JSON saved to /home/circleci/repo/frontend/cypress/mochawesome/mochawesome_060.json


  (Results)

  ┌─────────────────────────────┐
  │ Tests:        3             │
  │ Passing:      3             │
  │ Failing:      0             │
  │ Pending:      0             │
  │ Skipped:      0             │
  │ Screenshots:  0             │
  │ Video:        true          │
  │ Duration:     3 seconds     │
  │ Spec Ran:     write.spec.ts │
  └─────────────────────────────┘

Shutting down (id=0)
Server state: State.ONE_OR_MORE_BROWSERS_CONNECTED -> State.NO_BROWSERS_CONNECTED

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/circleci/repo/frontend/cypress/videos/write.spec.ts.mp4 (0 seconds)


====================================================================================================

  (Run Finished)


      Spec                                                Tests  Passing  Failing  Pending  Skipped 
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔ write.spec.ts                             00:03        3        3        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                           00:03        3        3        -        -        -  

../scripts/run_e2e_tests.sh: 71: cd: can't cd to frontend

✓ Reports saved:
/home/circleci/repo/frontend/mochawesome-report/mochawesome.html
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! streamlit-browser@0.49.0 cy:run-all: `../scripts/run_e2e_tests.sh -a true -c .. -r`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the streamlit-browser@0.49.0 cy:run-all script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/circleci/.npm/_logs/2019-11-08T03_10_16_806Z-debug.log
{ Error: Command failed: /bin/sh -c npm run cy:run-all
    at makeError (/home/circleci/repo/frontend/node_modules/start-server-and-test/node_modules/execa/index.js:174:9)
    at Promise.all.then.arr (/home/circleci/repo/frontend/node_modules/start-server-and-test/node_modules/execa/index.js:278:16)
    at process._tickCallback (internal/process/next_tick.js:68:7)
  code: 1,
  stdout: null,
  stderr: null,
  failed: true,
  signal: null,
  cmd: '/bin/sh -c npm run cy:run-all',
  timedOut: false,
  killed: false }
error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
Exited with code 1